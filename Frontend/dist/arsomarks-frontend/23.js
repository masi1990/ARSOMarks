"use strict";(self.webpackChunkarsomarks_frontend=self.webpackChunkarsomarks_frontend||[]).push([[23],{7023:(U,h,d)=>{d.r(h),d.d(h,{NsbProfileSetupModule:()=>M});var b=d(177),g=d(1377),l=d(9417),x=d(980),f=function(s){return s.NATIONAL_STANDARDS_ACT_DOCUMENT="NATIONAL_STANDARDS_ACT_DOCUMENT",s.NATIONAL_CONFORMITY_ASSESSMENT_POLICY_DOCUMENT="NATIONAL_CONFORMITY_ASSESSMENT_POLICY_DOCUMENT",s.NATIONAL_QUALITY_POLICY_DOCUMENT="NATIONAL_QUALITY_POLICY_DOCUMENT",s.ORGANIZATIONAL_CHART_DOCUMENT="ORGANIZATIONAL_CHART_DOCUMENT",s.OTHER="OTHER",s}(f||{}),_=d(9617),e=d(540),C=d(4183),v=d(5882),y=d(3571),k=d(3769);function N(s,c){if(1&s&&(e.j41(0,"div",10)(1,"p",11),e.EFF(2),e.k0s()()),2&s){const t=e.XpG();e.R7$(2),e.JRh(t.successMessage||"Profile saved successfully!")}}function F(s,c){if(1&s&&(e.j41(0,"div",12),e.EFF(1),e.k0s()),2&s){const t=e.XpG();e.R7$(1),e.SpI(" ",t.error," ")}}function A(s,c){1&s&&(e.j41(0,"div",13)(1,"p",14),e.EFF(2,"Loading..."),e.k0s()())}function S(s,c){if(1&s&&(e.j41(0,"div",73)(1,"div",74),e.EFF(2,"\u2713"),e.k0s(),e.j41(3,"div",75)(4,"p",76),e.EFF(5,"Uploaded"),e.k0s(),e.j41(6,"p",77),e.EFF(7),e.k0s()()()),2&s){const t=e.XpG().$implicit,o=e.XpG(2);let r,n;e.R7$(6),e.Y8G("title",o.getSelectedFileName(t.value)||(null==(r=o.getUploadedDocument(t.value))?null:r.fileName)),e.R7$(1),e.SpI(" ",o.getSelectedFileName(t.value)||(null==(n=o.getUploadedDocument(t.value))?null:n.fileName)," ")}}function T(s,c){if(1&s){const t=e.RV6();e.j41(0,"button",78),e.bIt("click",function(){e.eBV(t),e.XpG();const r=e.sdS(10);return e.Njj(r.click())}),e.EFF(1," Upload Document "),e.k0s()}}function E(s,c){if(1&s){const t=e.RV6();e.j41(0,"button",81),e.bIt("click",function(){e.eBV(t);const r=e.XpG(2).$implicit,n=e.XpG(2);let a;return e.Njj(n.viewDocument((null==(a=n.getUploadedDocument(r.value))?null:a.id)||""))}),e.EFF(1," View "),e.k0s()}}function O(s,c){if(1&s){const t=e.RV6();e.j41(0,"button",82),e.bIt("click",function(){e.eBV(t);const r=e.XpG(2).$implicit,n=e.sdS(10),a=e.XpG(2);let i;return e.Njj(a.removeDocument((null==(i=a.getUploadedDocument(r.value))?null:i.id)||"",r.value,n))}),e.EFF(1," Remove "),e.k0s()}}function D(s,c){if(1&s&&(e.qex(0),e.DNE(1,E,2,0,"button",79),e.DNE(2,O,2,0,"button",80),e.bVm()),2&s){const t=e.XpG().$implicit,o=e.XpG(2);let r,n;e.R7$(1),e.Y8G("ngIf",(null==(r=o.getUploadedDocument(t.value))?null:r.id)&&!o.selectedDocuments[t.value]),e.R7$(1),e.Y8G("ngIf",null==(n=o.getUploadedDocument(t.value))?null:n.id)}}function I(s,c){if(1&s){const t=e.RV6();e.j41(0,"div",63)(1,"div",64)(2,"div")(3,"label",65),e.EFF(4),e.k0s(),e.j41(5,"p",66),e.EFF(6,"Accepted formats: PDF, DOC, DOCX (Max 10MB)"),e.k0s(),e.DNE(7,S,8,2,"div",67),e.k0s(),e.j41(8,"div",68)(9,"input",69,70),e.bIt("change",function(r){const a=e.eBV(t).$implicit,i=e.XpG(2);return e.Njj(i.onDocumentSelected(r,a.value))}),e.k0s(),e.DNE(11,T,2,0,"button",71),e.DNE(12,D,3,2,"ng-container",72),e.k0s()()()}if(2&s){const t=c.$implicit,o=e.XpG(2);e.R7$(4),e.JRh(t.label),e.R7$(3),e.Y8G("ngIf",o.selectedDocuments[t.value]||o.getUploadedDocument(t.value)),e.R7$(2),e.Y8G("id",t.value),e.R7$(2),e.Y8G("ngIf",!o.selectedDocuments[t.value]&&!o.getUploadedDocument(t.value)),e.R7$(1),e.Y8G("ngIf",o.selectedDocuments[t.value]||o.getUploadedDocument(t.value))}}function R(s,c){if(1&s){const t=e.RV6();e.j41(0,"button",101),e.bIt("click",function(){e.eBV(t);const r=e.XpG().index,n=e.XpG().$implicit,a=e.XpG(2);return e.Njj(a.removeContact(n.type,r))}),e.EFF(1," Remove "),e.k0s()}}function w(s,c){if(1&s&&(e.j41(0,"div",89)(1,"div",90)(2,"span",91),e.EFF(3),e.k0s(),e.DNE(4,R,2,0,"button",92),e.k0s(),e.j41(5,"div",19)(6,"label",93),e.EFF(7,"Name "),e.j41(8,"span",94),e.EFF(9,"*"),e.k0s()(),e.nrm(10,"input",95),e.k0s(),e.j41(11,"div",19)(12,"label",93),e.EFF(13,"Email "),e.j41(14,"span",94),e.EFF(15,"*"),e.k0s()(),e.nrm(16,"input",96),e.k0s(),e.j41(17,"div",97)(18,"div",19)(19,"label",93),e.EFF(20,"Phone"),e.k0s(),e.nrm(21,"input",98),e.k0s(),e.j41(22,"div",19)(23,"label",93),e.EFF(24,"Mobile"),e.k0s(),e.nrm(25,"input",99),e.k0s()(),e.j41(26,"div",19)(27,"label",93),e.EFF(28,"Designation"),e.k0s(),e.nrm(29,"input",100),e.k0s()()),2&s){const t=c.index,o=e.XpG().$implicit,r=e.XpG(2);e.Y8G("formGroupName",t),e.R7$(3),e.SpI("Contact ",t+1,""),e.R7$(1),e.Y8G("ngIf",r.getFormArray(o.formArrayName).length>1)}}function P(s,c){if(1&s){const t=e.RV6();e.j41(0,"div",83)(1,"div",84)(2,"h3",85),e.EFF(3),e.k0s(),e.j41(4,"button",86),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(a.addContact(n.type))}),e.EFF(5," + Add Contact "),e.k0s()(),e.j41(6,"div",87),e.DNE(7,w,30,3,"div",88),e.k0s()()}if(2&s){const t=c.$implicit,o=e.XpG(2);e.R7$(3),e.JRh(t.label),e.R7$(3),e.Y8G("formArrayName",t.formArrayName),e.R7$(1),e.Y8G("ngForOf",o.getFormArray(t.formArrayName).controls)}}function j(s,c){if(1&s){const t=e.RV6();e.j41(0,"form",15)(1,"section",16)(2,"h2",17),e.EFF(3," Auto-populated from Registration Request "),e.k0s(),e.j41(4,"div",18)(5,"div",19)(6,"label",20),e.EFF(7,"Country Name"),e.k0s(),e.nrm(8,"input",21),e.k0s(),e.j41(9,"div",19)(10,"label",20),e.EFF(11,"NSB Official Name"),e.k0s(),e.nrm(12,"input",22),e.k0s(),e.j41(13,"div",19)(14,"label",20),e.EFF(15,"NSB Acronym"),e.k0s(),e.nrm(16,"input",23),e.k0s()()(),e.j41(17,"section",16)(18,"h2",17),e.EFF(19,"Official Address Details"),e.k0s(),e.j41(20,"div",19)(21,"label",24),e.EFF(22,"Headquarters Physical Address"),e.k0s(),e.nrm(23,"textarea",25),e.k0s(),e.j41(24,"div",19)(25,"label",26),e.EFF(26,"Mailing Address (if different)"),e.k0s(),e.nrm(27,"textarea",27),e.k0s(),e.j41(28,"div",19)(29,"label",28),e.EFF(30,"GPS Coordinates (optional)"),e.k0s(),e.nrm(31,"input",29),e.k0s(),e.j41(32,"div",19)(33,"label",30),e.EFF(34,"Regional Office Locations (if any)"),e.k0s(),e.nrm(35,"textarea",31),e.k0s()(),e.j41(36,"section",16)(37,"h2",17),e.EFF(38,"Organizational Structure"),e.k0s(),e.j41(39,"div",32)(40,"div",19)(41,"label",33),e.EFF(42,"Total Number of Staff"),e.k0s(),e.nrm(43,"input",34),e.k0s(),e.j41(44,"div",19)(45,"label",35),e.EFF(46,"Website URL"),e.k0s(),e.nrm(47,"input",36),e.k0s()(),e.j41(48,"div",19)(49,"label",37),e.EFF(50,"Key Departments/Divisions"),e.k0s(),e.nrm(51,"input",38),e.j41(52,"p",39),e.EFF(53,"Separate multiple departments with commas"),e.k0s()(),e.j41(54,"div",40)(55,"label",20),e.EFF(56,"Social Media Handles"),e.k0s(),e.j41(57,"div",41)(58,"div",19)(59,"label",42),e.EFF(60,"Twitter/X"),e.k0s(),e.nrm(61,"input",43),e.k0s(),e.j41(62,"div",19)(63,"label",44),e.EFF(64,"LinkedIn"),e.k0s(),e.nrm(65,"input",45),e.k0s(),e.j41(66,"div",19)(67,"label",46),e.EFF(68,"Facebook"),e.k0s(),e.nrm(69,"input",47),e.k0s()()()(),e.j41(70,"section",16)(71,"h2",17),e.EFF(72,"National Legal Framework"),e.k0s(),e.j41(73,"div",19)(74,"label",48),e.EFF(75,"Link to National Standards Act/Regulation"),e.k0s(),e.nrm(76,"input",49),e.j41(77,"p",39),e.EFF(78,"Or upload document below"),e.k0s()(),e.j41(79,"div",19)(80,"label",50),e.EFF(81,"Link to National Conformity Assessment Policy"),e.k0s(),e.nrm(82,"input",51),e.j41(83,"p",39),e.EFF(84,"Or upload document below"),e.k0s()(),e.j41(85,"div",19)(86,"label",52),e.EFF(87,"Link to National Quality Policy"),e.k0s(),e.nrm(88,"input",53),e.j41(89,"p",39),e.EFF(90,"Or upload document below"),e.k0s()(),e.j41(91,"div",54)(92,"p",55),e.EFF(93,"Upload Documents (Optional)"),e.k0s(),e.j41(94,"div",56),e.DNE(95,I,13,5,"div",57),e.k0s()()(),e.j41(96,"section",16)(97,"h2",17),e.EFF(98,"ACAP National Focal Points"),e.k0s(),e.j41(99,"div",32),e.DNE(100,P,8,3,"div",58),e.k0s()(),e.j41(101,"div",59)(102,"button",60),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.saveDraft())}),e.EFF(103),e.k0s(),e.j41(104,"button",61),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.onSubmit())}),e.EFF(105),e.k0s(),e.j41(106,"button",62),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.goToDashboard())}),e.EFF(107," Cancel "),e.k0s()()()}if(2&s){const t=e.XpG();e.Y8G("formGroup",t.form),e.R7$(95),e.Y8G("ngForOf",t.documentTypes),e.R7$(5),e.Y8G("ngForOf",t.focalPointTypes),e.R7$(2),e.Y8G("disabled",t.saving),e.R7$(1),e.SpI(" ",t.saving?"Saving...":"Save Draft"," "),e.R7$(1),e.Y8G("disabled",t.saving),e.R7$(1),e.SpI(" ",t.saving?"Saving...":"Save & Submit"," ")}}const L=[{path:"",component:(()=>{class s{constructor(t,o,r,n,a,i){this.fb=t,this.nsbService=o,this.countryService=r,this.requestService=n,this.router=a,this.authService=i,this.loading=!1,this.saving=!1,this.error="",this.success=!1,this.successMessage="",this.nsb=null,this.registrationRequest=null,this.countries=[],this.selectedDocuments={},this.uploadedDocuments=[],this.documentTypes=[{value:f.NATIONAL_STANDARDS_ACT_DOCUMENT,label:"National Standards Act/Regulation"},{value:f.NATIONAL_CONFORMITY_ASSESSMENT_POLICY_DOCUMENT,label:"National Conformity Assessment Policy"},{value:f.NATIONAL_QUALITY_POLICY_DOCUMENT,label:"National Quality Policy"}],this.focalPointTypes=[{type:"ACAP_COORDINATOR",label:"Designated ACAP Coordinator",formArrayName:"acapCoordinators"},{type:"MARKET_SURVEILLANCE_FOCAL_POINT",label:"Market Surveillance Focal Point",formArrayName:"marketSurveillanceContacts"},{type:"CUSTOMS_TRADE_FOCAL_POINT",label:"Customs/Trade Focal Point",formArrayName:"customsTradeContacts"},{type:"CONSUMER_AFFAIRS_FOCAL_POINT",label:"Consumer Affairs Focal Point",formArrayName:"consumerAffairsContacts"}],this.form=this.fb.group({countryId:[{value:"",disabled:!0}],countryName:[{value:"",disabled:!0}],name:[{value:"",disabled:!0}],shortName:[{value:"",disabled:!0}],headquartersAddress:[""],mailingAddress:[""],gpsCoordinates:[""],regionalOffices:[""],totalStaff:[null,[l.k0.min(0)]],keyDepartments:[""],websiteUrl:["",[l.k0.pattern(/^https?:\/\/.+/)]],socialMediaTwitter:[""],socialMediaLinkedIn:[""],socialMediaFacebook:[""],nationalStandardsActLink:[""],nationalConformityAssessmentPolicyLink:[""],nationalQualityPolicyLink:[""],acapCoordinators:this.fb.array([]),marketSurveillanceContacts:this.fb.array([]),customsTradeContacts:this.fb.array([]),consumerAffairsContacts:this.fb.array([])})}get acapCoordinators(){return this.form.get("acapCoordinators")}get marketSurveillanceContacts(){return this.form.get("marketSurveillanceContacts")}get customsTradeContacts(){return this.form.get("customsTradeContacts")}get consumerAffairsContacts(){return this.form.get("consumerAffairsContacts")}createContactFormGroup(t){return this.fb.group({id:[t?.id||""],name:[t?.name||"",l.k0.required],email:[t?.email||"",[l.k0.required,l.k0.email]],phone:[t?.phone||""],mobile:[t?.mobile||""],designation:[t?.designation||""]})}addContact(t){({ACAP_COORDINATOR:this.acapCoordinators,MARKET_SURVEILLANCE_FOCAL_POINT:this.marketSurveillanceContacts,CUSTOMS_TRADE_FOCAL_POINT:this.customsTradeContacts,CONSUMER_AFFAIRS_FOCAL_POINT:this.consumerAffairsContacts})[t].push(this.createContactFormGroup())}removeContact(t,o){({ACAP_COORDINATOR:this.acapCoordinators,MARKET_SURVEILLANCE_FOCAL_POINT:this.marketSurveillanceContacts,CUSTOMS_TRADE_FOCAL_POINT:this.customsTradeContacts,CONSUMER_AFFAIRS_FOCAL_POINT:this.consumerAffairsContacts})[t].removeAt(o)}onDocumentSelected(t,o){const r=t.target;if(r.files&&r.files[0]){const n=r.files[0];this.selectedDocuments[o]=n,this.nsb?.id?this.uploadDocument(o,n):this.error="Please save the profile first before uploading documents."}}uploadDocument(t,o){this.nsb?.id&&this.nsbService.uploadDocument(this.nsb.id,o,t).subscribe({next:r=>{this.loadDocuments(),delete this.selectedDocuments[t]},error:r=>{this.error=r.error?.message||"Failed to upload document. Please try again.",delete this.selectedDocuments[t]}})}removeDocument(t,o,r){this.nsb?.id&&this.nsbService.deleteDocument(this.nsb.id,t).subscribe({next:()=>{this.loadDocuments(),r&&(r.value="")},error:n=>{this.error=n.error?.message||"Failed to delete document. Please try again."}})}viewDocument(t){this.nsb?.id&&window.open(this.nsbService.viewDocument(this.nsb.id,t),"_blank")}loadDocuments(){this.nsb?.id&&this.nsbService.getDocuments(this.nsb.id).subscribe({next:t=>{this.uploadedDocuments=t},error:()=>{}})}getUploadedDocument(t){return this.uploadedDocuments.find(o=>o.documentType===t)}getSelectedFileName(t){return this.selectedDocuments[t]?.name||""}getFormArray(t){return this.form.get(t)}ngOnInit(){this.loadData(),this.loadCountries()}loadData(){this.loading=!0;const t=this.authService.currentUserValue;t?.countryId?this.requestService.getMyRequest(t.countryId).subscribe({next:o=>{this.registrationRequest=o,o?.status===_.i.APPROVED&&o.nsbId?this.loadNsb(o.nsbId):o?.status===_.i.APPROVED?(this.error="NSB profile not found. Please contact ARSO Secretariat.",this.loading=!1):(this.error="Your registration request has not been approved yet.",this.loading=!1)},error:()=>{this.error="No approved registration request found.",this.loading=!1}}):this.nsbService.getMyNsb().subscribe({next:o=>{this.nsb=o,this.loadNsbData(o),this.loading=!1},error:()=>{this.error="NSB profile not found.",this.loading=!1}})}loadNsb(t){this.nsbService.getNsbById(t).pipe((0,x.j)(()=>{this.loading=!1})).subscribe({next:o=>{this.nsb=o,this.loadNsbData(o)},error:()=>{this.error="Failed to load NSB profile."}})}loadNsbData(t){if(this.registrationRequest?this.form.patchValue({countryId:this.registrationRequest.countryId,countryName:this.registrationRequest.countryName,name:this.registrationRequest.nsbOfficialName,shortName:this.registrationRequest.nsbAcronym}):t&&this.form.patchValue({countryId:t.countryId,countryName:t.country?.name||"",name:t.name,shortName:t.shortName}),t){const o=t.locations?.find(n=>"HEADQUARTERS"===n.locationType),r=t.socialMediaHandles||{};this.form.patchValue({totalStaff:t.totalStaff,keyDepartments:t.keyDepartments?.join(", ")||"",websiteUrl:t.websiteUrl,socialMediaTwitter:r.twitter||"",socialMediaLinkedIn:r.linkedin||"",socialMediaFacebook:r.facebook||"",nationalStandardsActLink:t.nationalStandardsActLink||"",nationalConformityAssessmentPolicyLink:t.nationalConformityAssessmentPolicyLink||"",nationalQualityPolicyLink:t.nationalQualityPolicyLink}),o&&this.form.patchValue({headquartersAddress:o.addressLine1||"",mailingAddress:o.addressLine2||""}),this.loadFocalPointContacts(t),this.loadDocuments()}}loadFocalPointContacts(t){if(!t.contacts)return;for(;this.acapCoordinators.length;)this.acapCoordinators.removeAt(0);for(;this.marketSurveillanceContacts.length;)this.marketSurveillanceContacts.removeAt(0);for(;this.customsTradeContacts.length;)this.customsTradeContacts.removeAt(0);for(;this.consumerAffairsContacts.length;)this.consumerAffairsContacts.removeAt(0);const o=t.contacts.filter(i=>"ACAP_COORDINATOR"===i.contactType),r=t.contacts.filter(i=>"MARKET_SURVEILLANCE_FOCAL_POINT"===i.contactType),n=t.contacts.filter(i=>"CUSTOMS_TRADE_FOCAL_POINT"===i.contactType),a=t.contacts.filter(i=>"CONSUMER_AFFAIRS_FOCAL_POINT"===i.contactType);o.forEach(i=>{this.acapCoordinators.push(this.createContactFormGroup(i))}),r.forEach(i=>{this.marketSurveillanceContacts.push(this.createContactFormGroup(i))}),n.forEach(i=>{this.customsTradeContacts.push(this.createContactFormGroup(i))}),a.forEach(i=>{this.consumerAffairsContacts.push(this.createContactFormGroup(i))}),0===this.acapCoordinators.length&&this.acapCoordinators.push(this.createContactFormGroup()),0===this.marketSurveillanceContacts.length&&this.marketSurveillanceContacts.push(this.createContactFormGroup()),0===this.customsTradeContacts.length&&this.customsTradeContacts.push(this.createContactFormGroup()),0===this.consumerAffairsContacts.length&&this.consumerAffairsContacts.push(this.createContactFormGroup())}loadCountries(){this.countryService.getCountries().subscribe({next:t=>{this.countries=t},error:()=>{}})}saveDraft(){this.executeSave(!0)}onSubmit(){if(this.form.invalid)return this.form.markAllAsTouched(),void(this.error="Please fill in all required fields before completing the profile.");this.executeSave(!1)}executeSave(t){this.saving=!0,this.error="",this.success=!1;const o=this.form.getRawValue(),r=o.keyDepartments?o.keyDepartments.split(",").map(m=>m.trim()).filter(m=>m):[],n={};o.socialMediaTwitter&&(n.twitter=o.socialMediaTwitter),o.socialMediaLinkedIn&&(n.linkedin=o.socialMediaLinkedIn),o.socialMediaFacebook&&(n.facebook=o.socialMediaFacebook);const a=[],i=(m,p)=>{m.forEach(u=>{u.name&&a.push({id:u.id||void 0,contactType:p,name:u.name,email:u.email,phone:u.phone||void 0,mobile:u.mobile||void 0,designation:u.designation||void 0})})};i(o.acapCoordinators,"ACAP_COORDINATOR"),i(o.marketSurveillanceContacts,"MARKET_SURVEILLANCE_FOCAL_POINT"),i(o.customsTradeContacts,"CUSTOMS_TRADE_FOCAL_POINT"),i(o.consumerAffairsContacts,"CONSUMER_AFFAIRS_FOCAL_POINT");const G={websiteUrl:o.websiteUrl,socialMediaHandles:Object.keys(n).length>0?n:void 0,totalStaff:o.totalStaff?parseInt(o.totalStaff,10):void 0,keyDepartments:r.length>0?r:void 0,nationalStandardsActLink:o.nationalStandardsActLink,nationalConformityAssessmentPolicyLink:o.nationalConformityAssessmentPolicyLink,nationalQualityPolicyLink:o.nationalQualityPolicyLink,contacts:a.length>0?a:void 0};if(!this.nsb?.id)return this.error="NSB profile not found. Please contact ARSO Secretariat.",void(this.saving=!1);this.nsbService.updateNsb(this.nsb.id,G).pipe((0,x.j)(()=>{this.saving=!1})).subscribe({next:m=>{this.nsb=m,this.success=!0,this.successMessage=t?"Draft saved successfully.":"Profile saved and updated successfully.",this.loadDocuments(),Object.keys(this.selectedDocuments).forEach(p=>{const u=this.selectedDocuments[p];u&&this.nsb?.id&&this.uploadDocument(p,u)})},error:m=>{this.error=m.error?.message||"Failed to save profile. Please try again."}})}goToDashboard(){this.router.navigate(["/nsb/dashboard"])}static{this.\u0275fac=function(o){return new(o||s)(e.rXU(l.ok),e.rXU(C.B),e.rXU(v.o),e.rXU(y.p),e.rXU(g.Ix),e.rXU(k.u))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-nsb-profile-setup"]],decls:13,vars:4,consts:[[1,"w-full","max-w-5xl","mx-auto"],[1,"bg-white","rounded-xl","shadow-sm","border","border-slate-200","overflow-hidden"],[1,"px-8","py-6","border-b","border-slate-100","bg-slate-50/50"],[1,"text-2xl","font-bold","text-slate-900"],[1,"mt-1","text-sm","font-medium","text-slate-600"],[1,"mt-1","text-sm","text-slate-500"],["class","mx-8 mt-6 p-4 bg-emerald-50 border border-emerald-200 rounded-lg text-emerald-800",4,"ngIf"],["class","mx-8 mt-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-800",4,"ngIf"],["class","text-center py-12",4,"ngIf"],["class","p-8 space-y-10",3,"formGroup",4,"ngIf"],[1,"mx-8","mt-6","p-4","bg-emerald-50","border","border-emerald-200","rounded-lg","text-emerald-800"],[1,"font-semibold"],[1,"mx-8","mt-6","p-4","bg-red-50","border","border-red-200","rounded-lg","text-red-800"],[1,"text-center","py-12"],[1,"text-slate-500"],[1,"p-8","space-y-10",3,"formGroup"],[1,"space-y-6"],[1,"text-lg","font-bold","text-slate-900","border-b","border-slate-200","pb-3"],[1,"grid","gap-6","md:grid-cols-2","lg:grid-cols-3"],[1,"space-y-2"],[1,"block","text-sm","font-semibold","text-slate-700"],["type","text","formControlName","countryName","readonly","",1,"w-full","rounded-lg","border","border-slate-300","bg-slate-50","px-3","py-2.5","text-sm","text-slate-700","cursor-default","focus:outline-none"],["type","text","formControlName","name","readonly","",1,"w-full","rounded-lg","border","border-slate-300","bg-slate-50","px-3","py-2.5","text-sm","text-slate-700","cursor-default","focus:outline-none"],["type","text","formControlName","shortName","readonly","",1,"w-full","rounded-lg","border","border-slate-300","bg-slate-50","px-3","py-2.5","text-sm","text-slate-700","cursor-default","focus:outline-none"],["for","headquartersAddress",1,"block","text-sm","font-semibold","text-slate-700"],["id","headquartersAddress","formControlName","headquartersAddress","rows","3","placeholder","Enter headquarters address",1,"w-full","rounded-lg","border","border-slate-300","bg-white","px-3","py-2.5","text-sm","text-slate-900","focus:border-blue-600","focus:ring-1","focus:ring-blue-600","focus:outline-none","transition-colors"],["for","mailingAddress",1,"block","text-sm","font-semibold","text-slate-700"],["id","mailingAddress","formControlName","mailingAddress","rows","3","placeholder","Enter mailing address",1,"w-full","rounded-lg","border","border-slate-300","bg-white","px-3","py-2.5","text-sm","text-slate-900","focus:border-blue-600","focus:ring-1","focus:ring-blue-600","focus:outline-none","transition-colors"],["for","gpsCoordinates",1,"block","text-sm","font-semibold","text-slate-700"],["type","text","id","gpsCoordinates","formControlName","gpsCoordinates","placeholder","e.g., -1.2921, 36.8219",1,"w-full","rounded-lg","border","border-slate-300","bg-white","px-3","py-2.5","text-sm","text-slate-900","focus:border-blue-600","focus:ring-1","focus:ring-blue-600","focus:outline-none","transition-colors"],["for","regionalOffices",1,"block","text-sm","font-semibold","text-slate-700"],["id","regionalOffices","formControlName","regionalOffices","rows","3","placeholder","List regional offices",1,"w-full","rounded-lg","border","border-slate-300","bg-white","px-3","py-2.5","text-sm","text-slate-900","focus:border-blue-600","focus:ring-1","focus:ring-blue-600","focus:outline-none","transition-colors"],[1,"grid","gap-6","md:grid-cols-2"],["for","totalStaff",1,"block","text-sm","font-semibold","text-slate-700"],["type","number","id","totalStaff","formControlName","totalStaff","min","0","placeholder","0",1,"w-full","rounded-lg","border","border-slate-300","bg-white","px-3","py-2.5","text-sm","text-slate-900","focus:border-blue-600","focus:ring-1","focus:ring-blue-600","focus:outline-none","transition-colors"],["for","websiteUrl",1,"block","text-sm","font-semibold","text-slate-700"],["type","url","id","websiteUrl","formControlName","websiteUrl","placeholder","https://www.example.gov.xx",1,"w-full","rounded-lg","border","border-slate-300","bg-white","px-3","py-2.5","text-sm","text-slate-900","focus:border-blue-600","focus:ring-1","focus:ring-blue-600","focus:outline-none","transition-colors"],["for","keyDepartments",1,"block","text-sm","font-semibold","text-slate-700"],["type","text","id","keyDepartments","formControlName","keyDepartments","placeholder","Enter departments separated by commas",1,"w-full","rounded-lg","border","border-slate-300","bg-white","px-3","py-2.5","text-sm","text-slate-900","focus:border-blue-600","focus:ring-1","focus:ring-blue-600","focus:outline-none","transition-colors"],[1,"text-xs","text-slate-500"],[1,"space-y-4"],[1,"grid","gap-6","md:grid-cols-3"],["for","socialMediaTwitter",1,"text-xs","font-semibold","text-slate-500","uppercase","tracking-wide"],["type","text","id","socialMediaTwitter","formControlName","socialMediaTwitter","placeholder","@username",1,"w-full","rounded-lg","border","border-slate-300","bg-white","px-3","py-2.5","text-sm","text-slate-900","focus:border-blue-600","focus:ring-1","focus:ring-blue-600","focus:outline-none","transition-colors"],["for","socialMediaLinkedIn",1,"text-xs","font-semibold","text-slate-500","uppercase","tracking-wide"],["type","text","id","socialMediaLinkedIn","formControlName","socialMediaLinkedIn","placeholder","company/org-name",1,"w-full","rounded-lg","border","border-slate-300","bg-white","px-3","py-2.5","text-sm","text-slate-900","focus:border-blue-600","focus:ring-1","focus:ring-blue-600","focus:outline-none","transition-colors"],["for","socialMediaFacebook",1,"text-xs","font-semibold","text-slate-500","uppercase","tracking-wide"],["type","text","id","socialMediaFacebook","formControlName","socialMediaFacebook","placeholder","page-name",1,"w-full","rounded-lg","border","border-slate-300","bg-white","px-3","py-2.5","text-sm","text-slate-900","focus:border-blue-600","focus:ring-1","focus:ring-blue-600","focus:outline-none","transition-colors"],["for","nationalStandardsActLink",1,"block","text-sm","font-semibold","text-slate-700"],["type","url","id","nationalStandardsActLink","formControlName","nationalStandardsActLink","placeholder","https://www.example.gov.xx/act",1,"w-full","rounded-lg","border","border-slate-300","bg-white","px-3","py-2.5","text-sm","text-slate-900","focus:border-blue-600","focus:ring-1","focus:ring-blue-600","focus:outline-none","transition-colors"],["for","nationalConformityAssessmentPolicyLink",1,"block","text-sm","font-semibold","text-slate-700"],["type","url","id","nationalConformityAssessmentPolicyLink","formControlName","nationalConformityAssessmentPolicyLink","placeholder","https://www.example.gov.xx/policy",1,"w-full","rounded-lg","border","border-slate-300","bg-white","px-3","py-2.5","text-sm","text-slate-900","focus:border-blue-600","focus:ring-1","focus:ring-blue-600","focus:outline-none","transition-colors"],["for","nationalQualityPolicyLink",1,"block","text-sm","font-semibold","text-slate-700"],["type","url","id","nationalQualityPolicyLink","formControlName","nationalQualityPolicyLink","placeholder","https://www.example.gov.xx/quality-policy",1,"w-full","rounded-lg","border","border-slate-300","bg-white","px-3","py-2.5","text-sm","text-slate-900","focus:border-blue-600","focus:ring-1","focus:ring-blue-600","focus:outline-none","transition-colors"],[1,"space-y-4","mt-6","pt-6","border-t","border-slate-200"],[1,"text-sm","font-semibold","text-slate-700"],[1,"grid","gap-4","md:grid-cols-2"],["class","bg-slate-50 rounded-lg border border-slate-200 p-5 hover:border-blue-300 transition-colors",4,"ngFor","ngForOf"],["class","p-6 bg-slate-50 border border-slate-200 rounded-xl hover:border-blue-200 transition-colors",4,"ngFor","ngForOf"],[1,"flex","flex-wrap","gap-4","pt-6","border-t","border-slate-200","bg-slate-50","-mx-8","px-8","-mb-8","py-6","rounded-b-xl"],["type","button",1,"px-6","py-2.5","rounded-lg","font-semibold","text-slate-700","bg-white","border","border-slate-300","hover:bg-slate-50","focus:outline-none","focus:ring-2","focus:ring-slate-500","focus:ring-offset-2","disabled:opacity-50","transition-all","shadow-sm",3,"disabled","click"],["type","button",1,"px-6","py-2.5","rounded-lg","font-semibold","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","disabled:opacity-50","transition-all","shadow-sm",3,"disabled","click"],["type","button",1,"ml-auto","px-6","py-2.5","rounded-lg","font-semibold","text-slate-600","hover:text-slate-900","hover:bg-slate-100","transition-colors",3,"click"],[1,"bg-slate-50","rounded-lg","border","border-slate-200","p-5","hover:border-blue-300","transition-colors"],[1,"flex","flex-col","h-full","justify-between","gap-4"],[1,"block","text-sm","font-bold","text-slate-900","mb-1"],[1,"text-xs","text-slate-500","mb-3"],["class","bg-white border border-emerald-200 rounded p-3 mb-2 flex items-center gap-2",4,"ngIf"],[1,"flex","items-center","gap-3"],["type","file","accept",".pdf,.doc,.docx",1,"hidden",3,"id","change"],["fileInput",""],["type","button","class","text-sm font-semibold text-blue-600 hover:text-blue-800 hover:underline",3,"click",4,"ngIf"],[4,"ngIf"],[1,"bg-white","border","border-emerald-200","rounded","p-3","mb-2","flex","items-center","gap-2"],[1,"h-6","w-6","rounded-full","bg-emerald-100","text-emerald-600","flex","items-center","justify-center","shrink-0"],[1,"min-w-0","flex-1"],[1,"text-xs","font-semibold","text-emerald-800","truncate"],[1,"text-xs","text-slate-600","truncate",3,"title"],["type","button",1,"text-sm","font-semibold","text-blue-600","hover:text-blue-800","hover:underline",3,"click"],["type","button","class","text-xs font-semibold text-slate-600 hover:text-slate-900 border border-slate-300 bg-white px-3 py-1.5 rounded hover:bg-slate-50",3,"click",4,"ngIf"],["type","button","class","text-xs font-semibold text-red-600 hover:text-red-800 border border-red-200 bg-red-50 px-3 py-1.5 rounded hover:bg-red-100",3,"click",4,"ngIf"],["type","button",1,"text-xs","font-semibold","text-slate-600","hover:text-slate-900","border","border-slate-300","bg-white","px-3","py-1.5","rounded","hover:bg-slate-50",3,"click"],["type","button",1,"text-xs","font-semibold","text-red-600","hover:text-red-800","border","border-red-200","bg-red-50","px-3","py-1.5","rounded","hover:bg-red-100",3,"click"],[1,"p-6","bg-slate-50","border","border-slate-200","rounded-xl","hover:border-blue-200","transition-colors"],[1,"flex","items-center","justify-between","mb-4","border-b","border-slate-200","pb-2"],[1,"font-bold","text-slate-900"],["type","button",1,"text-xs","font-semibold","text-blue-600","hover:text-blue-800","bg-blue-50","px-2","py-1","rounded",3,"click"],[1,"space-y-4",3,"formArrayName"],["class","p-4 bg-white border border-slate-200 rounded-lg space-y-3",3,"formGroupName",4,"ngFor","ngForOf"],[1,"p-4","bg-white","border","border-slate-200","rounded-lg","space-y-3",3,"formGroupName"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-xs","font-semibold","text-slate-500"],["type","button","class","text-xs text-red-600 hover:text-red-800",3,"click",4,"ngIf"],[1,"block","text-xs","font-semibold","text-slate-700"],[1,"text-red-500"],["type","text","formControlName","name","placeholder","Enter name",1,"w-full","rounded-lg","border","border-slate-300","bg-white","px-3","py-2","text-sm","text-slate-900","focus:border-blue-600","focus:ring-1","focus:ring-blue-600","focus:outline-none","transition-colors"],["type","email","formControlName","email","placeholder","email@example.com",1,"w-full","rounded-lg","border","border-slate-300","bg-white","px-3","py-2","text-sm","text-slate-900","focus:border-blue-600","focus:ring-1","focus:ring-blue-600","focus:outline-none","transition-colors"],[1,"grid","grid-cols-2","gap-2"],["type","tel","formControlName","phone","placeholder","+254 20 1234567",1,"w-full","rounded-lg","border","border-slate-300","bg-white","px-3","py-2","text-sm","text-slate-900","focus:border-blue-600","focus:ring-1","focus:ring-blue-600","focus:outline-none","transition-colors"],["type","tel","formControlName","mobile","placeholder","+254 712 345678",1,"w-full","rounded-lg","border","border-slate-300","bg-white","px-3","py-2","text-sm","text-slate-900","focus:border-blue-600","focus:ring-1","focus:ring-blue-600","focus:outline-none","transition-colors"],["type","text","formControlName","designation","placeholder","e.g., Director",1,"w-full","rounded-lg","border","border-slate-300","bg-white","px-3","py-2","text-sm","text-slate-900","focus:border-blue-600","focus:ring-1","focus:ring-blue-600","focus:outline-none","transition-colors"],["type","button",1,"text-xs","text-red-600","hover:text-red-800",3,"click"]],template:function(o,r){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e.EFF(4,"NSB Profile Setup"),e.k0s(),e.j41(5,"p",4),e.EFF(6,"Form NSB-002: Complete NSB Profile"),e.k0s(),e.j41(7,"p",5),e.EFF(8,"Complete your NSB profile to activate your portal access"),e.k0s()(),e.DNE(9,N,3,1,"div",6),e.DNE(10,F,2,1,"div",7),e.DNE(11,A,3,0,"div",8),e.DNE(12,j,108,7,"form",9),e.k0s()()),2&o&&(e.R7$(9),e.Y8G("ngIf",r.success),e.R7$(1),e.Y8G("ngIf",r.error),e.R7$(1),e.Y8G("ngIf",r.loading),e.R7$(1),e.Y8G("ngIf",!r.loading&&r.nsb))},dependencies:[b.Sq,b.bT,l.qT,l.me,l.Q0,l.BC,l.cb,l.VZ,l.j4,l.JD,l.$R,l.v8]})}}return s})()}];let M=(()=>{class s{static{this.\u0275fac=function(o){return new(o||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[b.MD,l.X1,g.iI.forChild(L)]})}}return s})()}}]);