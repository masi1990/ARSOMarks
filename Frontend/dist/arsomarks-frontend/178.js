"use strict";(self.webpackChunkarsomarks_frontend=self.webpackChunkarsomarks_frontend||[]).push([[178],{4178:(V,p,l)=>{l.r(p),l.d(p,{ConsumerModule:()=>U});var h=l(177),d=l(9417),F=l(1377),x=l(8359);class C extends x.yU{constructor(s,t){super()}schedule(s,t=0){return this}}const f={setInterval(n,s,...t){const{delegate:r}=f;return r?.setInterval?r.setInterval(n,s,...t):setInterval(n,s,...t)},clearInterval(n){const{delegate:s}=f;return(s?.clearInterval||clearInterval)(n)},delegate:void 0};var y=l(7908);const m={now:()=>(m.delegate||Date).now(),delegate:void 0};class u{constructor(s,t=u.now){this.schedulerActionCtor=s,this.now=t}schedule(s,t=0,r){return new this.schedulerActionCtor(this,s).schedule(r,t)}}u.now=m.now;const j=new class w extends u{constructor(s,t=u.now){super(s,t),this.actions=[],this._active=!1}flush(s){const{actions:t}=this;if(this._active)return void t.push(s);let r;this._active=!0;do{if(r=s.execute(s.state,s.delay))break}while(s=t.shift());if(this._active=!1,r){for(;s=t.shift();)s.unsubscribe();throw r}}}(class k extends C{constructor(s,t){super(s,t),this.scheduler=s,this.work=t,this.pending=!1}schedule(s,t=0){var r;if(this.closed)return this;this.state=s;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,t),this}requestAsyncId(s,t,r=0){return f.setInterval(s.flush.bind(s,this),r)}recycleAsyncId(s,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&f.clearInterval(t)}execute(s,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(s,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(s,t){let o,r=!1;try{this.work(s)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:s,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,y.o)(r,this),null!=s&&(this.id=this.recycleAsyncId(t,s,null)),this.delay=null,super.unsubscribe()}}});var E=l(9974),R=l(4360),$=l(3294),e=l(6276),g=l(1626),_=l(5312);let T=(()=>{class n{constructor(t){this.http=t,this.baseUrl=`${_.c.apiBase}/public/certified-products`}getCertifiedProducts(t){let r=new g.Nl;return t&&Object.entries(t).forEach(([o,i])=>{null!=i&&""!==i&&(r=r.set(o,String(i)))}),this.http.get(this.baseUrl,{params:r})}getCertifiedProductByCoc(t){return this.http.get(`${this.baseUrl}/${t}`)}static{this.\u0275fac=function(r){return new(r||n)(e.KVO(g.Qq))}}static{this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function S(n,s){if(1&n&&(e.j41(0,"div",27),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.SpI(" ",t.error," ")}}function O(n,s){if(1&n&&(e.j41(0,"option",28),e.EFF(1),e.k0s()),2&n){const t=s.$implicit;e.Y8G("value",t),e.R7$(1),e.JRh(t)}}function D(n,s){if(1&n&&(e.j41(0,"option",28),e.EFF(1),e.k0s()),2&n){const t=s.$implicit;e.Y8G("value",t),e.R7$(1),e.JRh(t)}}function G(n,s){1&n&&(e.j41(0,"div",29),e.nrm(1,"div",30),e.j41(2,"p",31),e.EFF(3,"Loading certified products..."),e.k0s()())}function P(n,s){1&n&&(e.j41(0,"div",37)(1,"div",38),e.qSk(),e.j41(2,"svg",39),e.nrm(3,"path",40),e.k0s()(),e.joV(),e.j41(4,"p",41),e.EFF(5,"No certified products found"),e.k0s(),e.j41(6,"p",42),e.EFF(7,"Try adjusting your search or filters."),e.k0s()())}function A(n,s){if(1&n&&(e.j41(0,"span",56),e.EFF(1),e.k0s()),2&n){const t=s.$implicit;e.R7$(1),e.SpI(" ",t," ")}}function N(n,s){if(1&n&&(e.j41(0,"span",57),e.EFF(1),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(1),e.SpI(" +",t.standards.length-2," ")}}function M(n,s){if(1&n&&(e.j41(0,"tr",48)(1,"td",49)(2,"span",50),e.EFF(3),e.k0s()(),e.j41(4,"td",51),e.EFF(5),e.k0s(),e.j41(6,"td",51),e.EFF(7),e.k0s(),e.j41(8,"td",51),e.EFF(9),e.k0s(),e.j41(10,"td",51),e.EFF(11),e.k0s(),e.j41(12,"td",51),e.EFF(13),e.k0s(),e.j41(14,"td",49)(15,"div",52),e.DNE(16,A,2,1,"span",53),e.DNE(17,N,2,1,"span",54),e.k0s()(),e.j41(18,"td",51),e.EFF(19),e.k0s(),e.j41(20,"td",55),e.EFF(21),e.k0s()()),2&n){const t=s.$implicit,r=e.XpG(3);e.R7$(3),e.JRh(t.cocNumber),e.R7$(2),e.JRh(t.productName),e.R7$(2),e.JRh(t.brand),e.R7$(2),e.JRh(t.company),e.R7$(2),e.JRh(t.countryOfOrigin),e.R7$(2),e.JRh(t.category),e.R7$(3),e.Y8G("ngForOf",t.standards.slice(0,2)),e.R7$(1),e.Y8G("ngIf",t.standards.length>2),e.R7$(2),e.JRh(r.formatDate(t.issueDate)),e.R7$(1),e.Y8G("ngClass",r.isExpired(t.expiryDate)?"text-red-600 font-semibold":"text-slate-700"),e.R7$(1),e.SpI(" ",r.formatDate(t.expiryDate)," ")}}function Y(n,s){if(1&n&&(e.j41(0,"div",43)(1,"table",44)(2,"thead")(3,"tr",45)(4,"th",46),e.EFF(5,"COC Number"),e.k0s(),e.j41(6,"th",46),e.EFF(7,"Product"),e.k0s(),e.j41(8,"th",46),e.EFF(9,"Brand"),e.k0s(),e.j41(10,"th",46),e.EFF(11,"Company"),e.k0s(),e.j41(12,"th",46),e.EFF(13,"Country"),e.k0s(),e.j41(14,"th",46),e.EFF(15,"Category"),e.k0s(),e.j41(16,"th",46),e.EFF(17,"Standards"),e.k0s(),e.j41(18,"th",46),e.EFF(19,"Issue Date"),e.k0s(),e.j41(20,"th",46),e.EFF(21,"Expiry Date"),e.k0s()()(),e.j41(22,"tbody"),e.DNE(23,M,22,11,"tr",47),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(23),e.Y8G("ngForOf",t.filteredProducts)}}function B(n,s){if(1&n&&(e.j41(0,"div",32)(1,"div",33)(2,"h2",34),e.EFF(3),e.k0s()(),e.DNE(4,P,8,0,"div",35),e.DNE(5,Y,24,1,"div",36),e.k0s()),2&n){const t=e.XpG();e.R7$(3),e.SpI(" Certified Products (",t.filteredProducts.length,") "),e.R7$(1),e.Y8G("ngIf",0===t.filteredProducts.length),e.R7$(1),e.Y8G("ngIf",t.filteredProducts.length>0)}}const J=[{path:"",component:(()=>{class n{constructor(t){this.consumerService=t,this.loading=!1,this.error="",this.products=[],this.filteredProducts=[],this.searchControl=new d.MJ(""),this.searchTerm="",this.categoryFilter="",this.countryFilter="",this.categories=[],this.countries=[]}ngOnInit(){this.loadProducts(),this.searchControl.valueChanges.pipe(function I(n,s=j){return(0,E.N)((t,r)=>{let o=null,i=null,a=null;const b=()=>{if(o){o.unsubscribe(),o=null;const c=i;i=null,r.next(c)}};function L(){const c=a+n,v=s.now();if(v<c)return o=this.schedule(void 0,c-v),void r.add(o);b()}t.subscribe((0,R._)(r,c=>{i=c,a=s.now(),o||(o=s.schedule(L,n),r.add(o))},()=>{b(),r.complete()},void 0,()=>{i=o=null}))})}(300),(0,$.F)()).subscribe(t=>{this.searchTerm=t||"",this.applyFilters()})}loadProducts(){this.loading=!0,this.error="",this.consumerService.getCertifiedProducts().subscribe({next:t=>{this.products=t,this.filteredProducts=t,this.extractFilterOptions(),this.loading=!1},error:t=>{this.error=t.error?.message||"Failed to load certified products.",this.products=[],this.filteredProducts=[],this.loading=!1}})}extractFilterOptions(){this.categories=[...new Set(this.products.map(t=>t.category).filter(Boolean))],this.countries=[...new Set(this.products.map(t=>t.countryOfOrigin).filter(Boolean))]}applyFilters(){let t=[...this.products];if(this.searchTerm){const r=this.searchTerm.toLowerCase();t=t.filter(o=>o.cocNumber?.toLowerCase().includes(r)||o.productName?.toLowerCase().includes(r)||o.brand?.toLowerCase().includes(r)||o.company?.toLowerCase().includes(r)||o.standards?.some(i=>i.toLowerCase().includes(r)))}this.categoryFilter&&(t=t.filter(r=>r.category===this.categoryFilter)),this.countryFilter&&(t=t.filter(r=>r.countryOfOrigin===this.countryFilter)),this.filteredProducts=t}onCategoryChange(){this.applyFilters()}onCountryChange(){this.applyFilters()}clearFilters(){this.searchControl.setValue(""),this.searchTerm="",this.categoryFilter="",this.countryFilter="",this.applyFilters()}formatDate(t){return t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"}isExpired(t){return!!t&&new Date(t)<new Date}static{this.\u0275fac=function(r){return new(r||n)(e.rXU(T))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-consumer"]],decls:45,vars:8,consts:[[1,"w-full","max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"mb-8"],[1,"text-4xl","font-bold","text-slate-900","mb-2"],[1,"text-lg","text-slate-600"],["class","mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-800",4,"ngIf"],[1,"mb-6","bg-white","rounded-xl","shadow-sm","border","border-slate-200","p-6"],[1,"space-y-4"],[1,"block","text-sm","font-semibold","text-slate-700","mb-2"],[1,"relative"],["type","text","placeholder","Search by COC number, product name, brand, company, or standards...",1,"w-full","px-4","py-3","pl-10","border","border-slate-300","rounded-lg","text-sm","focus:border-blue-600","focus:ring-1","focus:ring-blue-600","focus:outline-none",3,"formControl"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"absolute","left-3","top-3.5","h-5","w-5","text-slate-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"w-full","px-3","py-2","border","border-slate-300","rounded-lg","text-sm","focus:border-blue-600","focus:ring-1","focus:ring-blue-600","focus:outline-none",3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"flex","items-end"],[1,"w-full","px-4","py-2","text-sm","font-semibold","text-slate-700","bg-slate-100","hover:bg-slate-200","rounded-lg","transition-colors",3,"click"],["class","bg-white rounded-xl shadow-sm border border-slate-200 p-12 text-center",4,"ngIf"],["class","bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",4,"ngIf"],[1,"mt-8","bg-blue-50","border","border-blue-200","rounded-lg","p-6"],[1,"flex","items-start","gap-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-blue-600","mt-0.5","shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"flex-1"],[1,"text-sm","font-semibold","text-blue-900","mb-2"],[1,"text-sm","text-blue-800"],[1,"mb-6","p-4","bg-red-50","border","border-red-200","rounded-lg","text-red-800"],[3,"value"],[1,"bg-white","rounded-xl","shadow-sm","border","border-slate-200","p-12","text-center"],[1,"inline-block","animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],[1,"mt-4","text-sm","text-slate-600"],[1,"bg-white","rounded-xl","shadow-sm","border","border-slate-200","overflow-hidden"],[1,"px-6","py-4","border-b","border-slate-200","bg-slate-50"],[1,"text-lg","font-bold","text-slate-900"],["class","p-12 text-center",4,"ngIf"],["class","overflow-x-auto",4,"ngIf"],[1,"p-12","text-center"],[1,"rounded-full","bg-slate-100","p-4","mb-3","inline-block"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-8","w-8","text-slate-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"],[1,"text-sm","font-medium","text-slate-700"],[1,"mt-1","text-xs","text-slate-500"],[1,"overflow-x-auto"],[1,"w-full"],[1,"border-b","border-slate-200","bg-slate-50"],[1,"text-left","py-4","px-6","text-sm","font-semibold","text-slate-700"],["class","border-b border-slate-100 hover:bg-slate-50 transition-colors",4,"ngFor","ngForOf"],[1,"border-b","border-slate-100","hover:bg-slate-50","transition-colors"],[1,"py-4","px-6"],[1,"font-mono","text-sm","font-semibold","text-blue-600"],[1,"py-4","px-6","text-sm","text-slate-700"],[1,"flex","flex-wrap","gap-1"],["class","px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded",4,"ngFor","ngForOf"],["class","px-2 py-1 bg-slate-100 text-slate-600 text-xs rounded",4,"ngIf"],[1,"py-4","px-6","text-sm",3,"ngClass"],[1,"px-2","py-1","bg-blue-50","text-blue-700","text-xs","rounded"],[1,"px-2","py-1","bg-slate-100","text-slate-600","text-xs","rounded"]],template:function(r,o){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"h1",2),e.EFF(3,"ARSO Certified Products Registry"),e.k0s(),e.j41(4,"p",3),e.EFF(5," Traceability portal for products certified with ARSO Quality and Eco Marks "),e.k0s()(),e.DNE(6,S,2,1,"div",4),e.j41(7,"div",5)(8,"div",6)(9,"div")(10,"label",7),e.EFF(11,"Search Products"),e.k0s(),e.j41(12,"div",8),e.nrm(13,"input",9),e.qSk(),e.j41(14,"svg",10),e.nrm(15,"path",11),e.k0s()()(),e.joV(),e.j41(16,"div",12)(17,"div")(18,"label",7),e.EFF(19,"Category"),e.k0s(),e.j41(20,"select",13),e.bIt("ngModelChange",function(a){return o.categoryFilter=a})("change",function(){return o.onCategoryChange()}),e.j41(21,"option",14),e.EFF(22,"All Categories"),e.k0s(),e.DNE(23,O,2,2,"option",15),e.k0s()(),e.j41(24,"div")(25,"label",7),e.EFF(26,"Country of Origin"),e.k0s(),e.j41(27,"select",13),e.bIt("ngModelChange",function(a){return o.countryFilter=a})("change",function(){return o.onCountryChange()}),e.j41(28,"option",14),e.EFF(29,"All Countries"),e.k0s(),e.DNE(30,D,2,2,"option",15),e.k0s()(),e.j41(31,"div",16)(32,"button",17),e.bIt("click",function(){return o.clearFilters()}),e.EFF(33," Clear Filters "),e.k0s()()()()(),e.DNE(34,G,4,0,"div",18),e.DNE(35,B,6,3,"div",19),e.j41(36,"div",20)(37,"div",21),e.qSk(),e.j41(38,"svg",22),e.nrm(39,"path",23),e.k0s(),e.joV(),e.j41(40,"div",24)(41,"h3",25),e.EFF(42,"About Product Traceability"),e.k0s(),e.j41(43,"p",26),e.EFF(44," This registry provides public access to products certified with ARSO Quality and Eco Marks. All products listed here have been verified to meet the applicable standards and have been granted a Certificate of Conformity (COC). Use the search and filter options to find specific products or verify certificate details. "),e.k0s()()()()()),2&r&&(e.R7$(6),e.Y8G("ngIf",o.error),e.R7$(7),e.Y8G("formControl",o.searchControl),e.R7$(7),e.Y8G("ngModel",o.categoryFilter),e.R7$(3),e.Y8G("ngForOf",o.categories),e.R7$(4),e.Y8G("ngModel",o.countryFilter),e.R7$(3),e.Y8G("ngForOf",o.countries),e.R7$(4),e.Y8G("ngIf",o.loading),e.R7$(1),e.Y8G("ngIf",!o.loading))},dependencies:[h.YU,h.Sq,h.bT,d.xH,d.y7,d.me,d.wz,d.BC,d.l_,d.vS],styles:["[_nghost-%COMP%]{display:block}"]})}}return n})()}];let U=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[h.MD,d.X1,d.YN,F.iI.forChild(J)]})}}return n})()}}]);