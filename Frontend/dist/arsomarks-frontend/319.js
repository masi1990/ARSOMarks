"use strict";(self.webpackChunkarsomarks_frontend=self.webpackChunkarsomarks_frontend||[]).push([[319],{2319:(ut,k,c)=>{c.r(k),c.d(k,{DocumentUploadModule:()=>pt});var _=c(177),a=c(9417),A=c(1377),E=function(n){return n.COMPANY_LEGAL="COMPANY_LEGAL",n.QUALITY_MANAGEMENT="QUALITY_MANAGEMENT",n.TECHNICAL_PRODUCTION="TECHNICAL_PRODUCTION",n.TEST_REPORTS="TEST_REPORTS",n.CERTIFICATES="CERTIFICATES",n.SUPPLY_CHAIN="SUPPLY_CHAIN",n.ENVIRONMENTAL="ENVIRONMENTAL",n.OTHER="OTHER",n}(E||{}),u=function(n){return n.BUSINESS_REGISTRATION="BUSINESS_REGISTRATION",n.TAX_CERTIFICATE="TAX_CERTIFICATE",n.MEMORANDUM_ARTICLES="MEMORANDUM_ARTICLES",n.DIRECTORS_LIST="DIRECTORS_LIST",n.OWNERSHIP_STRUCTURE="OWNERSHIP_STRUCTURE",n.AUTHORIZED_SIGNATORY="AUTHORIZED_SIGNATORY",n.QUALITY_MANUAL="QUALITY_MANUAL",n.PROCEDURES_MANUAL="PROCEDURES_MANUAL",n.ORGANIZATIONAL_CHART="ORGANIZATIONAL_CHART",n.JOB_DESCRIPTIONS="JOB_DESCRIPTIONS",n.TRAINING_RECORDS="TRAINING_RECORDS",n.INTERNAL_AUDIT_RECORDS="INTERNAL_AUDIT_RECORDS",n.MANAGEMENT_REVIEW="MANAGEMENT_REVIEW",n.FACTORY_LAYOUT="FACTORY_LAYOUT",n.EQUIPMENT_LIST="EQUIPMENT_LIST",n.CALIBRATION_CERTIFICATES="CALIBRATION_CERTIFICATES",n.MAINTENANCE_RECORDS="MAINTENANCE_RECORDS",n.PROCESS_FLOW_DIAGRAMS="PROCESS_FLOW_DIAGRAMS",n.CONTROL_PLANS="CONTROL_PLANS",n.RAW_MATERIAL_SPECS="RAW_MATERIAL_SPECS",n.FINISHED_PRODUCT_SPECS="FINISHED_PRODUCT_SPECS",n.TEST_REPORT="TEST_REPORT",n.EXISTING_CERTIFICATE="EXISTING_CERTIFICATE",n.SUPPLIER_LIST="SUPPLIER_LIST",n.SUPPLIER_EVALUATION="SUPPLIER_EVALUATION",n.MATERIAL_CERTIFICATE="MATERIAL_CERTIFICATE",n.TRACEABILITY_RECORDS="TRACEABILITY_RECORDS",n.BATCH_RECORDS="BATCH_RECORDS",n.RECALL_PROCEDURE="RECALL_PROCEDURE",n.ENVIRONMENTAL_POLICY="ENVIRONMENTAL_POLICY",n.ENVIRONMENTAL_MANUAL="ENVIRONMENTAL_MANUAL",n.LCA_REPORT="LCA_REPORT",n.CARBON_FOOTPRINT_REPORT="CARBON_FOOTPRINT_REPORT",n.ENERGY_AUDIT="ENERGY_AUDIT",n.WASTE_AUDIT="WASTE_AUDIT",n.RECYCLING_CERTIFICATE="RECYCLING_CERTIFICATE",n.SUSTAINABLE_SOURCING="SUSTAINABLE_SOURCING",n.OTHER="OTHER",n}(u||{}),m=function(n){return n.PENDING="PENDING",n.UNDER_REVIEW="UNDER_REVIEW",n.APPROVED="APPROVED",n.REJECTED="REJECTED",n.EXPIRED="EXPIRED",n.REQUIRES_REVISION="REQUIRES_REVISION",n}(m||{}),F=function(n){return n.PENDING="PENDING",n.VERIFIED="VERIFIED",n.EXPIRED="EXPIRED",n.REJECTED="REJECTED",n}(F||{}),x=function(n){return n.PASS="PASS",n.FAIL="FAIL",n.CONDITIONAL_PASS="CONDITIONAL_PASS",n}(x||{}),U=c(2446),t=c(540),g=c(1626),L=c(5312);let P=(()=>{class n{constructor(e){this.http=e,this.baseUrl=`${L.c.apiBase}/document-upload`}getOperatorDocuments(e){return this.http.get(`${this.baseUrl}/operators/${e}/documents`)}uploadOperatorDocument(e,o){const i=this.createDocumentFormData(o);return this.http.post(`${this.baseUrl}/operators/${e}/documents`,i)}deleteOperatorDocument(e,o){return this.http.delete(`${this.baseUrl}/operators/${e}/documents/${o}`)}downloadOperatorDocument(e,o){return this.http.get(`${this.baseUrl}/operators/${e}/documents/${o}/download`,{responseType:"blob"})}getTestReports(e){let o=new g.Nl;return Object.entries(e||{}).forEach(([i,r])=>{null!=r&&""!==r&&(o=o.set(i,String(r)))}),this.http.get(`${this.baseUrl}/test-reports`,{params:o})}uploadTestReport(e){const o=this.createTestReportFormData(e);return this.http.post(`${this.baseUrl}/test-reports`,o)}deleteTestReport(e){return this.http.delete(`${this.baseUrl}/test-reports/${e}`)}getExistingCertificates(e){let o=new g.Nl;return Object.entries(e||{}).forEach(([i,r])=>{null!=r&&""!==r&&(o=o.set(i,String(r)))}),this.http.get(`${this.baseUrl}/certificates`,{params:o})}uploadCertificate(e){const o=this.createCertificateFormData(e);return this.http.post(`${this.baseUrl}/certificates`,o)}deleteCertificate(e){return this.http.delete(`${this.baseUrl}/certificates/${e}`)}getSupplyChainDocuments(e){let o=new g.Nl;return Object.entries(e||{}).forEach(([i,r])=>{null!=r&&""!==r&&(o=o.set(i,String(r)))}),this.http.get(`${this.baseUrl}/supply-chain`,{params:o})}uploadSupplyChainDocument(e){const o=this.createDocumentFormData(e);return this.http.post(`${this.baseUrl}/supply-chain`,o)}deleteSupplyChainDocument(e){return this.http.delete(`${this.baseUrl}/supply-chain/${e}`)}getEnvironmentalDocuments(e){let o=new g.Nl;return Object.entries(e||{}).forEach(([i,r])=>{null!=r&&""!==r&&(o=o.set(i,String(r)))}),this.http.get(`${this.baseUrl}/environmental`,{params:o})}uploadEnvironmentalDocument(e){const o=this.createDocumentFormData(e);return this.http.post(`${this.baseUrl}/environmental`,o)}deleteEnvironmentalDocument(e){return this.http.delete(`${this.baseUrl}/environmental/${e}`)}createDocumentFormData(e){const o=new FormData;return o.append("file",e.file),o.append("documentCategory",e.documentCategory),o.append("documentType",e.documentType),o.append("documentName",e.documentName),e.description&&o.append("description",e.description),e.expiryDate&&o.append("expiryDate",e.expiryDate),e.operatorId&&o.append("operatorId",e.operatorId),e.productId&&o.append("productId",e.productId),e.applicationId&&o.append("applicationId",e.applicationId),o}createTestReportFormData(e){const o=new FormData;return o.append("file",e.file),o.append("testLabName",e.testLabName),o.append("labAccreditation",e.labAccreditation),o.append("testStandard",e.testStandard),o.append("testDate",e.testDate),o.append("sampleDescription",e.sampleDescription),o.append("testParameters",e.testParameters),o.append("testResultsSummary",e.testResultsSummary),o.append("passFail",e.passFail),e.productId&&o.append("productId",e.productId),e.applicationId&&o.append("applicationId",e.applicationId),o}createCertificateFormData(e){const o=new FormData;return o.append("file",e.file),o.append("certificateName",e.certificateName),o.append("certificateNumber",e.certificateNumber),o.append("issuingBody",e.issuingBody),o.append("issueDate",e.issueDate),o.append("expiryDate",e.expiryDate),o.append("certificateScope",e.certificateScope),e.productId&&o.append("productId",e.productId),e.applicationId&&o.append("applicationId",e.applicationId),o}static{this.\u0275fac=function(o){return new(o||n)(t.KVO(g.Qq))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var $=c(7265),G=c(297);function M(n,l){if(1&n&&(t.j41(0,"div",12),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.SpI(" ",e.success," ")}}function V(n,l){if(1&n&&(t.j41(0,"div",13),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.SpI(" ",e.error," ")}}function Y(n,l){if(1&n){const e=t.RV6();t.j41(0,"button",9),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.switchSection("D"))}),t.EFF(1," Section D: Environmental Documents (EMA) "),t.k0s()}if(2&n){const e=t.XpG();t.AVh("border-b-2","D"===e.currentSection)("border-blue-600","D"===e.currentSection)("text-blue-600","D"===e.currentSection)}}function B(n,l){1&n&&(t.qSk(),t.j41(0,"svg",43),t.nrm(1,"path",44),t.k0s())}function w(n,l){1&n&&(t.qSk(),t.j41(0,"svg",43),t.nrm(1,"path",45),t.k0s())}function X(n,l){if(1&n&&(t.j41(0,"div",39)(1,"span",40),t.DNE(2,B,2,0,"svg",41),t.DNE(3,w,2,0,"svg",41),t.k0s(),t.j41(4,"span",42),t.EFF(5),t.k0s()()),2&n){const e=l.$implicit,o=t.XpG(2);t.R7$(1),t.AVh("text-green-600",o.isMandatoryDocumentUploaded(e))("text-gray-400",!o.isMandatoryDocumentUploaded(e)),t.R7$(1),t.Y8G("ngIf",o.isMandatoryDocumentUploaded(e)),t.R7$(1),t.Y8G("ngIf",!o.isMandatoryDocumentUploaded(e)),t.R7$(2),t.JRh(o.formatEnumLabel(e))}}function H(n,l){if(1&n&&(t.j41(0,"option",46),t.EFF(1),t.k0s()),2&n){const e=l.$implicit;t.Y8G("value",e.value),t.R7$(1),t.JRh(e.label)}}function J(n,l){if(1&n&&(t.j41(0,"option",46),t.EFF(1),t.k0s()),2&n){const e=l.$implicit;t.Y8G("value",e.value),t.R7$(1),t.JRh(e.label)}}function W(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",47)(1,"div",48)(2,"div",49)(3,"h4",50),t.EFF(4),t.k0s(),t.j41(5,"p",51),t.EFF(6),t.k0s(),t.j41(7,"p",52),t.EFF(8),t.nI1(9,"date"),t.k0s(),t.j41(10,"span",53),t.EFF(11),t.k0s()(),t.j41(12,"div",54)(13,"button",55),t.bIt("click",function(){const r=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.downloadDocument(r.id,r.fileName))}),t.EFF(14,"Download"),t.k0s(),t.j41(15,"button",56),t.bIt("click",function(){const r=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.deleteDocument(r.id,"operator"))}),t.EFF(16,"Delete"),t.k0s()()()()}if(2&n){const e=l.$implicit,o=t.XpG(2);t.R7$(4),t.JRh(e.documentName),t.R7$(2),t.Lme("",o.formatEnumLabel(e.documentType)," - ",o.formatEnumLabel(e.documentCategory),""),t.R7$(2),t.Lme(" Uploaded: ",e.uploadedAt?t.i5U(9,7,e.uploadedAt,"short"):"N/A"," | Size: ",o.formatFileSize(e.fileSize)," "),t.R7$(2),t.Y8G("ngClass",o.getStatusColor(e.verificationStatus)),t.R7$(1),t.SpI(" ",o.formatEnumLabel(e.verificationStatus)," ")}}function z(n,l){1&n&&(t.j41(0,"p",57),t.EFF(1,"No documents uploaded yet"),t.k0s())}function Q(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",14)(1,"h2",15),t.EFF(2,"Section A: Mandatory Documents Checklist"),t.k0s(),t.j41(3,"div",16)(4,"h3",17),t.EFF(5,"Required Documents Status"),t.k0s(),t.j41(6,"div",18),t.DNE(7,X,6,7,"div",19),t.k0s()(),t.j41(8,"div",20)(9,"h3",17),t.EFF(10,"Upload New Document"),t.k0s(),t.j41(11,"form",21),t.bIt("ngSubmit",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.uploadOperatorDocument())}),t.j41(12,"div",18)(13,"div",22)(14,"label",23),t.EFF(15,"Document Category *"),t.k0s(),t.j41(16,"select",24)(17,"option",25),t.EFF(18,"Select..."),t.k0s(),t.DNE(19,H,2,2,"option",26),t.k0s()(),t.j41(20,"div",22)(21,"label",23),t.EFF(22,"Document Type *"),t.k0s(),t.j41(23,"select",27)(24,"option",25),t.EFF(25,"Select..."),t.k0s(),t.DNE(26,J,2,2,"option",26),t.k0s()(),t.j41(27,"div",28)(28,"label",23),t.EFF(29,"Document Name *"),t.k0s(),t.nrm(30,"input",29),t.k0s(),t.j41(31,"div",28)(32,"label",23),t.EFF(33,"Description"),t.k0s(),t.nrm(34,"textarea",30),t.k0s(),t.j41(35,"div",22)(36,"label",23),t.EFF(37,"Expiry Date (if applicable)"),t.k0s(),t.nrm(38,"input",31),t.k0s(),t.j41(39,"div",22)(40,"label",23),t.EFF(41,"Upload File *"),t.k0s(),t.j41(42,"input",32),t.bIt("change",function(i){t.eBV(e);const r=t.XpG();return t.Njj(r.onFileSelected(i,r.operatorDocumentForm))}),t.k0s(),t.j41(43,"small",33),t.EFF(44,"Max size: 10MB. Allowed: PDF, JPG, PNG, DOC, DOCX"),t.k0s()()(),t.j41(45,"button",34),t.EFF(46),t.k0s()()(),t.j41(47,"div",35)(48,"h3",17),t.EFF(49,"Uploaded Documents"),t.k0s(),t.j41(50,"div",36),t.DNE(51,W,17,10,"div",37),t.DNE(52,z,2,0,"p",38),t.k0s()()()}if(2&n){const e=t.XpG();let o,i,r,s;t.R7$(7),t.Y8G("ngForOf",e.mandatoryDocumentTypes),t.R7$(4),t.Y8G("formGroup",e.operatorDocumentForm),t.R7$(5),t.AVh("invalid",(null==(o=e.operatorDocumentForm.get("documentCategory"))?null:o.invalid)&&(null==(o=e.operatorDocumentForm.get("documentCategory"))?null:o.touched)),t.R7$(3),t.Y8G("ngForOf",e.documentCategories),t.R7$(4),t.AVh("invalid",(null==(i=e.operatorDocumentForm.get("documentType"))?null:i.invalid)&&(null==(i=e.operatorDocumentForm.get("documentType"))?null:i.touched)),t.R7$(3),t.Y8G("ngForOf",e.documentTypes),t.R7$(4),t.AVh("invalid",(null==(r=e.operatorDocumentForm.get("documentName"))?null:r.invalid)&&(null==(r=e.operatorDocumentForm.get("documentName"))?null:r.touched)),t.R7$(12),t.AVh("invalid",(null==(s=e.operatorDocumentForm.get("file"))?null:s.invalid)&&(null==(s=e.operatorDocumentForm.get("file"))?null:s.touched)),t.R7$(3),t.Y8G("disabled",e.uploading||e.operatorDocumentForm.invalid),t.R7$(1),t.SpI(" ",e.uploading?"Uploading...":"Upload Document"," "),t.R7$(5),t.Y8G("ngForOf",e.operatorDocuments),t.R7$(1),t.Y8G("ngIf",0===e.operatorDocuments.length)}}function K(n,l){if(1&n&&(t.j41(0,"option",46),t.EFF(1),t.k0s()),2&n){const e=l.$implicit;t.Y8G("value",e.value),t.R7$(1),t.JRh(e.label)}}function Z(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",47)(1,"div",48)(2,"div",49)(3,"h5",50),t.EFF(4),t.k0s(),t.j41(5,"p",51),t.EFF(6),t.nI1(7,"date"),t.k0s(),t.j41(8,"p",51),t.EFF(9),t.k0s(),t.j41(10,"span",53),t.EFF(11),t.k0s()(),t.j41(12,"button",56),t.bIt("click",function(){const r=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.deleteDocument(r.id,"test-report"))}),t.EFF(13,"Delete"),t.k0s()()()}if(2&n){const e=l.$implicit,o=t.XpG(2);t.R7$(4),t.JRh(e.testLabName),t.R7$(2),t.Lme("Standard: ",e.testStandard," | Date: ",e.testDate?t.i5U(7,6,e.testDate,"short"):"N/A",""),t.R7$(3),t.SpI("Status: ",e.passFail,""),t.R7$(1),t.Y8G("ngClass",o.getStatusColor(e.verificationStatus)),t.R7$(1),t.SpI(" ",o.formatEnumLabel(e.verificationStatus)," ")}}function q(n,l){1&n&&(t.j41(0,"p",57),t.EFF(1,"No test reports uploaded yet"),t.k0s())}function tt(n,l){1&n&&(t.j41(0,"span",77),t.EFF(1,"Expired"),t.k0s())}function et(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",47)(1,"div",48)(2,"div",49)(3,"h5",50),t.EFF(4),t.k0s(),t.j41(5,"p",51),t.EFF(6),t.k0s(),t.j41(7,"p",51),t.EFF(8),t.nI1(9,"date"),t.nI1(10,"date"),t.k0s(),t.j41(11,"span",53),t.EFF(12),t.k0s(),t.DNE(13,tt,2,0,"span",76),t.k0s(),t.j41(14,"button",56),t.bIt("click",function(){const r=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.deleteDocument(r.id,"certificate"))}),t.EFF(15,"Delete"),t.k0s()()()}if(2&n){const e=l.$implicit,o=t.XpG(2);t.R7$(4),t.JRh(e.certificateName),t.R7$(2),t.Lme("Number: ",e.certificateNumber," | Issued by: ",e.issuingBody,""),t.R7$(2),t.Lme("Valid: ",e.issueDate?t.i5U(9,8,e.issueDate,"short"):"N/A"," - ",e.expiryDate?t.i5U(10,11,e.expiryDate,"short"):"N/A",""),t.R7$(3),t.Y8G("ngClass",o.getStatusColor(e.verificationStatus)),t.R7$(1),t.SpI(" ",o.formatEnumLabel(e.verificationStatus)," "),t.R7$(1),t.Y8G("ngIf",e.isExpired)}}function ot(n,l){1&n&&(t.j41(0,"p",57),t.EFF(1,"No certificates uploaded yet"),t.k0s())}function nt(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",14)(1,"h2",15),t.EFF(2,"Section B: Test Reports & Certificates"),t.k0s(),t.j41(3,"div",58)(4,"h3",17),t.EFF(5,"B1: Test Reports"),t.k0s(),t.j41(6,"div",20)(7,"form",21),t.bIt("ngSubmit",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.uploadTestReport())}),t.j41(8,"div",18)(9,"div",22)(10,"label",23),t.EFF(11,"Testing Laboratory Name *"),t.k0s(),t.nrm(12,"input",59),t.k0s(),t.j41(13,"div",22)(14,"label",23),t.EFF(15,"Laboratory Accreditation *"),t.k0s(),t.nrm(16,"input",60),t.k0s(),t.j41(17,"div",22)(18,"label",23),t.EFF(19,"Test Standard (Code & Year) *"),t.k0s(),t.nrm(20,"input",61),t.k0s(),t.j41(21,"div",22)(22,"label",23),t.EFF(23,"Test Date *"),t.k0s(),t.nrm(24,"input",62),t.k0s(),t.j41(25,"div",28)(26,"label",23),t.EFF(27,"Sample Description *"),t.k0s(),t.nrm(28,"textarea",63),t.k0s(),t.j41(29,"div",28)(30,"label",23),t.EFF(31,"Test Parameters *"),t.k0s(),t.nrm(32,"textarea",64),t.k0s(),t.j41(33,"div",28)(34,"label",23),t.EFF(35,"Test Results Summary *"),t.k0s(),t.nrm(36,"textarea",65),t.k0s(),t.j41(37,"div",22)(38,"label",23),t.EFF(39,"Pass/Fail Status *"),t.k0s(),t.j41(40,"select",66)(41,"option",25),t.EFF(42,"Select..."),t.k0s(),t.DNE(43,K,2,2,"option",26),t.k0s()(),t.j41(44,"div",22)(45,"label",23),t.EFF(46,"Upload Test Report *"),t.k0s(),t.j41(47,"input",67),t.bIt("change",function(i){t.eBV(e);const r=t.XpG();return t.Njj(r.onFileSelected(i,r.testReportForm))}),t.k0s()()(),t.j41(48,"button",34),t.EFF(49),t.k0s()()(),t.j41(50,"div",35)(51,"h4",68),t.EFF(52,"Uploaded Test Reports"),t.k0s(),t.j41(53,"div",36),t.DNE(54,Z,14,9,"div",37),t.DNE(55,q,2,0,"p",38),t.k0s()()(),t.j41(56,"div",69)(57,"h3",17),t.EFF(58,"B2: Existing Certificates"),t.k0s(),t.j41(59,"div",20)(60,"form",21),t.bIt("ngSubmit",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.uploadCertificate())}),t.j41(61,"div",18)(62,"div",22)(63,"label",23),t.EFF(64,"Certificate Name/Type *"),t.k0s(),t.nrm(65,"input",70),t.k0s(),t.j41(66,"div",22)(67,"label",23),t.EFF(68,"Certificate Number *"),t.k0s(),t.nrm(69,"input",71),t.k0s(),t.j41(70,"div",22)(71,"label",23),t.EFF(72,"Issuing Body *"),t.k0s(),t.nrm(73,"input",72),t.k0s(),t.j41(74,"div",22)(75,"label",23),t.EFF(76,"Issue Date *"),t.k0s(),t.nrm(77,"input",73),t.k0s(),t.j41(78,"div",22)(79,"label",23),t.EFF(80,"Expiry Date *"),t.k0s(),t.nrm(81,"input",31),t.k0s(),t.j41(82,"div",22)(83,"label",23),t.EFF(84,"Upload Certificate *"),t.k0s(),t.j41(85,"input",74),t.bIt("change",function(i){t.eBV(e);const r=t.XpG();return t.Njj(r.onFileSelected(i,r.certificateForm))}),t.k0s()(),t.j41(86,"div",28)(87,"label",23),t.EFF(88,"Certificate Scope *"),t.k0s(),t.nrm(89,"textarea",75),t.k0s()(),t.j41(90,"button",34),t.EFF(91),t.k0s()()(),t.j41(92,"div",35)(93,"h4",68),t.EFF(94,"Uploaded Certificates"),t.k0s(),t.j41(95,"div",36),t.DNE(96,et,16,14,"div",37),t.DNE(97,ot,2,0,"p",38),t.k0s()()()()}if(2&n){const e=t.XpG();let o,i,r,s,f,d,p,R,b,v,C,I,D,S,N,T;t.R7$(7),t.Y8G("formGroup",e.testReportForm),t.R7$(5),t.AVh("invalid",(null==(o=e.testReportForm.get("testLabName"))?null:o.invalid)&&(null==(o=e.testReportForm.get("testLabName"))?null:o.touched)),t.R7$(4),t.AVh("invalid",(null==(i=e.testReportForm.get("labAccreditation"))?null:i.invalid)&&(null==(i=e.testReportForm.get("labAccreditation"))?null:i.touched)),t.R7$(4),t.AVh("invalid",(null==(r=e.testReportForm.get("testStandard"))?null:r.invalid)&&(null==(r=e.testReportForm.get("testStandard"))?null:r.touched)),t.R7$(4),t.AVh("invalid",(null==(s=e.testReportForm.get("testDate"))?null:s.invalid)&&(null==(s=e.testReportForm.get("testDate"))?null:s.touched)),t.R7$(4),t.AVh("invalid",(null==(f=e.testReportForm.get("sampleDescription"))?null:f.invalid)&&(null==(f=e.testReportForm.get("sampleDescription"))?null:f.touched)),t.R7$(4),t.AVh("invalid",(null==(d=e.testReportForm.get("testParameters"))?null:d.invalid)&&(null==(d=e.testReportForm.get("testParameters"))?null:d.touched)),t.R7$(4),t.AVh("invalid",(null==(p=e.testReportForm.get("testResultsSummary"))?null:p.invalid)&&(null==(p=e.testReportForm.get("testResultsSummary"))?null:p.touched)),t.R7$(4),t.AVh("invalid",(null==(R=e.testReportForm.get("passFail"))?null:R.invalid)&&(null==(R=e.testReportForm.get("passFail"))?null:R.touched)),t.R7$(3),t.Y8G("ngForOf",e.passFailStatuses),t.R7$(4),t.AVh("invalid",(null==(b=e.testReportForm.get("file"))?null:b.invalid)&&(null==(b=e.testReportForm.get("file"))?null:b.touched)),t.R7$(1),t.Y8G("disabled",e.uploading||e.testReportForm.invalid),t.R7$(1),t.SpI(" ",e.uploading?"Uploading...":"Upload Test Report"," "),t.R7$(5),t.Y8G("ngForOf",e.testReports),t.R7$(1),t.Y8G("ngIf",0===e.testReports.length),t.R7$(5),t.Y8G("formGroup",e.certificateForm),t.R7$(5),t.AVh("invalid",(null==(v=e.certificateForm.get("certificateName"))?null:v.invalid)&&(null==(v=e.certificateForm.get("certificateName"))?null:v.touched)),t.R7$(4),t.AVh("invalid",(null==(C=e.certificateForm.get("certificateNumber"))?null:C.invalid)&&(null==(C=e.certificateForm.get("certificateNumber"))?null:C.touched)),t.R7$(4),t.AVh("invalid",(null==(I=e.certificateForm.get("issuingBody"))?null:I.invalid)&&(null==(I=e.certificateForm.get("issuingBody"))?null:I.touched)),t.R7$(4),t.AVh("invalid",(null==(D=e.certificateForm.get("issueDate"))?null:D.invalid)&&(null==(D=e.certificateForm.get("issueDate"))?null:D.touched)),t.R7$(4),t.AVh("invalid",(null==(S=e.certificateForm.get("expiryDate"))?null:S.invalid)&&(null==(S=e.certificateForm.get("expiryDate"))?null:S.touched)),t.R7$(4),t.AVh("invalid",(null==(N=e.certificateForm.get("file"))?null:N.invalid)&&(null==(N=e.certificateForm.get("file"))?null:N.touched)),t.R7$(4),t.AVh("invalid",(null==(T=e.certificateForm.get("certificateScope"))?null:T.invalid)&&(null==(T=e.certificateForm.get("certificateScope"))?null:T.touched)),t.R7$(1),t.Y8G("disabled",e.uploading||e.certificateForm.invalid),t.R7$(1),t.SpI(" ",e.uploading?"Uploading...":"Upload Certificate"," "),t.R7$(5),t.Y8G("ngForOf",e.existingCertificates),t.R7$(1),t.Y8G("ngIf",0===e.existingCertificates.length)}}function it(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",47)(1,"div",48)(2,"div",49)(3,"h4",50),t.EFF(4),t.k0s(),t.j41(5,"p",51),t.EFF(6),t.k0s(),t.j41(7,"span",53),t.EFF(8),t.k0s()(),t.j41(9,"button",56),t.bIt("click",function(){const r=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.deleteDocument(r.id,"supply-chain"))}),t.EFF(10,"Delete"),t.k0s()()()}if(2&n){const e=l.$implicit,o=t.XpG(2);t.R7$(4),t.JRh(e.documentName),t.R7$(2),t.JRh(o.formatEnumLabel(e.documentType)),t.R7$(1),t.Y8G("ngClass",o.getStatusColor(e.verificationStatus)),t.R7$(1),t.SpI(" ",o.formatEnumLabel(e.verificationStatus)," ")}}function rt(n,l){1&n&&(t.j41(0,"p",57),t.EFF(1,"No supply chain documents uploaded yet"),t.k0s())}function at(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",14)(1,"h2",15),t.EFF(2,"Section C: Supply Chain & Traceability Documents"),t.k0s(),t.j41(3,"div",20)(4,"form",21),t.bIt("ngSubmit",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.uploadSupplyChainDocument())}),t.j41(5,"div",18)(6,"div",22)(7,"label",23),t.EFF(8,"Document Type *"),t.k0s(),t.j41(9,"select",27)(10,"option",25),t.EFF(11,"Select..."),t.k0s(),t.j41(12,"option",78),t.EFF(13,"Supplier List"),t.k0s(),t.j41(14,"option",79),t.EFF(15,"Supplier Evaluation"),t.k0s(),t.j41(16,"option",80),t.EFF(17,"Material Certificate"),t.k0s(),t.j41(18,"option",81),t.EFF(19,"Traceability Records"),t.k0s(),t.j41(20,"option",82),t.EFF(21,"Batch Records"),t.k0s(),t.j41(22,"option",83),t.EFF(23,"Recall Procedure"),t.k0s()()(),t.j41(24,"div",22)(25,"label",23),t.EFF(26,"Document Name *"),t.k0s(),t.nrm(27,"input",29),t.k0s(),t.j41(28,"div",28)(29,"label",23),t.EFF(30,"Description"),t.k0s(),t.nrm(31,"textarea",30),t.k0s(),t.j41(32,"div",28)(33,"label",23),t.EFF(34,"Upload File *"),t.k0s(),t.j41(35,"input",84),t.bIt("change",function(i){t.eBV(e);const r=t.XpG();return t.Njj(r.onFileSelected(i,r.supplyChainForm))}),t.k0s()()(),t.j41(36,"button",34),t.EFF(37),t.k0s()()(),t.j41(38,"div",35)(39,"h3",68),t.EFF(40,"Uploaded Supply Chain Documents"),t.k0s(),t.j41(41,"div",36),t.DNE(42,it,11,4,"div",37),t.DNE(43,rt,2,0,"p",38),t.k0s()()()}if(2&n){const e=t.XpG();let o,i,r;t.R7$(4),t.Y8G("formGroup",e.supplyChainForm),t.R7$(5),t.AVh("invalid",(null==(o=e.supplyChainForm.get("documentType"))?null:o.invalid)&&(null==(o=e.supplyChainForm.get("documentType"))?null:o.touched)),t.R7$(18),t.AVh("invalid",(null==(i=e.supplyChainForm.get("documentName"))?null:i.invalid)&&(null==(i=e.supplyChainForm.get("documentName"))?null:i.touched)),t.R7$(8),t.AVh("invalid",(null==(r=e.supplyChainForm.get("file"))?null:r.invalid)&&(null==(r=e.supplyChainForm.get("file"))?null:r.touched)),t.R7$(1),t.Y8G("disabled",e.uploading||e.supplyChainForm.invalid),t.R7$(1),t.SpI(" ",e.uploading?"Uploading...":"Upload Document"," "),t.R7$(5),t.Y8G("ngForOf",e.supplyChainDocuments),t.R7$(1),t.Y8G("ngIf",0===e.supplyChainDocuments.length)}}function lt(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",47)(1,"div",48)(2,"div",49)(3,"h4",50),t.EFF(4),t.k0s(),t.j41(5,"p",51),t.EFF(6),t.k0s(),t.j41(7,"span",53),t.EFF(8),t.k0s()(),t.j41(9,"button",56),t.bIt("click",function(){const r=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.deleteDocument(r.id,"environmental"))}),t.EFF(10,"Delete"),t.k0s()()()}if(2&n){const e=l.$implicit,o=t.XpG(2);t.R7$(4),t.JRh(e.documentName),t.R7$(2),t.JRh(o.formatEnumLabel(e.documentType)),t.R7$(1),t.Y8G("ngClass",o.getStatusColor(e.verificationStatus)),t.R7$(1),t.SpI(" ",o.formatEnumLabel(e.verificationStatus)," ")}}function st(n,l){1&n&&(t.j41(0,"p",57),t.EFF(1,"No environmental documents uploaded yet"),t.k0s())}function ct(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",14)(1,"h2",15),t.EFF(2,"Section D: Environmental Documents (For EMA Only)"),t.k0s(),t.j41(3,"div",20)(4,"form",21),t.bIt("ngSubmit",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.uploadEnvironmentalDocument())}),t.j41(5,"div",18)(6,"div",22)(7,"label",23),t.EFF(8,"Document Type *"),t.k0s(),t.j41(9,"select",27)(10,"option",25),t.EFF(11,"Select..."),t.k0s(),t.j41(12,"option",85),t.EFF(13,"Environmental Policy"),t.k0s(),t.j41(14,"option",86),t.EFF(15,"Environmental Manual"),t.k0s(),t.j41(16,"option",87),t.EFF(17,"LCA Report"),t.k0s(),t.j41(18,"option",88),t.EFF(19,"Carbon Footprint Report"),t.k0s(),t.j41(20,"option",89),t.EFF(21,"Energy Audit"),t.k0s(),t.j41(22,"option",90),t.EFF(23,"Waste Audit"),t.k0s(),t.j41(24,"option",91),t.EFF(25,"Recycling Certificate"),t.k0s(),t.j41(26,"option",92),t.EFF(27,"Sustainable Sourcing"),t.k0s()()(),t.j41(28,"div",22)(29,"label",23),t.EFF(30,"Document Name *"),t.k0s(),t.nrm(31,"input",29),t.k0s(),t.j41(32,"div",28)(33,"label",23),t.EFF(34,"Description"),t.k0s(),t.nrm(35,"textarea",30),t.k0s(),t.j41(36,"div",28)(37,"label",23),t.EFF(38,"Upload File *"),t.k0s(),t.j41(39,"input",32),t.bIt("change",function(i){t.eBV(e);const r=t.XpG();return t.Njj(r.onFileSelected(i,r.environmentalForm))}),t.k0s()()(),t.j41(40,"button",34),t.EFF(41),t.k0s()()(),t.j41(42,"div",35)(43,"h3",68),t.EFF(44,"Uploaded Environmental Documents"),t.k0s(),t.j41(45,"div",36),t.DNE(46,lt,11,4,"div",37),t.DNE(47,st,2,0,"p",38),t.k0s()()()}if(2&n){const e=t.XpG();let o,i,r;t.R7$(4),t.Y8G("formGroup",e.environmentalForm),t.R7$(5),t.AVh("invalid",(null==(o=e.environmentalForm.get("documentType"))?null:o.invalid)&&(null==(o=e.environmentalForm.get("documentType"))?null:o.touched)),t.R7$(22),t.AVh("invalid",(null==(i=e.environmentalForm.get("documentName"))?null:i.invalid)&&(null==(i=e.environmentalForm.get("documentName"))?null:i.touched)),t.R7$(8),t.AVh("invalid",(null==(r=e.environmentalForm.get("file"))?null:r.invalid)&&(null==(r=e.environmentalForm.get("file"))?null:r.touched)),t.R7$(1),t.Y8G("disabled",e.uploading||e.environmentalForm.invalid),t.R7$(1),t.SpI(" ",e.uploading?"Uploading...":"Upload Document"," "),t.R7$(5),t.Y8G("ngForOf",e.environmentalDocuments),t.R7$(1),t.Y8G("ngIf",0===e.environmentalDocuments.length)}}let j=(()=>{class n{constructor(e,o,i,r,s,f){this.fb=e,this.documentUploadService=o,this.operatorService=i,this.productCertificationService=r,this.router=s,this.route=f,this.currentSection="A",this.loading=!1,this.error="",this.success="",this.operator=null,this.application=null,this.operatorDocuments=[],this.testReports=[],this.existingCertificates=[],this.supplyChainDocuments=[],this.environmentalDocuments=[],this.selectedFile=null,this.uploading=!1,this.uploadProgress=0,this.documentCategories=Object.values(E).map(d=>({value:d,label:d.replace(/_/g," ").replace(/\b\w/g,p=>p.toUpperCase())})),this.documentTypes=Object.values(u).map(d=>({value:d,label:d.replace(/_/g," ").replace(/\b\w/g,p=>p.toUpperCase())})),this.passFailStatuses=Object.values(x).map(d=>({value:d,label:d.replace(/_/g," ").replace(/\b\w/g,p=>p.toUpperCase())})),this.mandatoryDocumentTypes=[u.BUSINESS_REGISTRATION,u.TAX_CERTIFICATE,u.QUALITY_MANUAL,u.FACTORY_LAYOUT,u.PROCESS_FLOW_DIAGRAMS],this.operatorDocumentForm=this.createOperatorDocumentForm(),this.testReportForm=this.createTestReportForm(),this.certificateForm=this.createCertificateForm(),this.supplyChainForm=this.createSupplyChainForm(),this.environmentalForm=this.createEnvironmentalForm()}ngOnInit(){this.loadOperator(),this.route.params.subscribe(e=>{e.applicationId&&(this.applicationId=e.applicationId,this.loadApplication()),e.productId&&(this.productId=e.productId)})}createOperatorDocumentForm(){return this.fb.group({documentCategory:["",a.k0.required],documentType:["",a.k0.required],documentName:["",[a.k0.required,a.k0.maxLength(255)]],description:["",a.k0.maxLength(1e3)],expiryDate:[""],file:[null,a.k0.required]})}createTestReportForm(){return this.fb.group({testLabName:["",[a.k0.required,a.k0.maxLength(255)]],labAccreditation:["",[a.k0.required,a.k0.maxLength(255)]],testStandard:["",[a.k0.required,a.k0.maxLength(100)]],testDate:["",a.k0.required],sampleDescription:["",[a.k0.required,a.k0.maxLength(1e3)]],testParameters:["",[a.k0.required,a.k0.maxLength(2e3)]],testResultsSummary:["",[a.k0.required,a.k0.maxLength(2e3)]],passFail:["",a.k0.required],file:[null,a.k0.required]})}createCertificateForm(){return this.fb.group({certificateName:["",[a.k0.required,a.k0.maxLength(255)]],certificateNumber:["",[a.k0.required,a.k0.maxLength(50)]],issuingBody:["",[a.k0.required,a.k0.maxLength(255)]],issueDate:["",a.k0.required],expiryDate:["",a.k0.required],certificateScope:["",[a.k0.required,a.k0.maxLength(1e3)]],file:[null,a.k0.required]})}createSupplyChainForm(){return this.fb.group({documentType:["",a.k0.required],documentName:["",[a.k0.required,a.k0.maxLength(255)]],description:["",a.k0.maxLength(1e3)],file:[null,a.k0.required]})}createEnvironmentalForm(){return this.fb.group({documentType:["",a.k0.required],documentName:["",[a.k0.required,a.k0.maxLength(255)]],description:["",a.k0.maxLength(1e3)],file:[null,a.k0.required]})}loadOperator(){this.operatorService.getMyOperator().subscribe({next:e=>{this.operator=e,e&&this.loadOperatorDocuments(e.id)},error:e=>{console.error("Error loading operator:",e)}})}loadApplication(){this.applicationId&&this.productCertificationService.getApplicationById(this.applicationId).subscribe({next:e=>{this.application=e,e.products&&e.products.length>0&&(this.productId=e.products[0].id),this.loadTestReports(),this.loadCertificates(),this.loadEnvironmentalDocuments()},error:e=>{console.error("Error loading application:",e)}})}loadOperatorDocuments(e){this.loading=!0,this.documentUploadService.getOperatorDocuments(e).subscribe({next:o=>{this.operatorDocuments=o,this.loading=!1},error:o=>{this.loading=!1,console.error("Error loading operator documents:",o)}})}loadTestReports(){const e={};this.productId&&(e.productId=this.productId),this.applicationId&&(e.applicationId=this.applicationId),this.documentUploadService.getTestReports(e).subscribe({next:o=>{this.testReports=o},error:o=>{console.error("Error loading test reports:",o)}})}loadCertificates(){const e={};this.productId&&(e.productId=this.productId),this.applicationId&&(e.applicationId=this.applicationId),this.documentUploadService.getExistingCertificates(e).subscribe({next:o=>{this.existingCertificates=o},error:o=>{console.error("Error loading certificates:",o)}})}loadSupplyChainDocuments(){const e={};this.operator?.id&&(e.operatorId=this.operator.id),this.productId&&(e.productId=this.productId),this.documentUploadService.getSupplyChainDocuments(e).subscribe({next:o=>{this.supplyChainDocuments=o},error:o=>{console.error("Error loading supply chain documents:",o)}})}loadEnvironmentalDocuments(){const e={};this.productId&&(e.productId=this.productId),this.applicationId&&(e.applicationId=this.applicationId),this.documentUploadService.getEnvironmentalDocuments(e).subscribe({next:o=>{this.environmentalDocuments=o},error:o=>{console.error("Error loading environmental documents:",o)}})}onFileSelected(e,o){const i=e.target.files[0];if(i){if(i.size>10485760)return void(this.error="File size must be less than 10MB");if(!["application/pdf","image/jpeg","image/png","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(i.type))return void(this.error="Invalid file type. Allowed types: PDF, JPG, PNG, DOC, DOCX");o.patchValue({file:i}),this.selectedFile=i,this.error=""}}uploadOperatorDocument(){if(this.operatorDocumentForm.invalid||!this.operator)return void this.markFormGroupTouched(this.operatorDocumentForm);this.uploading=!0,this.error="",this.success="";const e=this.operatorDocumentForm.value;this.documentUploadService.uploadOperatorDocument(this.operator.id,{documentCategory:e.documentCategory,documentType:e.documentType,documentName:e.documentName,description:e.description,expiryDate:e.expiryDate,file:e.file,operatorId:this.operator.id}).subscribe({next:()=>{this.uploading=!1,this.success="Document uploaded successfully",this.operatorDocumentForm.reset(),this.selectedFile=null,this.loadOperatorDocuments(this.operator.id),setTimeout(()=>{this.success=""},3e3)},error:i=>{this.uploading=!1,this.error=i.error?.message||"Failed to upload document"}})}uploadTestReport(){if(this.testReportForm.invalid)return void this.markFormGroupTouched(this.testReportForm);this.uploading=!0,this.error="",this.success="";const e=this.testReportForm.value;this.documentUploadService.uploadTestReport({testLabName:e.testLabName,labAccreditation:e.labAccreditation,testStandard:e.testStandard,testDate:e.testDate,sampleDescription:e.sampleDescription,testParameters:e.testParameters,testResultsSummary:e.testResultsSummary,passFail:e.passFail,file:e.file,productId:this.productId,applicationId:this.applicationId}).subscribe({next:()=>{this.uploading=!1,this.success="Test report uploaded successfully",this.testReportForm.reset(),this.selectedFile=null,this.loadTestReports(),setTimeout(()=>{this.success=""},3e3)},error:i=>{this.uploading=!1,this.error=i.error?.message||"Failed to upload test report"}})}uploadCertificate(){if(this.certificateForm.invalid)return void this.markFormGroupTouched(this.certificateForm);this.uploading=!0,this.error="",this.success="";const e=this.certificateForm.value;this.documentUploadService.uploadCertificate({certificateName:e.certificateName,certificateNumber:e.certificateNumber,issuingBody:e.issuingBody,issueDate:e.issueDate,expiryDate:e.expiryDate,certificateScope:e.certificateScope,file:e.file,productId:this.productId,applicationId:this.applicationId}).subscribe({next:()=>{this.uploading=!1,this.success="Certificate uploaded successfully",this.certificateForm.reset(),this.selectedFile=null,this.loadCertificates(),setTimeout(()=>{this.success=""},3e3)},error:i=>{this.uploading=!1,this.error=i.error?.message||"Failed to upload certificate"}})}uploadSupplyChainDocument(){if(this.supplyChainForm.invalid||!this.operator)return void this.markFormGroupTouched(this.supplyChainForm);this.uploading=!0,this.error="",this.success="";const e=this.supplyChainForm.value;this.documentUploadService.uploadSupplyChainDocument({documentCategory:E.SUPPLY_CHAIN,documentType:e.documentType,documentName:e.documentName,description:e.description,file:e.file,operatorId:this.operator.id,productId:this.productId}).subscribe({next:()=>{this.uploading=!1,this.success="Supply chain document uploaded successfully",this.supplyChainForm.reset(),this.selectedFile=null,this.loadSupplyChainDocuments(),setTimeout(()=>{this.success=""},3e3)},error:i=>{this.uploading=!1,this.error=i.error?.message||"Failed to upload document"}})}uploadEnvironmentalDocument(){if(this.environmentalForm.invalid)return void this.markFormGroupTouched(this.environmentalForm);this.uploading=!0,this.error="",this.success="";const e=this.environmentalForm.value;this.documentUploadService.uploadEnvironmentalDocument({documentCategory:E.ENVIRONMENTAL,documentType:e.documentType,documentName:e.documentName,description:e.description,file:e.file,productId:this.productId,applicationId:this.applicationId}).subscribe({next:()=>{this.uploading=!1,this.success="Environmental document uploaded successfully",this.environmentalForm.reset(),this.selectedFile=null,this.loadEnvironmentalDocuments(),setTimeout(()=>{this.success=""},3e3)},error:i=>{this.uploading=!1,this.error=i.error?.message||"Failed to upload document"}})}deleteDocument(e,o){if(!confirm("Are you sure you want to delete this document?"))return;let i;switch(o){case"operator":this.operator&&(i=this.documentUploadService.deleteOperatorDocument(this.operator.id,e));break;case"test-report":i=this.documentUploadService.deleteTestReport(e);break;case"certificate":i=this.documentUploadService.deleteCertificate(e);break;case"supply-chain":i=this.documentUploadService.deleteSupplyChainDocument(e);break;case"environmental":i=this.documentUploadService.deleteEnvironmentalDocument(e)}i&&i.subscribe({next:()=>{this.success="Document deleted successfully",this.operator&&this.loadOperatorDocuments(this.operator.id),this.loadTestReports(),this.loadCertificates(),this.loadSupplyChainDocuments(),this.loadEnvironmentalDocuments(),setTimeout(()=>{this.success=""},3e3)},error:r=>{this.error=r.error?.message||"Failed to delete document"}})}downloadDocument(e,o){this.operator&&this.documentUploadService.downloadOperatorDocument(this.operator.id,e).subscribe({next:i=>{const r=window.URL.createObjectURL(i),s=document.createElement("a");s.href=r,s.download=o,s.click(),window.URL.revokeObjectURL(r)},error:i=>{this.error="Failed to download document"}})}getStatusColor(e){switch(e){case m.APPROVED:case F.VERIFIED:return"text-green-600 bg-green-100";case m.REJECTED:case F.REJECTED:return"text-red-600 bg-red-100";case m.EXPIRED:case F.EXPIRED:return"text-orange-600 bg-orange-100";case m.UNDER_REVIEW:return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}}isMandatoryDocumentUploaded(e){return this.operatorDocuments.some(o=>o.documentType===e&&o.isCurrentVersion&&o.verificationStatus===m.APPROVED)}markFormGroupTouched(e){Object.keys(e.controls).forEach(o=>{e.get(o)?.markAsTouched()})}formatFileSize(e){if(0===e)return"0 Bytes";const r=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,r)*100)/100+" "+["Bytes","KB","MB","GB"][r]}hasEmaApplication(){return!!this.application?.markRequested&&(this.application.markRequested.includes(U.gx.ECO_MARK_AFRICA)||this.application.markRequested.includes(U.gx.BOTH))}switchSection(e){this.currentSection=e,"C"===e&&this.loadSupplyChainDocuments()}formatEnumLabel(e){return e.replace(/_/g," ").replace(/\b\w/g,o=>o.toUpperCase())}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(a.ok),t.rXU(P),t.rXU($.U),t.rXU(G.$),t.rXU(A.Ix),t.rXU(A.nX))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-document-upload"]],decls:22,vars:25,consts:[[1,"document-upload-container","max-w-7xl","mx-auto","p-6"],[1,"bg-white","rounded-lg","shadow-lg","p-8"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],["class","mb-6 p-4 bg-green-100 border border-green-400 text-green-700 rounded",4,"ngIf"],["class","mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded",4,"ngIf"],[1,"mb-8","border-b"],[1,"flex","space-x-8"],[1,"px-4","py-2","font-medium","text-gray-700","hover:text-blue-600",3,"click"],["class","px-4 py-2 font-medium text-gray-700 hover:text-blue-600",3,"border-b-2","border-blue-600","text-blue-600","click",4,"ngIf"],["class","space-y-6",4,"ngIf"],[1,"mb-6","p-4","bg-green-100","border","border-green-400","text-green-700","rounded"],[1,"mb-6","p-4","bg-red-100","border","border-red-400","text-red-700","rounded"],[1,"space-y-6"],[1,"text-2xl","font-semibold","mb-4"],[1,"bg-gray-50","p-6","rounded-lg","mb-6"],[1,"text-lg","font-semibold","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["class","flex items-center p-3 bg-white rounded border",4,"ngFor","ngForOf"],[1,"bg-gray-50","p-6","rounded-lg"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["formControlName","documentCategory",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","documentType",1,"form-control"],[1,"form-group","md:col-span-2"],["type","text","formControlName","documentName",1,"form-control"],["formControlName","description","rows","3",1,"form-control"],["type","date","formControlName","expiryDate",1,"form-control"],["type","file","accept",".pdf,.jpg,.jpeg,.png,.doc,.docx",1,"form-control",3,"change"],[1,"text-gray-500"],["type","submit",1,"mt-4","px-6","py-2","bg-blue-600","text-white","rounded","hover:bg-blue-700","disabled:opacity-50",3,"disabled"],[1,"mt-6"],[1,"space-y-4"],["class","p-4 border rounded-lg bg-white",4,"ngFor","ngForOf"],["class","text-gray-500 text-center py-8",4,"ngIf"],[1,"flex","items-center","p-3","bg-white","rounded","border"],[1,"mr-2"],["class","w-5 h-5","fill","currentColor","viewBox","0 0 20 20",4,"ngIf"],[1,"text-sm"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[3,"value"],[1,"p-4","border","rounded-lg","bg-white"],[1,"flex","justify-between","items-start"],[1,"flex-1"],[1,"font-semibold"],[1,"text-sm","text-gray-600"],[1,"text-xs","text-gray-500","mt-1"],[1,"inline-block","px-2","py-1","rounded","text-xs","mt-2",3,"ngClass"],[1,"flex","gap-2"],[1,"px-3","py-1","bg-gray-200","text-gray-700","rounded","hover:bg-gray-300","text-sm",3,"click"],[1,"px-3","py-1","bg-red-200","text-red-700","rounded","hover:bg-red-300","text-sm",3,"click"],[1,"text-gray-500","text-center","py-8"],[1,"mb-6"],["type","text","formControlName","testLabName",1,"form-control"],["type","text","formControlName","labAccreditation",1,"form-control"],["type","text","formControlName","testStandard","placeholder","e.g., ISO 9001:2015",1,"form-control"],["type","date","formControlName","testDate",1,"form-control"],["formControlName","sampleDescription","rows","3",1,"form-control"],["formControlName","testParameters","rows","3",1,"form-control"],["formControlName","testResultsSummary","rows","3",1,"form-control"],["formControlName","passFail",1,"form-control"],["type","file","accept",".pdf",1,"form-control",3,"change"],[1,"font-semibold","mb-4"],[1,"mt-8"],["type","text","formControlName","certificateName","placeholder","e.g., ISO 9001, HACCP",1,"form-control"],["type","text","formControlName","certificateNumber",1,"form-control"],["type","text","formControlName","issuingBody",1,"form-control"],["type","date","formControlName","issueDate",1,"form-control"],["type","file","accept",".pdf,.jpg,.jpeg,.png",1,"form-control",3,"change"],["formControlName","certificateScope","rows","3",1,"form-control"],["class","inline-block px-2 py-1 rounded text-xs mt-2 bg-orange-100 text-orange-600 ml-2",4,"ngIf"],[1,"inline-block","px-2","py-1","rounded","text-xs","mt-2","bg-orange-100","text-orange-600","ml-2"],["value","SUPPLIER_LIST"],["value","SUPPLIER_EVALUATION"],["value","MATERIAL_CERTIFICATE"],["value","TRACEABILITY_RECORDS"],["value","BATCH_RECORDS"],["value","RECALL_PROCEDURE"],["type","file","accept",".pdf,.jpg,.jpeg,.png,.doc,.docx,.xls,.xlsx",1,"form-control",3,"change"],["value","ENVIRONMENTAL_POLICY"],["value","ENVIRONMENTAL_MANUAL"],["value","LCA_REPORT"],["value","CARBON_FOOTPRINT_REPORT"],["value","ENERGY_AUDIT"],["value","WASTE_AUDIT"],["value","RECYCLING_CERTIFICATE"],["value","SUSTAINABLE_SOURCING"]],template:function(o,i){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),t.EFF(4,"Document Upload Center"),t.k0s(),t.j41(5,"p",4),t.EFF(6,"Upload and manage all required documents for ARSO Mark Certification"),t.k0s()(),t.DNE(7,M,2,1,"div",5),t.DNE(8,V,2,1,"div",6),t.j41(9,"div",7)(10,"nav",8)(11,"button",9),t.bIt("click",function(){return i.switchSection("A")}),t.EFF(12," Section A: Mandatory Documents "),t.k0s(),t.j41(13,"button",9),t.bIt("click",function(){return i.switchSection("B")}),t.EFF(14," Section B: Test Reports & Certificates "),t.k0s(),t.j41(15,"button",9),t.bIt("click",function(){return i.switchSection("C")}),t.EFF(16," Section C: Supply Chain Documents "),t.k0s(),t.DNE(17,Y,2,6,"button",10),t.k0s()(),t.DNE(18,Q,53,16,"div",11),t.DNE(19,nt,98,43,"div",11),t.DNE(20,at,44,11,"div",11),t.DNE(21,ct,48,11,"div",11),t.k0s()()),2&o&&(t.R7$(7),t.Y8G("ngIf",i.success),t.R7$(1),t.Y8G("ngIf",i.error),t.R7$(3),t.AVh("border-b-2","A"===i.currentSection)("border-blue-600","A"===i.currentSection)("text-blue-600","A"===i.currentSection),t.R7$(2),t.AVh("border-b-2","B"===i.currentSection)("border-blue-600","B"===i.currentSection)("text-blue-600","B"===i.currentSection),t.R7$(2),t.AVh("border-b-2","C"===i.currentSection)("border-blue-600","C"===i.currentSection)("text-blue-600","C"===i.currentSection),t.R7$(2),t.Y8G("ngIf",i.hasEmaApplication()),t.R7$(1),t.Y8G("ngIf","A"===i.currentSection),t.R7$(1),t.Y8G("ngIf","B"===i.currentSection),t.R7$(1),t.Y8G("ngIf","C"===i.currentSection),t.R7$(1),t.Y8G("ngIf","D"===i.currentSection&&i.hasEmaApplication()))},dependencies:[_.YU,_.Sq,_.bT,a.qT,a.xH,a.y7,a.me,a.wz,a.BC,a.cb,a.j4,a.JD,_.vh],styles:[".document-upload-container[_ngcontent-%COMP%]{min-height:calc(100vh - 4rem)}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.5rem .75rem;border:1px solid #d1d5db;border-radius:.375rem;font-size:.875rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-control.invalid[_ngcontent-%COMP%]{border-color:#ef4444}.form-control[type=file][_ngcontent-%COMP%]{padding:.375rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.25rem}.section-tabs[_ngcontent-%COMP%]{border-bottom:2px solid #e5e7eb}.tab-button[_ngcontent-%COMP%]{padding:.75rem 1rem;font-weight:500;color:#6b7280;border-bottom:2px solid transparent;transition:all .2s ease}.tab-button[_ngcontent-%COMP%]:hover{color:#2563eb}.tab-button.active[_ngcontent-%COMP%]{color:#2563eb;border-bottom-color:#2563eb}.document-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:.5rem;padding:1rem;margin-bottom:1rem;background-color:#fff;transition:border-color .2s ease}.document-card[_ngcontent-%COMP%]:hover{border-color:#3b82f6}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .5rem;border-radius:.25rem;font-size:.75rem;font-weight:500}.file-upload-area[_ngcontent-%COMP%]{border:2px dashed #d1d5db;border-radius:.5rem;padding:2rem;text-align:center;transition:border-color .2s ease}.file-upload-area[_ngcontent-%COMP%]:hover{border-color:#3b82f6}.file-upload-area.dragover[_ngcontent-%COMP%]{border-color:#2563eb;background-color:#eff6ff}.upload-progress[_ngcontent-%COMP%]{width:100%;height:.5rem;background-color:#e5e7eb;border-radius:.25rem;overflow:hidden;margin-top:.5rem}.upload-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:100%;background-color:#2563eb;transition:width .3s ease}.checklist-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.75rem;background-color:#fff;border:1px solid #e5e7eb;border-radius:.375rem;margin-bottom:.5rem}.checklist-item[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{margin-right:.5rem;flex-shrink:0}.checklist-item.completed[_ngcontent-%COMP%]{border-color:#10b981;background-color:#f0fdf4}.btn[_ngcontent-%COMP%]{padding:.5rem 1.5rem;border-radius:.375rem;font-weight:500;transition:all .2s ease;cursor:pointer;border:none}.btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn.btn-primary[_ngcontent-%COMP%]{background-color:#2563eb;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#1d4ed8}.btn.btn-danger[_ngcontent-%COMP%]{background-color:#ef4444;color:#fff}.btn.btn-danger[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#dc2626}.alert[_ngcontent-%COMP%]{padding:1rem;border-radius:.375rem;margin-bottom:1rem}.alert.alert-success[_ngcontent-%COMP%]{background-color:#d1fae5;border:1px solid #10b981;color:#065f46}.alert.alert-error[_ngcontent-%COMP%]{background-color:#fee2e2;border:1px solid #ef4444;color:#991b1b}"]})}}return n})();var y=c(9303),h=c(1749);const dt=[{path:"",component:j,canActivate:[y.K],data:{roles:[h.g.OPERATOR,h.g.SUPER_ADMIN,h.g.ARSO_SECRETARIAT]}},{path:"application/:applicationId",component:j,canActivate:[y.K],data:{roles:[h.g.OPERATOR,h.g.SUPER_ADMIN,h.g.ARSO_SECRETARIAT]}}];let pt=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[_.MD,a.X1,a.YN,A.iI.forChild(dt)]})}}return n})()}}]);