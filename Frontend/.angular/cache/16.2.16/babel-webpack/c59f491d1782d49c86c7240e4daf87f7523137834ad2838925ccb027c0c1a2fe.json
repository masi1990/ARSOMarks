{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { CbAccreditationStandard, CbDocumentType } from '../../shared/models/cb-application.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../modules/cb-approval/services/cb-application.service\";\nimport * as i3 from \"../../modules/nsb-management/services/country.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nfunction CbApplicationComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.error, \" \");\n  }\n}\nfunction CbApplicationComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 53);\n    i0.ɵɵtext(1, \" Application submitted successfully. Redirecting... \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CbApplicationComponent_option_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 35);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const country_r13 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", country_r13.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(country_r13.name);\n  }\n}\nfunction CbApplicationComponent_label_65_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"label\", 31)(1, \"input\", 32);\n    i0.ɵɵlistener(\"change\", function CbApplicationComponent_label_65_Template_input_change_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r16);\n      const region_r14 = restoredCtx.$implicit;\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.toggleRegion(region_r14.code));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const region_r14 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"checked\", (tmp_0_0 = ctx_r3.form.get(\"regionsOfOperation\")) == null ? null : tmp_0_0.value == null ? null : tmp_0_0.value.includes(region_r14.code));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(region_r14.name);\n  }\n}\nfunction CbApplicationComponent_div_70_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 54);\n    i0.ɵɵelement(1, \"input\", 55);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CbApplicationComponent_option_87_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 35);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const standard_r17 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", standard_r17);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(standard_r17);\n  }\n}\nfunction CbApplicationComponent_option_94_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" (AFRAC MRA)\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CbApplicationComponent_option_94_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 35);\n    i0.ɵɵtext(1);\n    i0.ɵɵtemplate(2, CbApplicationComponent_option_94_span_2_Template, 2, 0, \"span\", 50);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const body_r18 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", body_r18.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", body_r18.name, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", body_r18.isFracMraSignatory);\n  }\n}\nfunction CbApplicationComponent_div_111_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"label\", 13);\n    i0.ɵɵtext(2, \"Accreditation Application Date *\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"input\", 56);\n    i0.ɵɵelementStart(4, \"label\", 57);\n    i0.ɵɵtext(5, \"Progress Updates\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"textarea\", 58);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CbApplicationComponent_label_116_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"label\", 31)(1, \"input\", 32);\n    i0.ɵɵlistener(\"change\", function CbApplicationComponent_label_116_Template_input_change_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const scheme_r20 = restoredCtx.$implicit;\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.toggleScheme(scheme_r20.code));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const scheme_r20 = ctx.$implicit;\n    const ctx_r8 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"checked\", (tmp_0_0 = ctx_r8.form.get(\"appliedSchemes\")) == null ? null : tmp_0_0.value == null ? null : tmp_0_0.value.includes(scheme_r20.code));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", scheme_r20.code, \" - \", scheme_r20.name, \"\");\n  }\n}\nfunction CbApplicationComponent_span_151_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Save Draft\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CbApplicationComponent_span_152_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Saving...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CbApplicationComponent_span_154_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Submit Application\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CbApplicationComponent_span_155_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Submitting...\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let CbApplicationComponent = /*#__PURE__*/(() => {\n  class CbApplicationComponent {\n    constructor(fb, cbService, countryService, router, route) {\n      this.fb = fb;\n      this.cbService = cbService;\n      this.countryService = countryService;\n      this.router = router;\n      this.route = route;\n      this.loading = false;\n      this.saving = false;\n      this.error = '';\n      this.success = false;\n      this.existingApplication = null;\n      this.countries = [];\n      this.regions = [];\n      this.accreditationBodies = [];\n      this.acapSchemes = [];\n      this.uploadedDocumentTypes = new Set();\n      this.accreditationStandards = Object.values(CbAccreditationStandard);\n      this.cbDocumentTypes = CbDocumentType;\n      this.form = this.createForm();\n    }\n    ngOnInit() {\n      this.loadLookupData();\n      this.route.queryParams.subscribe(params => {\n        const applicationId = params['id'];\n        if (applicationId) {\n          this.loadApplicationById(applicationId);\n        }\n      });\n      this.watchAccreditationToggle();\n    }\n    createForm() {\n      return this.fb.group({\n        legalName: ['', [Validators.required, Validators.maxLength(255)]],\n        shortName: ['', Validators.maxLength(100)],\n        contactPersonName: ['', [Validators.required, Validators.maxLength(150)]],\n        contactPersonTitle: ['', Validators.maxLength(150)],\n        contactEmail: ['', [Validators.required, Validators.email, Validators.maxLength(150)]],\n        contactPhone: ['', [Validators.required, Validators.maxLength(50)]],\n        website: ['', Validators.maxLength(255)],\n        physicalAddress: ['', Validators.required],\n        postalAddress: [''],\n        countryId: [''],\n        regionsOfOperation: [[], Validators.required],\n        regionsOther: [''],\n        isAccredited: [true, Validators.required],\n        accreditationStandard: [CbAccreditationStandard.ISO_IEC_17065],\n        accreditationBodyId: [''],\n        accreditationBodyName: [''],\n        accreditationCertificateNumber: [''],\n        accreditationScope: [''],\n        accreditationValidUntil: [''],\n        accreditationApplicationDate: [''],\n        accreditationProgressNotes: [''],\n        previousLicenseHeld: [false],\n        previousLicenseGrantedAt: [''],\n        previousLicenseTerminatedAt: [''],\n        previousLicenseTerminationReason: [''],\n        appliedSchemes: [[], Validators.required],\n        declarations: this.fb.group({\n          acceptTerms: [false, Validators.requiredTrue],\n          dataSharingConsent: [false, Validators.requiredTrue]\n        })\n      });\n    }\n    loadLookupData() {\n      this.countryService.getCountries().subscribe({\n        next: countries => this.countries = countries,\n        error: () => this.error = 'Failed to load countries'\n      });\n      this.cbService.getRegions().subscribe({\n        next: regions => this.regions = regions,\n        error: () => this.error = 'Failed to load regions'\n      });\n      this.cbService.getAccreditationBodies().subscribe({\n        next: bodies => this.accreditationBodies = bodies,\n        error: () => this.error = 'Failed to load accreditation bodies'\n      });\n      this.cbService.getAcapSchemes().subscribe({\n        next: schemes => this.acapSchemes = schemes,\n        error: () => this.error = 'Failed to load ACAP schemes'\n      });\n    }\n    watchAccreditationToggle() {\n      this.form.get('isAccredited')?.valueChanges.subscribe(isAccredited => {\n        const accreditationBodyId = this.form.get('accreditationBodyId');\n        const accreditationStandard = this.form.get('accreditationStandard');\n        const accreditationApplicationDate = this.form.get('accreditationApplicationDate');\n        if (isAccredited) {\n          accreditationBodyId?.setValidators([Validators.required]);\n          accreditationStandard?.setValidators([Validators.required]);\n          accreditationApplicationDate?.clearValidators();\n        } else {\n          accreditationBodyId?.clearValidators();\n          accreditationStandard?.clearValidators();\n          accreditationApplicationDate?.setValidators([Validators.required]);\n        }\n        accreditationBodyId?.updateValueAndValidity();\n        accreditationStandard?.updateValueAndValidity();\n        accreditationApplicationDate?.updateValueAndValidity();\n      });\n    }\n    loadApplicationById(id) {\n      this.cbService.getById(id).subscribe({\n        next: application => {\n          this.existingApplication = application;\n          this.form.patchValue({\n            ...application,\n            declarations: application.declarations || {}\n          });\n          this.loadDocuments(application.id);\n        },\n        error: () => {\n          this.error = 'Failed to load CB application';\n        }\n      });\n    }\n    loadDocuments(applicationId) {\n      this.cbService.listDocuments(applicationId).subscribe({\n        next: documents => {\n          documents.forEach(doc => this.uploadedDocumentTypes.add(doc.documentType));\n        }\n      });\n    }\n    toggleRegion(regionCode) {\n      const current = this.form.get('regionsOfOperation')?.value || [];\n      const index = current.indexOf(regionCode);\n      if (index > -1) {\n        current.splice(index, 1);\n      } else {\n        current.push(regionCode);\n      }\n      this.form.get('regionsOfOperation')?.setValue([...current]);\n    }\n    toggleScheme(schemeCode) {\n      const current = this.form.get('appliedSchemes')?.value || [];\n      const index = current.indexOf(schemeCode);\n      if (index > -1) {\n        current.splice(index, 1);\n      } else {\n        current.push(schemeCode);\n      }\n      this.form.get('appliedSchemes')?.setValue([...current]);\n    }\n    onFileSelected(event, documentType) {\n      const input = event.target;\n      if (!input.files || input.files.length === 0) {\n        return;\n      }\n      if (!this.existingApplication?.id) {\n        this.error = 'Please save the draft before uploading documents.';\n        return;\n      }\n      const file = input.files[0];\n      this.cbService.uploadDocument(this.existingApplication.id, file, documentType).subscribe({\n        next: () => {\n          this.uploadedDocumentTypes.add(documentType);\n        },\n        error: () => {\n          this.error = 'Failed to upload document';\n        }\n      });\n    }\n    saveDraft() {\n      this.saving = true;\n      this.error = '';\n      const payload = this.form.value;\n      const request = this.existingApplication?.id ? this.cbService.update(this.existingApplication.id, payload) : this.cbService.saveDraft(payload);\n      request.subscribe({\n        next: application => {\n          this.existingApplication = application;\n          this.saving = false;\n        },\n        error: error => {\n          this.saving = false;\n          this.error = error.error?.message || 'Failed to save draft';\n        }\n      });\n    }\n    submit() {\n      if (this.form.invalid) {\n        this.form.markAllAsTouched();\n        this.error = 'Please fill in all required fields.';\n        return;\n      }\n      if (!this.existingApplication?.id) {\n        this.error = 'Please save the draft before submitting.';\n        return;\n      }\n      const requiredDocs = [CbDocumentType.ACCREDITATION_CERTIFICATE, CbDocumentType.ACCREDITATION_SCOPE];\n      const missingDocs = requiredDocs.filter(type => !this.uploadedDocumentTypes.has(type));\n      if (missingDocs.length > 0) {\n        this.error = 'Please upload the accreditation certificate and scope documents before submitting.';\n        return;\n      }\n      this.loading = true;\n      this.cbService.update(this.existingApplication.id, this.form.value).subscribe({\n        next: application => {\n          this.existingApplication = application;\n          this.cbService.submit(application.id).subscribe({\n            next: () => {\n              this.loading = false;\n              this.success = true;\n              setTimeout(() => this.router.navigate(['/portal/cb/applications']), 1500);\n            },\n            error: error => {\n              this.loading = false;\n              this.error = error.error?.message || 'Failed to submit application';\n            }\n          });\n        },\n        error: error => {\n          this.loading = false;\n          this.error = error.error?.message || 'Failed to update application';\n        }\n      });\n    }\n    getStatusLabel(status) {\n      if (!status) return 'Draft';\n      return status.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n    }\n    static {\n      this.ɵfac = function CbApplicationComponent_Factory(t) {\n        return new (t || CbApplicationComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.CbApplicationService), i0.ɵɵdirectiveInject(i3.CountryService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i4.ActivatedRoute));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: CbApplicationComponent,\n        selectors: [[\"app-cb-application\"]],\n        decls: 156,\n        vars: 19,\n        consts: [[1, \"min-h-screen\", \"bg-gray-50\", \"py-8\", \"px-4\"], [1, \"max-w-5xl\", \"mx-auto\"], [1, \"bg-white\", \"rounded-lg\", \"shadow-md\", \"p-6\", \"mb-6\", \"border-2\", \"border-gray-200\"], [1, \"flex\", \"justify-between\", \"items-center\"], [1, \"text-3xl\", \"font-bold\", \"text-gray-900\", \"mb-2\"], [1, \"text-gray-600\"], [\"routerLink\", \"/portal/cb/applications\", 1, \"px-4\", \"py-2\", \"bg-gray-200\", \"text-gray-700\", \"rounded-lg\", \"hover:bg-gray-300\", \"border-2\", \"border-gray-300\", \"font-medium\", \"transition-colors\", \"text-sm\", \"whitespace-nowrap\"], [\"class\", \"mb-6 p-4 bg-red-50 border-2 border-red-400 text-red-800 rounded-lg\", 4, \"ngIf\"], [\"class\", \"mb-6 p-4 bg-green-50 border-2 border-green-400 text-green-800 rounded-lg\", 4, \"ngIf\"], [1, \"bg-white\", \"rounded-lg\", \"shadow-md\", \"p-8\", \"border-2\", \"border-gray-200\", 3, \"formGroup\"], [1, \"border-b-2\", \"border-gray-200\", \"pb-4\", \"mb-6\"], [1, \"text-xl\", \"font-bold\", \"text-gray-900\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"gap-6\"], [1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\", \"mb-2\"], [\"formControlName\", \"legalName\", 1, \"w-full\", \"px-4\", \"py-2\", \"border-2\", \"border-gray-300\", \"rounded-lg\"], [\"formControlName\", \"shortName\", 1, \"w-full\", \"px-4\", \"py-2\", \"border-2\", \"border-gray-300\", \"rounded-lg\"], [\"formControlName\", \"contactPersonName\", 1, \"w-full\", \"px-4\", \"py-2\", \"border-2\", \"border-gray-300\", \"rounded-lg\"], [\"formControlName\", \"contactPersonTitle\", 1, \"w-full\", \"px-4\", \"py-2\", \"border-2\", \"border-gray-300\", \"rounded-lg\"], [\"type\", \"email\", \"formControlName\", \"contactEmail\", 1, \"w-full\", \"px-4\", \"py-2\", \"border-2\", \"border-gray-300\", \"rounded-lg\"], [\"formControlName\", \"contactPhone\", 1, \"w-full\", \"px-4\", \"py-2\", \"border-2\", \"border-gray-300\", \"rounded-lg\"], [\"formControlName\", \"website\", 1, \"w-full\", \"px-4\", \"py-2\", \"border-2\", \"border-gray-300\", \"rounded-lg\"], [\"formControlName\", \"countryId\", 1, \"w-full\", \"px-4\", \"py-2\", \"border-2\", \"border-gray-300\", \"rounded-lg\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"mt-6\"], [\"rows\", \"3\", \"formControlName\", \"physicalAddress\", 1, \"w-full\", \"px-4\", \"py-2\", \"border-2\", \"border-gray-300\", \"rounded-lg\"], [1, \"mt-4\"], [\"rows\", \"2\", \"formControlName\", \"postalAddress\", 1, \"w-full\", \"px-4\", \"py-2\", \"border-2\", \"border-gray-300\", \"rounded-lg\"], [1, \"border-b-2\", \"border-gray-200\", \"pb-4\", \"my-6\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"gap-4\"], [\"class\", \"flex items-center gap-2\", 4, \"ngFor\", \"ngForOf\"], [1, \"flex\", \"items-center\", \"gap-2\"], [\"type\", \"checkbox\", 3, \"checked\", \"change\"], [\"class\", \"mt-3\", 4, \"ngIf\"], [\"formControlName\", \"isAccredited\", 1, \"w-full\", \"px-4\", \"py-2\", \"border-2\", \"border-gray-300\", \"rounded-lg\"], [3, \"value\"], [\"formControlName\", \"accreditationStandard\", 1, \"w-full\", \"px-4\", \"py-2\", \"border-2\", \"border-gray-300\", \"rounded-lg\"], [\"formControlName\", \"accreditationBodyId\", 1, \"w-full\", \"px-4\", \"py-2\", \"border-2\", \"border-gray-300\", \"rounded-lg\"], [\"formControlName\", \"accreditationBodyName\", 1, \"w-full\", \"px-4\", \"py-2\", \"border-2\", \"border-gray-300\", \"rounded-lg\"], [\"formControlName\", \"accreditationCertificateNumber\", 1, \"w-full\", \"px-4\", \"py-2\", \"border-2\", \"border-gray-300\", \"rounded-lg\"], [\"type\", \"date\", \"formControlName\", \"accreditationValidUntil\", 1, \"w-full\", \"px-4\", \"py-2\", \"border-2\", \"border-gray-300\", \"rounded-lg\"], [\"rows\", \"3\", \"formControlName\", \"accreditationScope\", 1, \"w-full\", \"px-4\", \"py-2\", \"border-2\", \"border-gray-300\", \"rounded-lg\"], [\"class\", \"mt-4\", 4, \"ngIf\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"gap-3\"], [\"type\", \"file\", 3, \"change\"], [\"formGroupName\", \"declarations\", 1, \"space-y-3\"], [\"type\", \"checkbox\", \"formControlName\", \"acceptTerms\"], [\"type\", \"checkbox\", \"formControlName\", \"dataSharingConsent\"], [1, \"flex\", \"justify-end\", \"gap-4\", \"mt-8\", \"pt-6\", \"border-t-2\", \"border-gray-200\"], [\"type\", \"button\", 1, \"px-6\", \"py-3\", \"bg-yellow-500\", \"text-white\", \"rounded-lg\", \"hover:bg-yellow-600\", 3, \"disabled\", \"click\"], [4, \"ngIf\"], [\"type\", \"button\", 1, \"px-6\", \"py-3\", \"bg-green-600\", \"text-white\", \"rounded-lg\", \"hover:bg-green-700\", 3, \"disabled\", \"click\"], [1, \"mb-6\", \"p-4\", \"bg-red-50\", \"border-2\", \"border-red-400\", \"text-red-800\", \"rounded-lg\"], [1, \"mb-6\", \"p-4\", \"bg-green-50\", \"border-2\", \"border-green-400\", \"text-green-800\", \"rounded-lg\"], [1, \"mt-3\"], [\"placeholder\", \"Specify other regions\", \"formControlName\", \"regionsOther\", 1, \"w-full\", \"px-4\", \"py-2\", \"border-2\", \"border-gray-300\", \"rounded-lg\"], [\"type\", \"date\", \"formControlName\", \"accreditationApplicationDate\", 1, \"w-full\", \"px-4\", \"py-2\", \"border-2\", \"border-gray-300\", \"rounded-lg\"], [1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\", \"mt-4\", \"mb-2\"], [\"rows\", \"2\", \"formControlName\", \"accreditationProgressNotes\", 1, \"w-full\", \"px-4\", \"py-2\", \"border-2\", \"border-gray-300\", \"rounded-lg\"]],\n        template: function CbApplicationComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\")(5, \"h1\", 4);\n            i0.ɵɵtext(6, \"CB Application\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(7, \"p\", 5);\n            i0.ɵɵtext(8, \"Apply for ACAP Certification Body approval (Annex B)\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(9, \"a\", 6);\n            i0.ɵɵtext(10, \" \\u2190 Back to List \");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(11, CbApplicationComponent_div_11_Template, 2, 1, \"div\", 7);\n            i0.ɵɵtemplate(12, CbApplicationComponent_div_12_Template, 2, 0, \"div\", 8);\n            i0.ɵɵelementStart(13, \"form\", 9)(14, \"div\", 10)(15, \"h2\", 11);\n            i0.ɵɵtext(16, \"Organization & Contact Information\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(17, \"div\", 12)(18, \"div\")(19, \"label\", 13);\n            i0.ɵɵtext(20, \"Legal Name *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(21, \"input\", 14);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(22, \"div\")(23, \"label\", 13);\n            i0.ɵɵtext(24, \"Short Name\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(25, \"input\", 15);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(26, \"div\")(27, \"label\", 13);\n            i0.ɵɵtext(28, \"Contact Person *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(29, \"input\", 16);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(30, \"div\")(31, \"label\", 13);\n            i0.ɵɵtext(32, \"Designation\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(33, \"input\", 17);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(34, \"div\")(35, \"label\", 13);\n            i0.ɵɵtext(36, \"Email *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(37, \"input\", 18);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(38, \"div\")(39, \"label\", 13);\n            i0.ɵɵtext(40, \"Phone *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(41, \"input\", 19);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(42, \"div\")(43, \"label\", 13);\n            i0.ɵɵtext(44, \"Website\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(45, \"input\", 20);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(46, \"div\")(47, \"label\", 13);\n            i0.ɵɵtext(48, \"Country\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(49, \"select\", 21)(50, \"option\", 22);\n            i0.ɵɵtext(51, \"Select country...\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(52, CbApplicationComponent_option_52_Template, 2, 2, \"option\", 23);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(53, \"div\", 24)(54, \"label\", 13);\n            i0.ɵɵtext(55, \"Physical Address *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(56, \"textarea\", 25);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(57, \"div\", 26)(58, \"label\", 13);\n            i0.ɵɵtext(59, \"Postal Address\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(60, \"textarea\", 27);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(61, \"div\", 28)(62, \"h2\", 11);\n            i0.ɵɵtext(63, \"Regions of Operation\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(64, \"div\", 29);\n            i0.ɵɵtemplate(65, CbApplicationComponent_label_65_Template, 4, 2, \"label\", 30);\n            i0.ɵɵelementStart(66, \"label\", 31)(67, \"input\", 32);\n            i0.ɵɵlistener(\"change\", function CbApplicationComponent_Template_input_change_67_listener() {\n              return ctx.toggleRegion(\"OTHER\");\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(68, \"span\");\n            i0.ɵɵtext(69, \"Other\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(70, CbApplicationComponent_div_70_Template, 2, 0, \"div\", 33);\n            i0.ɵɵelementStart(71, \"div\", 28)(72, \"h2\", 11);\n            i0.ɵɵtext(73, \"Accreditation Details\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(74, \"div\", 12)(75, \"div\")(76, \"label\", 13);\n            i0.ɵɵtext(77, \"Accredited to ISO/IEC 17065? *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(78, \"select\", 34)(79, \"option\", 35);\n            i0.ɵɵtext(80, \"Yes\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(81, \"option\", 35);\n            i0.ɵɵtext(82, \"No (Provisional)\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(83, \"div\")(84, \"label\", 13);\n            i0.ɵɵtext(85, \"Accreditation Standard\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(86, \"select\", 36);\n            i0.ɵɵtemplate(87, CbApplicationComponent_option_87_Template, 2, 2, \"option\", 23);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(88, \"div\")(89, \"label\", 13);\n            i0.ɵɵtext(90, \"Accreditation Body\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(91, \"select\", 37)(92, \"option\", 22);\n            i0.ɵɵtext(93, \"Select accreditation body...\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(94, CbApplicationComponent_option_94_Template, 3, 3, \"option\", 23);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(95, \"div\")(96, \"label\", 13);\n            i0.ɵɵtext(97, \"Accreditation Body (Manual)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(98, \"input\", 38);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(99, \"div\")(100, \"label\", 13);\n            i0.ɵɵtext(101, \"Certificate Number\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(102, \"input\", 39);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(103, \"div\")(104, \"label\", 13);\n            i0.ɵɵtext(105, \"Valid Until\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(106, \"input\", 40);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(107, \"div\", 26)(108, \"label\", 13);\n            i0.ɵɵtext(109, \"Accreditation Scope\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(110, \"textarea\", 41);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(111, CbApplicationComponent_div_111_Template, 7, 0, \"div\", 42);\n            i0.ɵɵelementStart(112, \"div\", 28)(113, \"h2\", 11);\n            i0.ɵɵtext(114, \"ACAP Schemes Applied For\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(115, \"div\", 43);\n            i0.ɵɵtemplate(116, CbApplicationComponent_label_116_Template, 4, 3, \"label\", 30);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(117, \"div\", 28)(118, \"h2\", 11);\n            i0.ɵɵtext(119, \"Documents\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(120, \"div\", 12)(121, \"div\")(122, \"label\", 13);\n            i0.ɵɵtext(123, \"Accreditation Certificate *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(124, \"input\", 44);\n            i0.ɵɵlistener(\"change\", function CbApplicationComponent_Template_input_change_124_listener($event) {\n              return ctx.onFileSelected($event, ctx.cbDocumentTypes.ACCREDITATION_CERTIFICATE);\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(125, \"div\")(126, \"label\", 13);\n            i0.ɵɵtext(127, \"Accreditation Scope *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(128, \"input\", 44);\n            i0.ɵɵlistener(\"change\", function CbApplicationComponent_Template_input_change_128_listener($event) {\n              return ctx.onFileSelected($event, ctx.cbDocumentTypes.ACCREDITATION_SCOPE);\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(129, \"div\")(130, \"label\", 13);\n            i0.ɵɵtext(131, \"Legal Registration\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(132, \"input\", 44);\n            i0.ɵɵlistener(\"change\", function CbApplicationComponent_Template_input_change_132_listener($event) {\n              return ctx.onFileSelected($event, ctx.cbDocumentTypes.LEGAL_REGISTRATION);\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(133, \"div\")(134, \"label\", 13);\n            i0.ɵɵtext(135, \"Acknowledgement of Application\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(136, \"input\", 44);\n            i0.ɵɵlistener(\"change\", function CbApplicationComponent_Template_input_change_136_listener($event) {\n              return ctx.onFileSelected($event, ctx.cbDocumentTypes.ACKNOWLEDGEMENT_OF_APPLICATION);\n            });\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(137, \"div\", 28)(138, \"h2\", 11);\n            i0.ɵɵtext(139, \"Declarations\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(140, \"div\", 45)(141, \"label\", 31);\n            i0.ɵɵelement(142, \"input\", 46);\n            i0.ɵɵelementStart(143, \"span\");\n            i0.ɵɵtext(144, \"I accept the ACAP-CB terms and obligations\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(145, \"label\", 31);\n            i0.ɵɵelement(146, \"input\", 47);\n            i0.ɵɵelementStart(147, \"span\");\n            i0.ɵɵtext(148, \"I consent to data sharing for ACAP oversight\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(149, \"div\", 48)(150, \"button\", 49);\n            i0.ɵɵlistener(\"click\", function CbApplicationComponent_Template_button_click_150_listener() {\n              return ctx.saveDraft();\n            });\n            i0.ɵɵtemplate(151, CbApplicationComponent_span_151_Template, 2, 0, \"span\", 50);\n            i0.ɵɵtemplate(152, CbApplicationComponent_span_152_Template, 2, 0, \"span\", 50);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(153, \"button\", 51);\n            i0.ɵɵlistener(\"click\", function CbApplicationComponent_Template_button_click_153_listener() {\n              return ctx.submit();\n            });\n            i0.ɵɵtemplate(154, CbApplicationComponent_span_154_Template, 2, 0, \"span\", 50);\n            i0.ɵɵtemplate(155, CbApplicationComponent_span_155_Template, 2, 0, \"span\", 50);\n            i0.ɵɵelementEnd()()()()();\n          }\n          if (rf & 2) {\n            let tmp_5_0;\n            let tmp_6_0;\n            let tmp_11_0;\n            i0.ɵɵadvance(11);\n            i0.ɵɵproperty(\"ngIf\", ctx.error);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.success);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"formGroup\", ctx.form);\n            i0.ɵɵadvance(39);\n            i0.ɵɵproperty(\"ngForOf\", ctx.countries);\n            i0.ɵɵadvance(13);\n            i0.ɵɵproperty(\"ngForOf\", ctx.regions);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"checked\", (tmp_5_0 = ctx.form.get(\"regionsOfOperation\")) == null ? null : tmp_5_0.value == null ? null : tmp_5_0.value.includes(\"OTHER\"));\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", (tmp_6_0 = ctx.form.get(\"regionsOfOperation\")) == null ? null : tmp_6_0.value == null ? null : tmp_6_0.value.includes(\"OTHER\"));\n            i0.ɵɵadvance(9);\n            i0.ɵɵproperty(\"value\", true);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"value\", false);\n            i0.ɵɵadvance(6);\n            i0.ɵɵproperty(\"ngForOf\", ctx.accreditationStandards);\n            i0.ɵɵadvance(7);\n            i0.ɵɵproperty(\"ngForOf\", ctx.accreditationBodies);\n            i0.ɵɵadvance(17);\n            i0.ɵɵproperty(\"ngIf\", !((tmp_11_0 = ctx.form.get(\"isAccredited\")) == null ? null : tmp_11_0.value));\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngForOf\", ctx.acapSchemes);\n            i0.ɵɵadvance(34);\n            i0.ɵɵproperty(\"disabled\", ctx.saving);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.saving);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.saving);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"disabled\", ctx.loading);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          }\n        },\n        dependencies: [i5.NgForOf, i5.NgIf, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.CheckboxControlValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i1.FormGroupName, i4.RouterLink],\n        styles: [\"[_nghost-%COMP%]{display:block}\"]\n      });\n    }\n  }\n  return CbApplicationComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}