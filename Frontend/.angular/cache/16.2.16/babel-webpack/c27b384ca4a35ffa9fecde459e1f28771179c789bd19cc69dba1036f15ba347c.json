{"ast":null,"code":"import { UserRole } from '../../shared/models/user.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../modules/auth/services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nconst _c0 = function (a0) {\n  return {\n    exact: a0\n  };\n};\nfunction AuthenticatedLayoutComponent_ng_container_10_ng_container_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"a\", 18)(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const item_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", item_r3.route)(\"routerLinkActiveOptions\", i0.ɵɵpureFunction1(3, _c0, item_r3.route === \"/dashboard\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.label);\n  }\n}\nfunction AuthenticatedLayoutComponent_ng_container_10_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, AuthenticatedLayoutComponent_ng_container_10_ng_container_2_ng_container_1_Template, 4, 5, \"ng-container\", 7);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    const user_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.canShow(item_r3, user_r1));\n  }\n}\nfunction AuthenticatedLayoutComponent_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"nav\", 12);\n    i0.ɵɵtemplate(2, AuthenticatedLayoutComponent_ng_container_10_ng_container_2_Template, 2, 1, \"ng-container\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 14)(4, \"div\", 15);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 16);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function AuthenticatedLayoutComponent_ng_container_10_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.logout());\n    });\n    i0.ɵɵtext(9, \"Logout\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const user_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.navItems);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(user_r1.fullName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r1.role);\n  }\n}\nexport let AuthenticatedLayoutComponent = /*#__PURE__*/(() => {\n  class AuthenticatedLayoutComponent {\n    constructor(authService, router) {\n      this.authService = authService;\n      this.router = router;\n      this.user$ = this.authService.currentUser$;\n      this.navItems = [{\n        label: 'Dashboard',\n        route: '/dashboard'\n      }, {\n        label: 'Reference Data',\n        route: '/reference-data/regions',\n        roles: [UserRole.SUPER_ADMIN]\n      }];\n    }\n    canShow(item, user) {\n      if (!item.roles || item.roles.length === 0) return true;\n      if (!user?.role) return false;\n      return item.roles.includes(user.role);\n    }\n    logout() {\n      this.authService.logout();\n    }\n    static {\n      this.ɵfac = function AuthenticatedLayoutComponent_Factory(t) {\n        return new (t || AuthenticatedLayoutComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: AuthenticatedLayoutComponent,\n        selectors: [[\"app-authenticated-layout\"]],\n        decls: 18,\n        vars: 3,\n        consts: [[1, \"app-shell\"], [1, \"sidebar\"], [1, \"brand\"], [1, \"brand-mark\"], [1, \"brand-text\"], [1, \"title\"], [1, \"subtitle\"], [4, \"ngIf\"], [1, \"content-area\"], [1, \"topbar\"], [1, \"topbar-title\"], [1, \"page\"], [1, \"nav\"], [4, \"ngFor\", \"ngForOf\"], [1, \"user-card\"], [1, \"name\"], [1, \"role\"], [\"type\", \"button\", 1, \"btn-logout\", 3, \"click\"], [\"routerLinkActive\", \"active\", 1, \"nav-link\", 3, \"routerLink\", \"routerLinkActiveOptions\"]],\n        template: function AuthenticatedLayoutComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"aside\", 1)(2, \"div\", 2)(3, \"div\", 3);\n            i0.ɵɵtext(4, \"ARSO\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"div\", 4)(6, \"span\", 5);\n            i0.ɵɵtext(7, \"ARSO Marks\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"span\", 6);\n            i0.ɵɵtext(9, \"ACAP Portal\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(10, AuthenticatedLayoutComponent_ng_container_10_Template, 10, 3, \"ng-container\", 7);\n            i0.ɵɵpipe(11, \"async\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(12, \"div\", 8)(13, \"header\", 9)(14, \"div\", 10);\n            i0.ɵɵtext(15, \"ARSO Conformity Assessment Programme\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(16, \"main\", 11);\n            i0.ɵɵelement(17, \"router-outlet\");\n            i0.ɵɵelementEnd()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(10);\n            i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(11, 1, ctx.user$));\n          }\n        },\n        dependencies: [i3.NgForOf, i3.NgIf, i2.RouterOutlet, i2.RouterLink, i2.RouterLinkActive, i3.AsyncPipe],\n        styles: [\".app-shell[_ngcontent-%COMP%]{display:grid;grid-template-columns:240px 1fr;min-height:100vh;background:#f5f7fb}.sidebar[_ngcontent-%COMP%]{background:#0f1f3a;color:#ecf1f8;display:flex;flex-direction:column;padding:24px 16px;gap:24px;box-shadow:4px 0 12px #0000001f}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:8px 12px;border-radius:8px;background:rgba(255,255,255,.04)}.brand-mark[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;background:linear-gradient(135deg,#1abc9c,#2980b9);display:grid;place-items:center;font-weight:700;color:#fff}.brand-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;line-height:1.2}.brand-text[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700;font-size:16px}.brand-text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:12px;color:#a9b7d3}.nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.nav-link[_ngcontent-%COMP%]{color:#dfe7f5;text-decoration:none;padding:12px 14px;border-radius:8px;transition:background .2s,color .2s;font-weight:500}.nav-link.active[_ngcontent-%COMP%], .nav-link[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.08);color:#fff}.user-card[_ngcontent-%COMP%]{margin-top:auto;padding:14px;border-radius:10px;background:rgba(255,255,255,.06);display:flex;flex-direction:column;gap:6px;color:#ecf1f8}.user-card[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:700}.user-card[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:12px;color:#b4c2df}.user-card[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]{margin-top:8px;padding:10px 12px;border:none;border-radius:8px;background:#e74c3c;color:#fff;cursor:pointer;font-weight:600;transition:background .2s}.user-card[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]:hover{background:#c0392b}.content-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.topbar[_ngcontent-%COMP%]{background:#ffffff;padding:16px 20px;box-shadow:0 2px 8px #0f1f3a14}.topbar-title[_ngcontent-%COMP%]{font-weight:600;color:#1f2d3d}.page[_ngcontent-%COMP%]{padding:24px 24px 40px}@media (max-width: 900px){.app-shell[_ngcontent-%COMP%]{grid-template-columns:1fr}.sidebar[_ngcontent-%COMP%]{flex-direction:row;align-items:center;justify-content:space-between}.nav[_ngcontent-%COMP%]{flex-direction:row}.user-card[_ngcontent-%COMP%]{align-items:flex-end;margin-top:0}}\"]\n      });\n    }\n  }\n  return AuthenticatedLayoutComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}