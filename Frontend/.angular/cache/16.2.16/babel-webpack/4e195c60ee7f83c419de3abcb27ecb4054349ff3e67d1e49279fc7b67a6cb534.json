{"ast":null,"code":"import { finalize } from 'rxjs';\nimport { NsbRegistrationRequestStatus } from '../../shared/models/nsb-registration-request.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../modules/nsb-management/services/nsb-registration-request.service\";\nimport * as i3 from \"../../modules/nsb-management/services/nsb.service\";\nimport * as i4 from \"../../modules/auth/services/auth.service\";\nimport * as i5 from \"@angular/common\";\nfunction NsbDashboardComponent_div_62_span_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 68);\n    i0.ɵɵtext(1, \"URGENT\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NsbDashboardComponent_div_62_button_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 69);\n    i0.ɵɵlistener(\"click\", function NsbDashboardComponent_div_62_button_15_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const task_r6 = i0.ɵɵnextContext().$implicit;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.approveTask(task_r6));\n    });\n    i0.ɵɵtext(1, \"Approve\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a0, a1, a2) {\n  return {\n    \"bg-blue-100 text-blue-600 border-blue-300\": a0,\n    \"bg-orange-100 text-orange-600 border-orange-300\": a1,\n    \"bg-red-100 text-red-600 border-red-300\": a2\n  };\n};\nconst _c1 = function (a0, a1, a2) {\n  return {\n    \"fa-building\": a0,\n    \"fa-certificate\": a1,\n    \"fa-exclamation-triangle\": a2\n  };\n};\nfunction NsbDashboardComponent_div_62_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 53)(1, \"div\", 54)(2, \"div\", 55);\n    i0.ɵɵelement(3, \"i\", 56);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 57)(5, \"p\", 58);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 59)(8, \"p\", 60);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 61);\n    i0.ɵɵelement(11, \"i\", 62)(12, \"i\", 63);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, NsbDashboardComponent_div_62_span_13_Template, 2, 0, \"span\", 64);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(14, \"div\", 65);\n    i0.ɵɵtemplate(15, NsbDashboardComponent_div_62_button_15_Template, 2, 0, \"button\", 66);\n    i0.ɵɵelementStart(16, \"button\", 67);\n    i0.ɵɵlistener(\"click\", function NsbDashboardComponent_div_62_Template_button_click_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const task_r6 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.viewTask(task_r6));\n    });\n    i0.ɵɵtext(17, \"View\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const task_r6 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(8, _c0, task_r6.type === \"REGISTRATION\", task_r6.type === \"MARK_USAGE\", task_r6.type === \"ESCALATION\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(12, _c1, task_r6.type === \"REGISTRATION\", task_r6.type === \"MARK_USAGE\", task_r6.type === \"ESCALATION\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(task_r6.title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(task_r6.origin);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", task_r6.notifications.system ? \"text-green-500\" : \"text-gray-300\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", task_r6.notifications.email ? \"text-blue-500\" : \"text-gray-300\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", task_r6.priority === \"URGENT\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", task_r6.type !== \"ESCALATION\");\n  }\n}\nfunction NsbDashboardComponent_div_63_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 70);\n    i0.ɵɵelement(1, \"i\", 71);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"No pending tasks\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 72);\n    i0.ɵɵtext(5, \"All workflows are up to date\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction NsbDashboardComponent_div_64_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 73);\n    i0.ɵɵelement(1, \"i\", 74);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Loading tasks...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction NsbDashboardComponent_div_71_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 82);\n  }\n}\nfunction NsbDashboardComponent_div_71_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 83);\n  }\n}\nfunction NsbDashboardComponent_div_71_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 75)(1, \"div\", 76);\n    i0.ɵɵtemplate(2, NsbDashboardComponent_div_71_span_2_Template, 1, 0, \"span\", 77);\n    i0.ɵɵtemplate(3, NsbDashboardComponent_div_71_span_3_Template, 1, 0, \"span\", 78);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 57)(5, \"p\", 79);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 80);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\", 81);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const log_r14 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", log_r14.method === \"EMAIL\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", log_r14.method === \"SYSTEM\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", log_r14.method, \" \\u2022 \", i0.ɵɵpipeBind2(7, 6, log_r14.time, \"shortTime\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(log_r14.message);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Recipient: \", log_r14.recipient, \"\");\n  }\n}\nfunction NsbDashboardComponent_div_72_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 70);\n    i0.ɵɵelement(1, \"i\", 84);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"No recent communications\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 72);\n    i0.ɵɵtext(5, \"Communication history will appear here\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction NsbDashboardComponent_div_73_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 73);\n    i0.ɵɵelement(1, \"i\", 74);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Loading communications...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let NsbDashboardComponent = /*#__PURE__*/(() => {\n  class NsbDashboardComponent {\n    constructor(router, requestService, nsbService, authService) {\n      this.router = router;\n      this.requestService = requestService;\n      this.nsbService = nsbService;\n      this.authService = authService;\n      this.loading = false;\n      this.error = '';\n      this.user = null;\n      this.registrationRequest = null;\n      this.nsb = null;\n      this.allNsbs = [];\n      // Dashboard statistics\n      this.stats = {\n        activeNsbs: 0,\n        pendingApprovals: 0,\n        totalMarks: 0,\n        escalations: 0,\n        newThisMonth: 0\n      };\n      // Workflow tasks with notification tracking\n      this.pendingTasks = [];\n      // Notification history log\n      this.notificationLogs = [];\n      // Readiness metrics\n      this.readinessMetrics = {\n        profileComplete: false,\n        stakeholdersRegistered: 0\n      };\n      this.readinessPercentage = 0;\n      this.traceabilityPercentage = 0; // Will be calculated from actual data\n      this.unreadNotificationsCount = 0;\n    }\n    ngOnInit() {\n      this.user = this.authService.currentUserValue;\n      this.loadData();\n      this.loadDashboardStats();\n      this.loadPendingTasks();\n      this.loadNotificationLogs();\n      this.calculateReadiness();\n    }\n    loadData() {\n      this.loading = true;\n      this.error = '';\n      // First, try to load NSB directly (for users who already have NSB)\n      // This is the most common case and should be checked first\n      this.nsbService.getMyNsb().pipe(finalize(() => {\n        // Continue with other data loading\n      })).subscribe({\n        next: nsb => {\n          this.nsb = nsb;\n          this.calculateReadiness();\n          this.loading = false;\n        },\n        error: err => {\n          // If no NSB found (404), check for registration request\n          if (err.status === 404) {\n            this.loadRegistrationRequest();\n          } else if (err.status !== 403) {\n            // Only show error for non-403 errors (403 is expected for users without NSB access)\n            console.warn('Failed to load NSB:', err);\n          }\n          this.loading = false;\n        }\n      });\n      // Load all NSBs for admins (for dashboard statistics)\n      this.loadAllNsbs();\n    }\n    loadRegistrationRequest() {\n      // Load registration request if user has countryId\n      if (this.user?.countryId) {\n        this.requestService.getMyRequest(this.user.countryId).subscribe({\n          next: request => {\n            this.registrationRequest = request;\n            // If approved, try to load NSB again (in case it was just created)\n            if (request?.status === NsbRegistrationRequestStatus.APPROVED && request.nsbId) {\n              this.loadNsb(request.nsbId);\n            }\n          },\n          error: err => {\n            // No request found (404) is OK - user hasn't started registration yet\n            if (err.status !== 404) {\n              console.warn('Failed to load registration request:', err);\n            }\n          }\n        });\n      }\n    }\n    loadAllNsbs() {\n      this.nsbService.getNsbList().subscribe({\n        next: response => {\n          this.allNsbs = response.data || [];\n          this.updateStats();\n        },\n        error: err => {\n          // Don't show error for 403 or 404 - user might not have access to list all NSBs\n          // This is expected for regular NSB users\n          if (err.status !== 403 && err.status !== 404) {\n            console.warn('Failed to load NSB list:', err);\n          }\n          this.allNsbs = [];\n        }\n      });\n    }\n    loadDashboardStats() {\n      // Calculate from loaded data\n      this.updateStats();\n    }\n    updateStats() {\n      this.stats.activeNsbs = this.allNsbs.filter(nsb => nsb.status === 'ACTIVE').length;\n      // Initialize with actual data - will be populated from API calls\n      this.stats.pendingApprovals = 0;\n      this.stats.totalMarks = 0;\n      this.stats.escalations = 0;\n      this.stats.newThisMonth = 0;\n    }\n    loadPendingTasks() {\n      // Initialize empty - will be populated from actual API calls\n      this.pendingTasks = [];\n      this.unreadNotificationsCount = 0;\n    }\n    loadNotificationLogs() {\n      // Initialize empty - will be populated from actual API calls\n      this.notificationLogs = [];\n    }\n    calculateReadiness() {\n      if (!this.nsb) {\n        this.readinessPercentage = 0;\n        this.readinessMetrics.profileComplete = false;\n        this.readinessMetrics.stakeholdersRegistered = 0;\n        return;\n      }\n      // Calculate readiness percentage based on NSB profile completion\n      this.readinessMetrics.profileComplete = !!this.nsb.name && !!this.nsb.contacts && this.nsb.contacts.length > 0;\n      this.readinessMetrics.stakeholdersRegistered = this.nsb.stakeholderRegistryStatus === 'SUBMITTED' ? 1 : 0;\n      // Calculate percentage based on completion criteria\n      let score = 0;\n      if (this.readinessMetrics.profileComplete) score += 50;\n      if (this.readinessMetrics.stakeholdersRegistered > 0) score += 30;\n      if (this.nsb.documents && this.nsb.documents.length > 0) score += 20;\n      this.readinessPercentage = score;\n    }\n    viewNsb(nsbId) {\n      this.router.navigate(['/portal/nsb'], {\n        queryParams: {\n          id: nsbId\n        }\n      });\n    }\n    loadNsb(nsbId) {\n      if (!nsbId) {\n        return;\n      }\n      this.nsbService.getNsbById(nsbId).subscribe({\n        next: nsb => {\n          this.nsb = nsb;\n          this.calculateReadiness();\n        },\n        error: err => {\n          // If 403 Forbidden, try loading via getMyNsb instead\n          // This handles cases where organizationId wasn't set when the request was approved\n          if (err.status === 403) {\n            this.nsbService.getMyNsb().subscribe({\n              next: nsb => {\n                this.nsb = nsb;\n                this.calculateReadiness();\n              },\n              error: () => {\n                // User may not have NSB access yet - this is expected for new registrations\n                // Don't show error to avoid confusion\n              }\n            });\n          } else if (err.status !== 404) {\n            // Only log non-404 errors (404 is expected if NSB doesn't exist yet)\n            console.warn('Failed to load NSB:', err);\n          }\n        }\n      });\n    }\n    getStatusColor(status) {\n      switch (status) {\n        case 'DRAFT':\n          return 'bg-slate-100 text-slate-700';\n        case 'SUBMITTED':\n        case 'UNDER_REVIEW':\n          return 'bg-blue-100 text-blue-700';\n        case 'APPROVED':\n          return 'bg-emerald-100 text-emerald-700';\n        case 'REJECTED':\n          return 'bg-red-100 text-red-700';\n        default:\n          return 'bg-slate-100 text-slate-700';\n      }\n    }\n    getStatusLabel(status) {\n      switch (status) {\n        case 'DRAFT':\n          return 'Draft';\n        case 'SUBMITTED':\n          return 'Submitted for Review';\n        case 'UNDER_REVIEW':\n          return 'Under Review';\n        case 'APPROVED':\n          return 'Approved';\n        case 'REJECTED':\n          return 'Rejected';\n        default:\n          return status;\n      }\n    }\n    navigateToRegistry() {\n      this.router.navigate(['/portal/nsb']);\n    }\n    navigateToLicensing() {\n      this.router.navigate(['/portal/mark-licenses/dashboard']);\n    }\n    approveTask(task) {\n      // Navigate to appropriate approval page based on task type\n      if (task.type === 'REGISTRATION') {\n        this.router.navigate(['/portal/nsb-review']);\n      } else if (task.type === 'MARK_USAGE') {\n        this.router.navigate(['/portal/mark-licenses/dashboard']);\n      }\n    }\n    viewTask(task) {\n      // Navigate to task details page\n      if (task.type === 'REGISTRATION') {\n        this.router.navigate(['/portal/nsb-review']);\n      } else if (task.type === 'MARK_USAGE') {\n        this.router.navigate(['/portal/mark-licenses/dashboard']);\n      } else if (task.type === 'ESCALATION') {\n        this.router.navigate(['/portal/approvals']);\n      }\n    }\n    goToRegistrationRequest() {\n      this.router.navigate(['/nsb-registration/request']);\n    }\n    goToProfileSetup() {\n      // Navigate to NSB management page\n      this.router.navigate(['/portal/nsb']);\n    }\n    goToStakeholderRegistry() {\n      this.router.navigate(['/portal/nsb/stakeholder-registry']);\n    }\n    goToManagement() {\n      this.router.navigate(['/portal/nsb']);\n    }\n    canCompleteProfile() {\n      return this.registrationRequest?.status === NsbRegistrationRequestStatus.APPROVED && !this.nsb;\n    }\n    canEditRegistrationRequest() {\n      return this.registrationRequest?.status === NsbRegistrationRequestStatus.DRAFT;\n    }\n    canSubmitRegistrationRequest() {\n      return this.registrationRequest?.status === NsbRegistrationRequestStatus.DRAFT;\n    }\n    static {\n      this.ɵfac = function NsbDashboardComponent_Factory(t) {\n        return new (t || NsbDashboardComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.NsbRegistrationRequestService), i0.ɵɵdirectiveInject(i3.NsbService), i0.ɵɵdirectiveInject(i4.AuthService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: NsbDashboardComponent,\n        selectors: [[\"app-nsb-dashboard\"]],\n        decls: 105,\n        vars: 12,\n        consts: [[1, \"min-h-screen\", \"bg-gray-50\", \"p-6\", \"font-sans\"], [1, \"mb-8\", \"flex\", \"flex-col\", \"md:flex-row\", \"md:items-center\", \"md:justify-between\", \"gap-4\"], [1, \"text-2xl\", \"font-semibold\", \"text-gray-800\"], [1, \"text-sm\", \"text-gray-500\", \"mt-1\"], [1, \"flex\", \"items-center\", \"gap-3\"], [1, \"relative\", \"group\", \"mr-2\"], [1, \"p-2\", \"bg-white\", \"border\", \"border-gray-300\", \"rounded-full\", \"text-gray-500\", \"hover:text-blue-600\", \"hover:border-blue-300\", \"shadow-sm\", \"transition-all\", \"relative\"], [1, \"fas\", \"fa-bell\"], [1, \"absolute\", \"-top-1\", \"-right-1\", \"flex\", \"h-4\", \"w-4\"], [1, \"animate-ping\", \"absolute\", \"inline-flex\", \"h-full\", \"w-full\", \"rounded-full\", \"bg-red-400\", \"opacity-75\"], [1, \"relative\", \"inline-flex\", \"rounded-full\", \"h-4\", \"w-4\", \"bg-red-500\", \"text-[9px]\", \"text-white\", \"items-center\", \"justify-center\", \"font-bold\"], [1, \"px-4\", \"py-2\", \"bg-white\", \"border\", \"border-gray-300\", \"rounded-md\", \"text-sm\", \"font-medium\", \"text-gray-700\", \"hover:bg-gray-50\", \"transition-colors\", \"shadow-sm\"], [1, \"fas\", \"fa-download\", \"mr-2\"], [1, \"px-4\", \"py-2\", \"bg-blue-600\", \"border\", \"border-blue-600\", \"rounded-md\", \"text-sm\", \"font-medium\", \"text-white\", \"hover:bg-blue-700\", \"transition-colors\", \"shadow-sm\", 3, \"click\"], [1, \"fas\", \"fa-plus\", \"mr-2\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"lg:grid-cols-4\", \"gap-6\", \"mb-8\"], [1, \"bg-white\", \"p-6\", \"rounded-lg\", \"border\", \"border-gray-200\", \"shadow-sm\", \"flex\", \"flex-col\"], [1, \"text-xs\", \"font-bold\", \"text-gray-400\", \"uppercase\", \"tracking-wider\", \"mb-1\"], [1, \"flex\", \"items-end\", \"justify-between\"], [1, \"text-3xl\", \"font-bold\", \"text-gray-800\"], [1, \"text-green-500\", \"text-xs\", \"font-medium\", \"bg-green-50\", \"px-2\", \"py-1\", \"rounded\", \"border\", \"border-green-200\"], [1, \"text-3xl\", \"font-bold\", \"text-orange-600\"], [1, \"text-orange-500\", \"text-xs\", \"font-medium\", \"bg-orange-50\", \"px-2\", \"py-1\", \"rounded\", \"border\", \"border-orange-200\"], [1, \"text-blue-500\", \"text-xs\", \"font-medium\", \"bg-blue-50\", \"px-2\", \"py-1\", \"rounded\", \"border\", \"border-blue-200\"], [1, \"text-3xl\", \"font-bold\", \"text-red-600\"], [1, \"text-red-500\", \"text-xs\", \"font-medium\", \"bg-red-50\", \"px-2\", \"py-1\", \"rounded\", \"border\", \"border-red-200\"], [1, \"grid\", \"grid-cols-1\", \"lg:grid-cols-3\", \"gap-8\"], [1, \"lg:col-span-2\", \"bg-white\", \"rounded-lg\", \"border\", \"border-gray-200\", \"shadow-sm\", \"overflow-hidden\"], [1, \"px-6\", \"py-4\", \"border-b\", \"border-gray-200\", \"flex\", \"items-center\", \"justify-between\"], [1, \"font-semibold\", \"text-gray-700\"], [1, \"text-xs\", \"text-blue-600\", \"font-medium\", \"cursor-pointer\", \"hover:underline\"], [1, \"divide-y\", \"divide-gray-100\"], [\"class\", \"p-4 hover:bg-gray-50 transition-colors flex items-start justify-between\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"p-8 text-center text-gray-400 text-sm border-t border-gray-100\", 4, \"ngIf\"], [\"class\", \"p-8 text-center text-gray-400 text-sm\", 4, \"ngIf\"], [1, \"bg-white\", \"rounded-lg\", \"border\", \"border-gray-200\", \"shadow-sm\", \"overflow-hidden\", \"flex\", \"flex-col\"], [1, \"px-6\", \"py-4\", \"border-b\", \"border-gray-200\"], [1, \"flex-1\", \"overflow-y-auto\", \"max-h-[400px]\"], [1, \"divide-y\", \"divide-gray-50\"], [\"class\", \"p-4 flex gap-3 hover:bg-gray-50 transition-colors\", 4, \"ngFor\", \"ngForOf\"], [1, \"p-3\", \"bg-gray-50\", \"border-t\", \"border-gray-100\", \"text-center\"], [1, \"text-xs\", \"font-bold\", \"text-blue-600\", \"uppercase\", \"hover:underline\"], [1, \"mt-8\", \"grid\", \"grid-cols-1\", \"md:grid-cols-3\", \"gap-4\"], [1, \"cursor-pointer\", \"group\", \"bg-white\", \"border\", \"border-gray-200\", \"p-4\", \"rounded-lg\", \"hover:border-blue-300\", \"hover:shadow-md\", \"transition-all\", 3, \"click\"], [1, \"p-2\", \"bg-gray-50\", \"rounded\", \"group-hover:bg-blue-50\", \"transition-colors\", \"text-gray-400\", \"group-hover:text-blue-500\", \"border\", \"border-gray-200\"], [1, \"fas\", \"fa-list-ul\"], [1, \"block\", \"text-sm\", \"font-semibold\", \"text-gray-700\", \"group-hover:text-blue-600\"], [1, \"block\", \"text-xs\", \"text-gray-400\", \"uppercase\", \"tracking-tight\"], [1, \"fas\", \"fa-stamp\"], [1, \"bg-white\", \"border\", \"border-gray-200\", \"p-4\", \"rounded-lg\", \"border-dashed\"], [1, \"p-2\", \"bg-gray-50\", \"rounded\", \"text-gray-400\", \"border\", \"border-gray-200\"], [1, \"fas\", \"fa-chart-bar\"], [1, \"block\", \"text-sm\", \"font-semibold\", \"text-gray-500\"], [1, \"p-4\", \"hover:bg-gray-50\", \"transition-colors\", \"flex\", \"items-start\", \"justify-between\"], [1, \"flex\", \"gap-4\", \"flex-1\"], [1, \"mt-1\", \"w-8\", \"h-8\", \"rounded-full\", \"flex\", \"items-center\", \"justify-center\", \"border\", \"border-gray-200\", 3, \"ngClass\"], [1, \"fas\", \"text-xs\", 3, \"ngClass\"], [1, \"flex-1\"], [1, \"text-sm\", \"font-medium\", \"text-gray-800\"], [1, \"flex\", \"items-center\", \"gap-3\", \"mt-1\"], [1, \"text-[11px]\", \"text-gray-400\", \"uppercase\", \"font-bold\", \"tracking-tight\", \"border\", \"border-gray-200\", \"px-2\", \"py-0.5\", \"rounded\"], [1, \"flex\", \"gap-1.5\", \"border-l\", \"border-gray-200\", \"pl-3\"], [\"title\", \"System Notification Dispatched\", 1, \"fas\", \"fa-desktop\", \"text-[10px]\", 3, \"ngClass\"], [\"title\", \"Email Sent to Stakeholder\", 1, \"fas\", \"fa-envelope\", \"text-[10px]\", 3, \"ngClass\"], [\"class\", \"text-[10px] font-bold text-red-600 bg-red-50 px-1.5 py-0.5 rounded border border-red-200\", 4, \"ngIf\"], [1, \"flex\", \"gap-2\"], [\"class\", \"px-3 py-1 text-xs font-medium text-green-700 bg-green-50 border border-green-200 rounded hover:bg-green-100\", 3, \"click\", 4, \"ngIf\"], [1, \"px-3\", \"py-1\", \"text-xs\", \"font-medium\", \"text-gray-700\", \"bg-white\", \"border\", \"border-gray-300\", \"rounded\", \"hover:bg-gray-50\", 3, \"click\"], [1, \"text-[10px]\", \"font-bold\", \"text-red-600\", \"bg-red-50\", \"px-1.5\", \"py-0.5\", \"rounded\", \"border\", \"border-red-200\"], [1, \"px-3\", \"py-1\", \"text-xs\", \"font-medium\", \"text-green-700\", \"bg-green-50\", \"border\", \"border-green-200\", \"rounded\", \"hover:bg-green-100\", 3, \"click\"], [1, \"p-8\", \"text-center\", \"text-gray-400\", \"text-sm\", \"border-t\", \"border-gray-100\"], [1, \"fas\", \"fa-check-circle\", \"text-2xl\", \"mb-2\", \"text-gray-300\"], [1, \"text-xs\", \"mt-1\"], [1, \"p-8\", \"text-center\", \"text-gray-400\", \"text-sm\"], [1, \"fas\", \"fa-spinner\", \"fa-spin\", \"text-xl\", \"mb-2\"], [1, \"p-4\", \"flex\", \"gap-3\", \"hover:bg-gray-50\", \"transition-colors\"], [1, \"mt-1\"], [\"class\", \"w-2 h-2 rounded-full bg-blue-400 block border border-blue-500\", 4, \"ngIf\"], [\"class\", \"w-2 h-2 rounded-full bg-orange-400 block border border-orange-500\", 4, \"ngIf\"], [1, \"text-[11px]\", \"font-bold\", \"text-gray-400\", \"uppercase\", \"mb-0.5\"], [1, \"text-xs\", \"text-gray-700\", \"line-clamp-2\", \"leading-relaxed\"], [1, \"text-[10px]\", \"text-gray-400\", \"mt-1\", \"italic\", \"border-t\", \"border-gray-100\", \"pt-1\"], [1, \"w-2\", \"h-2\", \"rounded-full\", \"bg-blue-400\", \"block\", \"border\", \"border-blue-500\"], [1, \"w-2\", \"h-2\", \"rounded-full\", \"bg-orange-400\", \"block\", \"border\", \"border-orange-500\"], [1, \"fas\", \"fa-inbox\", \"text-2xl\", \"mb-2\", \"text-gray-300\"]],\n        template: function NsbDashboardComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\")(3, \"h1\", 2);\n            i0.ɵɵtext(4, \"NSB Operations Command\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"p\", 3);\n            i0.ɵɵtext(6, \"Monitor certifications, standards compliance, and regional traceability.\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(7, \"div\", 4)(8, \"div\", 5)(9, \"button\", 6);\n            i0.ɵɵelement(10, \"i\", 7);\n            i0.ɵɵelementStart(11, \"span\", 8);\n            i0.ɵɵelement(12, \"span\", 9);\n            i0.ɵɵelementStart(13, \"span\", 10);\n            i0.ɵɵtext(14);\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(15, \"button\", 11);\n            i0.ɵɵelement(16, \"i\", 12);\n            i0.ɵɵtext(17, \" Export Report \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(18, \"button\", 13);\n            i0.ɵɵlistener(\"click\", function NsbDashboardComponent_Template_button_click_18_listener() {\n              return ctx.navigateToRegistry();\n            });\n            i0.ɵɵelement(19, \"i\", 14);\n            i0.ɵɵtext(20, \" New Registration \");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(21, \"div\", 15)(22, \"div\", 16)(23, \"span\", 17);\n            i0.ɵɵtext(24, \"Active NSBs\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(25, \"div\", 18)(26, \"span\", 19);\n            i0.ɵɵtext(27);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(28, \"span\", 20);\n            i0.ɵɵtext(29);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(30, \"div\", 16)(31, \"span\", 17);\n            i0.ɵɵtext(32, \"Pending Approvals\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(33, \"div\", 18)(34, \"span\", 21);\n            i0.ɵɵtext(35);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(36, \"span\", 22);\n            i0.ɵɵtext(37, \"Action Required\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(38, \"div\", 16)(39, \"span\", 17);\n            i0.ɵɵtext(40, \"Certification Marks\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(41, \"div\", 18)(42, \"span\", 19);\n            i0.ɵɵtext(43);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(44, \"span\", 23);\n            i0.ɵɵtext(45, \"Across 54 Countries\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(46, \"div\", 16)(47, \"span\", 17);\n            i0.ɵɵtext(48, \"Escalations\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(49, \"div\", 18)(50, \"span\", 24);\n            i0.ɵɵtext(51);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(52, \"span\", 25);\n            i0.ɵɵtext(53, \"High Priority\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(54, \"div\", 26)(55, \"div\", 27)(56, \"div\", 28)(57, \"h3\", 29);\n            i0.ɵɵtext(58, \"Workflow & Approvals\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(59, \"span\", 30);\n            i0.ɵɵtext(60, \"View All Tasks\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(61, \"div\", 31);\n            i0.ɵɵtemplate(62, NsbDashboardComponent_div_62_Template, 18, 16, \"div\", 32);\n            i0.ɵɵtemplate(63, NsbDashboardComponent_div_63_Template, 6, 0, \"div\", 33);\n            i0.ɵɵtemplate(64, NsbDashboardComponent_div_64_Template, 4, 0, \"div\", 34);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(65, \"div\", 35)(66, \"div\", 36)(67, \"h3\", 29);\n            i0.ɵɵtext(68, \"Communication History\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(69, \"div\", 37)(70, \"div\", 38);\n            i0.ɵɵtemplate(71, NsbDashboardComponent_div_71_Template, 12, 9, \"div\", 39);\n            i0.ɵɵtemplate(72, NsbDashboardComponent_div_72_Template, 6, 0, \"div\", 33);\n            i0.ɵɵtemplate(73, NsbDashboardComponent_div_73_Template, 4, 0, \"div\", 34);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(74, \"div\", 40)(75, \"button\", 41);\n            i0.ɵɵtext(76, \"Full Communication Log\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(77, \"div\", 42)(78, \"div\", 43);\n            i0.ɵɵlistener(\"click\", function NsbDashboardComponent_Template_div_click_78_listener() {\n              return ctx.navigateToRegistry();\n            });\n            i0.ɵɵelementStart(79, \"div\", 4)(80, \"div\", 44);\n            i0.ɵɵelement(81, \"i\", 45);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(82, \"div\")(83, \"span\", 46);\n            i0.ɵɵtext(84, \"Stakeholder Registry\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(85, \"span\", 47);\n            i0.ɵɵtext(86, \"Manage all NSB entries\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(87, \"div\", 43);\n            i0.ɵɵlistener(\"click\", function NsbDashboardComponent_Template_div_click_87_listener() {\n              return ctx.navigateToLicensing();\n            });\n            i0.ɵɵelementStart(88, \"div\", 4)(89, \"div\", 44);\n            i0.ɵɵelement(90, \"i\", 48);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(91, \"div\")(92, \"span\", 46);\n            i0.ɵɵtext(93, \"ARSO Quality Marks\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(94, \"span\", 47);\n            i0.ɵɵtext(95, \"Licensing module bridge\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(96, \"div\", 49)(97, \"div\", 4)(98, \"div\", 50);\n            i0.ɵɵelement(99, \"i\", 51);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(100, \"div\")(101, \"span\", 52);\n            i0.ɵɵtext(102, \"Reports Dashboard\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(103, \"span\", 47);\n            i0.ɵɵtext(104, \"TODO: Coming Soon\");\n            i0.ɵɵelementEnd()()()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(14);\n            i0.ɵɵtextInterpolate(ctx.unreadNotificationsCount);\n            i0.ɵɵadvance(13);\n            i0.ɵɵtextInterpolate(ctx.stats.activeNsbs || 0);\n            i0.ɵɵadvance(2);\n            i0.ɵɵtextInterpolate1(\"+\", ctx.stats.newThisMonth || 0, \" this month\");\n            i0.ɵɵadvance(6);\n            i0.ɵɵtextInterpolate(ctx.stats.pendingApprovals || 0);\n            i0.ɵɵadvance(8);\n            i0.ɵɵtextInterpolate(ctx.stats.totalMarks || 0);\n            i0.ɵɵadvance(8);\n            i0.ɵɵtextInterpolate(ctx.stats.escalations || 0);\n            i0.ɵɵadvance(11);\n            i0.ɵɵproperty(\"ngForOf\", ctx.pendingTasks);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.pendingTasks.length === 0 && !ctx.loading);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.loading);\n            i0.ɵɵadvance(7);\n            i0.ɵɵproperty(\"ngForOf\", ctx.notificationLogs);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.notificationLogs.length === 0 && !ctx.loading);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          }\n        },\n        dependencies: [i5.NgClass, i5.NgForOf, i5.NgIf, i5.DatePipe],\n        changeDetection: 0\n      });\n    }\n  }\n  return NsbDashboardComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}