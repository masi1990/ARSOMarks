{"ast":null,"code":"import { UserRole } from '../../shared/models/user.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../shared/services/analytics.service\";\nimport * as i2 from \"../../modules/auth/services/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction RoleReportsComponent_option_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"titlecase\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const role_r4 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"value\", role_r4)(\"disabled\", !ctx_r0.canView(role_r4));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 3, role_r4), \" \");\n  }\n}\nfunction RoleReportsComponent_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.error, \" \");\n  }\n}\nfunction RoleReportsComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵelement(1, \"div\", 23);\n    i0.ɵɵelementStart(2, \"p\", 24);\n    i0.ɵɵtext(3, \"Loading reporting data...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction RoleReportsComponent_ng_container_31_div_2_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 42);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const kpi_r9 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", kpi_r9.trend.change, \"% vs \", kpi_r9.trend.period, \" \");\n  }\n}\nfunction RoleReportsComponent_ng_container_31_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 38)(1, \"p\", 39);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 40);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, RoleReportsComponent_ng_container_31_div_2_div_5_Template, 2, 2, \"div\", 41);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const kpi_r9 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(kpi_r9.label);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(kpi_r9.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", kpi_r9.trend);\n  }\n}\nfunction RoleReportsComponent_ng_container_31_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 43);\n    i0.ɵɵtext(1, \"No report data for this filter set.\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a0, a1, a2) {\n  return {\n    \"bg-emerald-50 text-emerald-700\": a0,\n    \"bg-amber-50 text-amber-700\": a1,\n    \"bg-rose-50 text-rose-700\": a2\n  };\n};\nfunction RoleReportsComponent_ng_container_31_div_13_tr_13_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 55);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"titlecase\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r13 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(4, _c0, row_r13.status === \"done\", row_r13.status === \"in_progress\", row_r13.status === \"pending\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 2, row_r13.status), \" \");\n  }\n}\nfunction RoleReportsComponent_ng_container_31_div_13_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 49)(1, \"td\", 50);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 51);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 52);\n    i0.ɵɵtemplate(6, RoleReportsComponent_ng_container_31_div_13_tr_13_span_6_Template, 3, 8, \"span\", 53);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 54);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r13 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r13.label);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r13.value);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", row_r13.status);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r13.secondary || \"\\u2014\");\n  }\n}\nfunction RoleReportsComponent_ng_container_31_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44)(1, \"table\", 45)(2, \"thead\")(3, \"tr\", 46)(4, \"th\", 47);\n    i0.ɵɵtext(5, \"Label\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\", 47);\n    i0.ɵɵtext(7, \"Value\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\", 47);\n    i0.ɵɵtext(9, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\", 47);\n    i0.ɵɵtext(11, \"Secondary\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"tbody\");\n    i0.ɵɵtemplate(13, RoleReportsComponent_ng_container_31_div_13_tr_13_Template, 9, 4, \"tr\", 48);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r7.data.rows);\n  }\n}\nfunction RoleReportsComponent_ng_container_31_div_20_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 60);\n    i0.ɵɵelement(1, \"div\", 61);\n    i0.ɵɵelementStart(2, \"span\", 62);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const point_r18 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleProp(\"height\", (point_r18.value || 1) + \"px\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(point_r18.label);\n  }\n}\nfunction RoleReportsComponent_ng_container_31_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 56)(1, \"p\", 57);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 58);\n    i0.ɵɵtemplate(4, RoleReportsComponent_ng_container_31_div_20_div_4_Template, 4, 3, \"div\", 59);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const trend_r16 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(trend_r16.label);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", trend_r16.points);\n  }\n}\nfunction RoleReportsComponent_ng_container_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 25);\n    i0.ɵɵtemplate(2, RoleReportsComponent_ng_container_31_div_2_Template, 6, 3, \"div\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 27)(4, \"div\", 28)(5, \"div\")(6, \"h2\", 29);\n    i0.ɵɵtext(7, \"Report Table\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 30);\n    i0.ɵɵtext(9, \"Breakdowns by role/region/scheme.\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"span\", 31);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(12, RoleReportsComponent_ng_container_31_div_12_Template, 2, 0, \"div\", 32);\n    i0.ɵɵtemplate(13, RoleReportsComponent_ng_container_31_div_13_Template, 14, 1, \"div\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 34)(15, \"h2\", 29);\n    i0.ɵɵtext(16, \"Trend Snapshot\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"p\", 35);\n    i0.ɵɵtext(18, \"Throughput and completion trends.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 36);\n    i0.ɵɵtemplate(20, RoleReportsComponent_ng_container_31_div_20_Template, 5, 2, \"div\", 37);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.data.summary);\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate1(\"Rows: \", ctx_r3.data.rows.length, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.data.rows.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.data.rows.length);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.data.trends);\n  }\n}\nexport let RoleReportsComponent = /*#__PURE__*/(() => {\n  class RoleReportsComponent {\n    constructor(analytics, authService, route, router) {\n      this.analytics = analytics;\n      this.authService = authService;\n      this.route = route;\n      this.router = router;\n      this.UserRole = UserRole;\n      this.roleOptions = Object.values(UserRole);\n      this.selectedRole = UserRole.SUPER_ADMIN;\n      this.filters = {\n        region: '',\n        scheme: ''\n      };\n      this.loading = false;\n      this.error = '';\n    }\n    ngOnInit() {\n      this.sub = this.route.paramMap.subscribe(params => {\n        const roleParam = params.get('role');\n        const resolvedRole = this.resolveRole(roleParam);\n        if (resolvedRole !== this.selectedRole) {\n          this.selectedRole = resolvedRole;\n        }\n        this.loadReport();\n      });\n    }\n    ngOnDestroy() {\n      this.sub?.unsubscribe();\n    }\n    canView(role) {\n      const user = this.authService.currentUserValue;\n      const userRoles = user?.roles || (user?.role ? [user.role] : []);\n      return role === UserRole.SUPER_ADMIN || userRoles.includes(UserRole.SUPER_ADMIN) || userRoles.includes(role);\n    }\n    onRoleChange(role) {\n      const casted = role;\n      if (!this.canView(casted)) return;\n      this.router.navigate(['/portal/reports', casted.toLowerCase()]);\n    }\n    applyFilters() {\n      this.loadReport();\n    }\n    exportCsv() {\n      if (!this.data) return;\n      const header = ['Label', 'Value', 'Status', 'Secondary'];\n      const rows = this.data.rows.map(r => [r.label, r.value, r.status || '', r.secondary || '']);\n      const csv = [header, ...rows].map(r => r.join(',')).join('\\n');\n      const blob = new Blob([csv], {\n        type: 'text/csv;charset=utf-8;'\n      });\n      const link = document.createElement('a');\n      link.href = URL.createObjectURL(blob);\n      link.download = `${this.selectedRole.toLowerCase()}-report.csv`;\n      link.click();\n      URL.revokeObjectURL(link.href);\n    }\n    loadReport() {\n      this.error = '';\n      this.loading = true;\n      this.analytics.getReport(this.selectedRole, this.filters).subscribe({\n        next: data => {\n          this.data = data;\n          this.loading = false;\n        },\n        error: err => {\n          this.error = err?.error?.message || 'Unable to load report data.';\n          this.loading = false;\n        }\n      });\n    }\n    resolveRole(roleParam) {\n      if (roleParam && this.canView(roleParam)) {\n        return roleParam;\n      }\n      const user = this.authService.currentUserValue;\n      const userRoles = user?.roles || (user?.role ? [user.role] : []);\n      if (userRoles.includes(UserRole.SUPER_ADMIN)) return UserRole.SUPER_ADMIN;\n      return userRoles[0] || UserRole.OPERATOR;\n    }\n    static {\n      this.ɵfac = function RoleReportsComponent_Factory(t) {\n        return new (t || RoleReportsComponent)(i0.ɵɵdirectiveInject(i1.AnalyticsService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: RoleReportsComponent,\n        selectors: [[\"app-role-reports\"]],\n        decls: 32,\n        vars: 10,\n        consts: [[1, \"min-h-screen\", \"bg-slate-50\"], [1, \"max-w-7xl\", \"mx-auto\", \"px-4\", \"sm:px-6\", \"lg:px-8\", \"py-8\"], [1, \"flex\", \"flex-col\", \"gap-4\", \"md:flex-row\", \"md:items-center\", \"md:justify-between\"], [1, \"text-sm\", \"uppercase\", \"tracking-wide\", \"text-slate-500\"], [1, \"text-3xl\", \"font-bold\", \"text-slate-900\"], [1, \"text-sm\", \"text-slate-600\", \"mt-1\"], [1, \"flex\", \"flex-wrap\", \"gap-3\", \"items-center\"], [1, \"flex\", \"items-center\", \"gap-2\"], [\"for\", \"roleSelect\", 1, \"text-sm\", \"font-semibold\", \"text-slate-700\"], [\"id\", \"roleSelect\", 1, \"px-3\", \"py-2\", \"border\", \"border-slate-300\", \"rounded-lg\", \"text-sm\", \"bg-white\", \"focus:border-blue-600\", \"focus:ring-1\", \"focus:ring-blue-600\", 3, \"value\", \"change\"], [3, \"value\", \"disabled\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"regionFilter\", 1, \"text-sm\", \"font-semibold\", \"text-slate-700\"], [\"id\", \"regionFilter\", \"placeholder\", \"All\", 1, \"w-32\", \"px-3\", \"py-2\", \"border\", \"border-slate-300\", \"rounded-lg\", \"text-sm\", \"bg-white\", \"focus:border-blue-600\", \"focus:ring-1\", \"focus:ring-blue-600\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"schemeFilter\", 1, \"text-sm\", \"font-semibold\", \"text-slate-700\"], [\"id\", \"schemeFilter\", \"placeholder\", \"All\", 1, \"w-32\", \"px-3\", \"py-2\", \"border\", \"border-slate-300\", \"rounded-lg\", \"text-sm\", \"bg-white\", \"focus:border-blue-600\", \"focus:ring-1\", \"focus:ring-blue-600\", 3, \"ngModel\", \"ngModelChange\"], [1, \"px-4\", \"py-2\", \"bg-blue-600\", \"text-white\", \"rounded-lg\", \"text-sm\", \"font-semibold\", \"shadow-sm\", \"hover:bg-blue-700\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-blue-500\", 3, \"click\"], [1, \"px-4\", \"py-2\", \"bg-slate-900\", \"text-white\", \"rounded-lg\", \"text-sm\", \"font-semibold\", \"shadow-sm\", \"hover:bg-slate-800\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-slate-700\", 3, \"click\"], [\"class\", \"mt-4 p-3 bg-rose-50 text-rose-700 border border-rose-200 rounded-lg\", 4, \"ngIf\"], [\"class\", \"mt-8 bg-white rounded-xl border border-slate-200 p-12 text-center shadow-sm\", 4, \"ngIf\"], [4, \"ngIf\"], [3, \"value\", \"disabled\"], [1, \"mt-4\", \"p-3\", \"bg-rose-50\", \"text-rose-700\", \"border\", \"border-rose-200\", \"rounded-lg\"], [1, \"mt-8\", \"bg-white\", \"rounded-xl\", \"border\", \"border-slate-200\", \"p-12\", \"text-center\", \"shadow-sm\"], [\"role\", \"status\", \"aria-label\", \"Loading reports\", 1, \"inline-block\", \"animate-spin\", \"rounded-full\", \"h-10\", \"w-10\", \"border-b-2\", \"border-blue-600\"], [1, \"mt-4\", \"text-sm\", \"text-slate-600\"], [1, \"mt-8\", \"grid\", \"grid-cols-1\", \"sm:grid-cols-3\", \"gap-4\"], [\"class\", \"bg-white border border-slate-200 rounded-xl p-4 shadow-sm\", 4, \"ngFor\", \"ngForOf\"], [1, \"mt-8\", \"bg-white\", \"border\", \"border-slate-200\", \"rounded-xl\", \"shadow-sm\", \"overflow-hidden\"], [1, \"px-6\", \"py-4\", \"border-b\", \"border-slate-200\", \"bg-slate-50\", \"flex\", \"items-center\", \"justify-between\"], [1, \"text-lg\", \"font-semibold\", \"text-slate-900\"], [1, \"text-sm\", \"text-slate-600\"], [1, \"text-xs\", \"text-slate-500\"], [\"class\", \"p-8 text-sm text-slate-600\", 4, \"ngIf\"], [\"class\", \"overflow-x-auto\", 4, \"ngIf\"], [1, \"mt-8\", \"bg-white\", \"border\", \"border-slate-200\", \"rounded-xl\", \"shadow-sm\", \"p-6\"], [1, \"text-sm\", \"text-slate-600\", \"mb-4\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"gap-4\"], [\"class\", \"border border-slate-100 rounded-lg p-4\", 4, \"ngFor\", \"ngForOf\"], [1, \"bg-white\", \"border\", \"border-slate-200\", \"rounded-xl\", \"p-4\", \"shadow-sm\"], [1, \"text-sm\", \"font-semibold\", \"text-slate-600\"], [1, \"text-3xl\", \"font-bold\", \"text-slate-900\", \"mt-2\"], [\"class\", \"mt-1 text-xs text-slate-500\", 4, \"ngIf\"], [1, \"mt-1\", \"text-xs\", \"text-slate-500\"], [1, \"p-8\", \"text-sm\", \"text-slate-600\"], [1, \"overflow-x-auto\"], [1, \"min-w-full\"], [1, \"bg-slate-50\", \"border-b\", \"border-slate-200\"], [1, \"px-6\", \"py-3\", \"text-left\", \"text-xs\", \"font-semibold\", \"text-slate-700\"], [\"class\", \"border-b border-slate-100 hover:bg-slate-50 transition-colors\", 4, \"ngFor\", \"ngForOf\"], [1, \"border-b\", \"border-slate-100\", \"hover:bg-slate-50\", \"transition-colors\"], [1, \"px-6\", \"py-4\", \"text-sm\", \"text-slate-800\"], [1, \"px-6\", \"py-4\", \"text-sm\", \"text-slate-900\", \"font-semibold\"], [1, \"px-6\", \"py-4\"], [\"class\", \"px-2 py-1 text-xs rounded-full\", 3, \"ngClass\", 4, \"ngIf\"], [1, \"px-6\", \"py-4\", \"text-sm\", \"text-slate-600\"], [1, \"px-2\", \"py-1\", \"text-xs\", \"rounded-full\", 3, \"ngClass\"], [1, \"border\", \"border-slate-100\", \"rounded-lg\", \"p-4\"], [1, \"text-sm\", \"font-semibold\", \"text-slate-700\"], [1, \"mt-3\", \"flex\", \"items-end\", \"gap-2\"], [\"class\", \"flex flex-col items-center flex-1\", 4, \"ngFor\", \"ngForOf\"], [1, \"flex\", \"flex-col\", \"items-center\", \"flex-1\"], [1, \"w-full\", \"bg-blue-100\", \"rounded\"], [1, \"text-[11px]\", \"text-slate-500\", \"mt-1\"]],\n        template: function RoleReportsComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\")(4, \"p\", 3);\n            i0.ɵɵtext(5, \"Role Reporting\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"h1\", 4);\n            i0.ɵɵtext(7);\n            i0.ɵɵpipe(8, \"titlecase\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(9, \"p\", 5);\n            i0.ɵɵtext(10, \"Filtered, exportable reports by role, region, and scheme.\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(11, \"div\", 6)(12, \"div\", 7)(13, \"label\", 8);\n            i0.ɵɵtext(14, \"Role\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(15, \"select\", 9);\n            i0.ɵɵlistener(\"change\", function RoleReportsComponent_Template_select_change_15_listener($event) {\n              return ctx.onRoleChange($event.target == null ? null : $event.target.value);\n            });\n            i0.ɵɵtemplate(16, RoleReportsComponent_option_16_Template, 3, 5, \"option\", 10);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(17, \"div\", 7)(18, \"label\", 11);\n            i0.ɵɵtext(19, \"Region\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(20, \"input\", 12);\n            i0.ɵɵlistener(\"ngModelChange\", function RoleReportsComponent_Template_input_ngModelChange_20_listener($event) {\n              return ctx.filters.region = $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(21, \"div\", 7)(22, \"label\", 13);\n            i0.ɵɵtext(23, \"Scheme\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(24, \"input\", 14);\n            i0.ɵɵlistener(\"ngModelChange\", function RoleReportsComponent_Template_input_ngModelChange_24_listener($event) {\n              return ctx.filters.scheme = $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(25, \"button\", 15);\n            i0.ɵɵlistener(\"click\", function RoleReportsComponent_Template_button_click_25_listener() {\n              return ctx.applyFilters();\n            });\n            i0.ɵɵtext(26, \" Refresh \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(27, \"button\", 16);\n            i0.ɵɵlistener(\"click\", function RoleReportsComponent_Template_button_click_27_listener() {\n              return ctx.exportCsv();\n            });\n            i0.ɵɵtext(28, \" Export CSV \");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(29, RoleReportsComponent_div_29_Template, 2, 1, \"div\", 17);\n            i0.ɵɵtemplate(30, RoleReportsComponent_div_30_Template, 4, 0, \"div\", 18);\n            i0.ɵɵtemplate(31, RoleReportsComponent_ng_container_31_Template, 21, 5, \"ng-container\", 19);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(7);\n            i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 8, ctx.selectedRole));\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"value\", ctx.selectedRole);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngForOf\", ctx.roleOptions);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.filters.region);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.filters.scheme);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngIf\", ctx.error);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.loading);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.data);\n          }\n        },\n        dependencies: [i4.NgClass, i4.NgForOf, i4.NgIf, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel, i4.TitleCasePipe],\n        styles: [\".spark-bar[_ngcontent-%COMP%]{background:linear-gradient(180deg,#dbeafe 0%,#1d4ed8 100%);border-radius:.5rem}\"]\n      });\n    }\n  }\n  return RoleReportsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}