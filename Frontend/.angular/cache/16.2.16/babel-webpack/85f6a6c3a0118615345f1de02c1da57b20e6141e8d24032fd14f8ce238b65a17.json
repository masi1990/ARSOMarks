{"ast":null,"code":"import { finalize, forkJoin, of } from 'rxjs';\nimport { RoleRequestStatus, UserRole } from '../../shared/models/user.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../modules/auth/services/auth.service\";\nimport * as i2 from \"../../modules/nsb-management/services/nsb-registration-request.service\";\nimport * as i3 from \"../../modules/mark-licensing/services/mark-license-application.service\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\nfunction ApprovalsComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"p\", 27);\n    i0.ɵɵtext(2, \"Loading requests...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ApprovalsComponent_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"p\", 27);\n    i0.ɵɵtext(2, \"No requests found matching your filters.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ApprovalsComponent_div_37_div_22_p_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 49)(1, \"span\", 47);\n    i0.ɵɵtext(2, \"Note:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r4 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \\\"\", item_r4.notes, \"\\\"\");\n  }\n}\nfunction ApprovalsComponent_div_37_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 45)(1, \"p\", 46)(2, \"span\", 47);\n    i0.ɵɵtext(3, \"Action by:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, ApprovalsComponent_div_37_div_22_p_5_Template, 4, 1, \"p\", 48);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", item_r4.reviewedBy || \"System\", \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r4.notes);\n  }\n}\nfunction ApprovalsComponent_div_37_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 50)(1, \"button\", 51);\n    i0.ɵɵlistener(\"click\", function ApprovalsComponent_div_37_div_26_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const item_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.openDecisionModal(item_r4, \"approve\"));\n    });\n    i0.ɵɵtext(2, \" Approve \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 52);\n    i0.ɵɵlistener(\"click\", function ApprovalsComponent_div_37_div_26_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const item_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.openDecisionModal(item_r4, \"reject\"));\n    });\n    i0.ɵɵtext(4, \" Reject \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ApprovalsComponent_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29)(1, \"div\", 30)(2, \"div\", 31)(3, \"div\", 32)(4, \"span\", 33);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\")(7, \"div\", 34)(8, \"span\", 35);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"span\", 36);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"h3\", 37);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementStart(15, \"span\", 38);\n    i0.ɵɵtext(16, \"from\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"p\", 39);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"p\", 40);\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(22, ApprovalsComponent_div_37_div_22_Template, 6, 2, \"div\", 41);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"div\", 42)(24, \"span\", 43);\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(26, ApprovalsComponent_div_37_div_26_Template, 5, 0, \"div\", 44);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", item_r4.type === \"ROLE_REQUEST\" ? \"bg-purple-100 text-purple-600\" : \"bg-orange-100 text-orange-600\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.type === \"ROLE_REQUEST\" ? \"\\uD83D\\uDC64\" : \"\\uD83C\\uDFE2\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r2.getTypeLabel(item_r4.type));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\u2022 \", i0.ɵɵpipeBind2(12, 13, item_r4.submittedAt, \"mediumDate\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", item_r4.title, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", item_r4.requesterName, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.subtitle);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.requesterEmail);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.activeTab === \"history\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(ctx_r2.getStatusClass(item_r4.status));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r4.status, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.activeTab === \"pending\");\n  }\n}\nfunction ApprovalsComponent_div_38_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 68);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r15.modalError, \" \");\n  }\n}\nfunction ApprovalsComponent_div_38_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 69);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r16.modalSuccess, \" \");\n  }\n}\nfunction ApprovalsComponent_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 53)(1, \"div\", 54)(2, \"div\", 55)(3, \"h3\", 37);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 56);\n    i0.ɵɵlistener(\"click\", function ApprovalsComponent_div_38_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.closeModal());\n    });\n    i0.ɵɵtext(6, \"\\u2715\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 57)(8, \"div\", 58)(9, \"p\", 59);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\", 60);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\")(14, \"label\", 61);\n    i0.ɵɵtext(15, \" Comments / Reason \");\n    i0.ɵɵelementStart(16, \"span\", 38);\n    i0.ɵɵtext(17, \"(Optional)\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"textarea\", 62);\n    i0.ɵɵlistener(\"ngModelChange\", function ApprovalsComponent_div_38_Template_textarea_ngModelChange_18_listener($event) {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.decisionNote = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(19, ApprovalsComponent_div_38_div_19_Template, 2, 1, \"div\", 63);\n    i0.ɵɵtemplate(20, ApprovalsComponent_div_38_div_20_Template, 2, 1, \"div\", 64);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"div\", 65)(22, \"button\", 66);\n    i0.ɵɵlistener(\"click\", function ApprovalsComponent_div_38_Template_button_click_22_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.closeModal());\n    });\n    i0.ɵɵtext(23, \" Cancel \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"button\", 67);\n    i0.ɵɵlistener(\"click\", function ApprovalsComponent_div_38_Template_button_click_24_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.submitDecision());\n    });\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.actionType === \"approve\" ? \"Approve Request\" : \"Reject Request\", \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r3.selectedItem.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r3.selectedItem.subtitle);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.decisionNote);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.modalError);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.modalSuccess);\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassMap(ctx_r3.actionType === \"approve\" ? \"bg-emerald-600 hover:bg-emerald-700\" : \"bg-rose-600 hover:bg-rose-700\");\n    i0.ɵɵproperty(\"disabled\", ctx_r3.processing);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.processing ? \"Processing...\" : \"Confirm\", \" \");\n  }\n}\nexport let ApprovalsComponent = /*#__PURE__*/(() => {\n  class ApprovalsComponent {\n    constructor(authService, nsbService, markLicenseService, fb) {\n      this.authService = authService;\n      this.nsbService = nsbService;\n      this.markLicenseService = markLicenseService;\n      this.fb = fb;\n      this.activeTab = 'pending';\n      this.items = [];\n      this.filteredItems = [];\n      this.loading = false;\n      this.error = '';\n      this.isAdminUser = false;\n      // Modal Actions\n      this.selectedItem = null;\n      this.actionType = null;\n      this.decisionNote = '';\n      this.processing = false;\n      this.modalError = '';\n      this.modalSuccess = '';\n      this.filterForm = this.fb.group({\n        search: [''],\n        type: [''] // 'ROLE_REQUEST' or 'NSB_REGISTRATION'\n      });\n    }\n\n    ngOnInit() {\n      const user = this.authService.currentUserValue;\n      const roles = user?.roles || (user?.role ? [user.role] : []);\n      this.isAdminUser = roles.includes(UserRole.SUPER_ADMIN) || roles.includes(UserRole.ARSO_SECRETARIAT);\n      this.loadData();\n      this.setupFilters();\n    }\n    loadData() {\n      this.loading = true;\n      this.error = '';\n      forkJoin({\n        roleRequests: this.authService.listRoleRequests(),\n        nsbRequests: this.nsbService.list({\n          limit: 100\n        }),\n        markLicenseApplications: this.isAdminUser ? this.markLicenseService.getAllApplications(true) : of([])\n      }).pipe(finalize(() => {\n        this.loading = false;\n      })).subscribe({\n        next: res => {\n          const roleItems = (res.roleRequests || []).map(r => this.mapRoleRequest(r));\n          const nsbItems = (res.nsbRequests.data || []).map(r => this.mapNsbRequest(r));\n          const licenseItems = (res.markLicenseApplications || []).map(app => this.mapMarkLicenseApplication(app));\n          this.items = [...roleItems, ...nsbItems, ...licenseItems].sort((a, b) => new Date(b.submittedAt).getTime() - new Date(a.submittedAt).getTime());\n          this.applyFilters();\n        },\n        error: err => {\n          this.error = 'Failed to load approval requests.';\n          console.error(err);\n        }\n      });\n    }\n    mapRoleRequest(req) {\n      return {\n        id: req.id,\n        type: 'ROLE_REQUEST',\n        title: 'User Role Request',\n        subtitle: req.requestedRoles.join(', ').replace(/_/g, ' '),\n        requesterName: req.user?.fullName || 'Unknown User',\n        requesterEmail: req.user?.email || req.userId,\n        status: req.status,\n        submittedAt: req.createdAt,\n        reviewedBy: req.reviewedBy || undefined,\n        reviewedAt: req.reviewedAt || undefined,\n        notes: req.decisionNote || undefined,\n        originalRequest: req\n      };\n    }\n    mapNsbRequest(req) {\n      return {\n        id: req.id || '',\n        type: 'NSB_REGISTRATION',\n        title: 'NSB Registration',\n        subtitle: `${req.nsbOfficialName} (${req.countryName})`,\n        requesterName: req.contactPersonName,\n        requesterEmail: req.contactEmail,\n        status: req.status,\n        submittedAt: req.createdAt || '',\n        reviewedBy: req.reviewedBy,\n        reviewedAt: req.reviewedAt,\n        notes: req.remarks,\n        originalRequest: req\n      };\n    }\n    mapMarkLicenseApplication(app) {\n      return {\n        id: app.id,\n        type: 'MARK_LICENSE',\n        title: 'Mark License Application',\n        subtitle: `${app.applicationNumber || 'Pending Reference'} • ${app.nsbApplicantName}`,\n        requesterName: app.declarationSignatory || app.nsbApplicantName,\n        requesterEmail: app.signatoryEmail || 'N/A',\n        status: app.status,\n        submittedAt: app.submittedAt || app.createdAt,\n        reviewedBy: undefined,\n        reviewedAt: app.reviewedAt || undefined,\n        notes: app.rejectionReason || undefined,\n        originalRequest: app\n      };\n    }\n    setupFilters() {\n      this.filterForm.valueChanges.subscribe(() => {\n        this.applyFilters();\n      });\n    }\n    applyFilters() {\n      const {\n        search,\n        type\n      } = this.filterForm.value;\n      const term = (search || '').toLowerCase();\n      // First filter by tab\n      let list = this.items.filter(item => {\n        if (this.activeTab === 'pending') {\n          return ['PENDING', 'SUBMITTED', 'UNDER_REVIEW', 'DRAFT'].includes(item.status);\n        } else {\n          return ['APPROVED', 'REJECTED'].includes(item.status);\n        }\n      });\n      // Then filter by search term\n      if (term) {\n        list = list.filter(item => item.title.toLowerCase().includes(term) || item.subtitle.toLowerCase().includes(term) || item.requesterName.toLowerCase().includes(term) || item.requesterEmail.toLowerCase().includes(term));\n      }\n      // Then filter by type\n      if (type) {\n        list = list.filter(item => item.type === type);\n      }\n      this.filteredItems = list;\n    }\n    setActiveTab(tab) {\n      this.activeTab = tab;\n      this.applyFilters();\n    }\n    // Actions\n    openDecisionModal(item, action) {\n      this.selectedItem = item;\n      this.actionType = action;\n      this.decisionNote = '';\n      this.modalError = '';\n      this.modalSuccess = '';\n    }\n    closeModal() {\n      this.selectedItem = null;\n      this.actionType = null;\n      this.decisionNote = '';\n    }\n    submitDecision() {\n      if (!this.selectedItem || !this.actionType) return;\n      this.processing = true;\n      this.modalError = '';\n      // Check type and call appropriate service\n      if (this.selectedItem.type === 'ROLE_REQUEST') {\n        const status = this.actionType === 'approve' ? RoleRequestStatus.APPROVED : RoleRequestStatus.REJECTED;\n        this.authService.decideRoleRequest(this.selectedItem.id, {\n          status,\n          note: this.decisionNote\n        }).pipe(finalize(() => this.processing = false)).subscribe({\n          next: () => this.handleSuccess(),\n          error: err => this.modalError = err.error?.message || 'Failed to process request.'\n        });\n      } else if (this.selectedItem.type === 'NSB_REGISTRATION') {\n        const obs = this.actionType === 'approve' ? this.nsbService.approve(this.selectedItem.id, this.decisionNote) : this.nsbService.reject(this.selectedItem.id, this.decisionNote);\n        obs.pipe(finalize(() => this.processing = false)).subscribe({\n          next: () => this.handleSuccess(),\n          error: err => this.modalError = err.error?.message || 'Failed to process request.'\n        });\n      } else if (this.selectedItem.type === 'MARK_LICENSE') {\n        const obs = this.actionType === 'approve' ? this.markLicenseService.approveApplication(this.selectedItem.id) : this.markLicenseService.rejectApplication(this.selectedItem.id, this.decisionNote);\n        obs.pipe(finalize(() => this.processing = false)).subscribe({\n          next: () => this.handleSuccess(),\n          error: err => this.modalError = err.error?.message || 'Failed to process request.'\n        });\n      }\n    }\n    handleSuccess() {\n      this.modalSuccess = 'Request processed successfully.';\n      setTimeout(() => {\n        this.closeModal();\n        this.loadData(); // Refresh list\n      }, 1500);\n    }\n    getStatusClass(status) {\n      switch (status) {\n        case 'APPROVED':\n          return 'bg-emerald-100 text-emerald-800';\n        case 'REJECTED':\n          return 'bg-rose-100 text-rose-800';\n        case 'PENDING':\n        case 'SUBMITTED':\n        case 'UNDER_REVIEW':\n          return 'bg-blue-100 text-blue-800';\n        default:\n          return 'bg-slate-100 text-slate-800';\n      }\n    }\n    getTypeLabel(type) {\n      if (type === 'ROLE_REQUEST') {\n        return 'Role Request';\n      }\n      if (type === 'NSB_REGISTRATION') {\n        return 'NSB Registration';\n      }\n      return 'Mark License';\n    }\n    static {\n      this.ɵfac = function ApprovalsComponent_Factory(t) {\n        return new (t || ApprovalsComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.NsbRegistrationRequestService), i0.ɵɵdirectiveInject(i3.MarkLicenseApplicationService), i0.ɵɵdirectiveInject(i4.FormBuilder));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ApprovalsComponent,\n        selectors: [[\"app-approvals\"]],\n        decls: 39,\n        vars: 9,\n        consts: [[1, \"space-y-6\"], [1, \"card-surface\", \"px-6\", \"py-6\"], [1, \"flex\", \"flex-col\", \"gap-3\"], [1, \"text-xs\", \"font-semibold\", \"uppercase\", \"tracking-[0.14em]\", \"text-slate-500\"], [1, \"flex\", \"items-center\", \"justify-between\"], [1, \"text-2xl\", \"font-semibold\", \"text-slate-900\"], [1, \"text-sm\", \"text-blue-600\", \"hover:text-blue-800\", \"font-medium\", \"flex\", \"items-center\", \"gap-1\", 3, \"click\"], [1, \"max-w-3xl\", \"text-sm\", \"text-slate-600\"], [1, \"mt-8\", \"border-b\", \"border-slate-200\"], [1, \"flex\", \"gap-8\"], [1, \"pb-3\", \"text-sm\", \"font-semibold\", \"transition\", \"border-b-2\", 3, \"ngClass\", \"click\"], [1, \"card-surface\", \"px-6\", \"py-4\"], [1, \"flex\", \"flex-wrap\", \"gap-4\", \"items-center\", 3, \"formGroup\"], [1, \"relative\", \"flex-1\", \"min-w-[240px]\"], [1, \"absolute\", \"left-3\", \"top-1/2\", \"-translate-y-1/2\", \"text-slate-400\"], [\"type\", \"text\", \"formControlName\", \"search\", \"placeholder\", \"Search by name, email, or request details...\", 1, \"w-full\", \"pl-9\", \"pr-4\", \"py-2\", \"rounded-lg\", \"border\", \"border-slate-300\", \"text-sm\", \"focus:border-slate-900\", \"focus:outline-none\"], [1, \"w-48\"], [\"formControlName\", \"type\", 1, \"w-full\", \"px-3\", \"py-2\", \"rounded-lg\", \"border\", \"border-slate-300\", \"text-sm\", \"focus:border-slate-900\", \"focus:outline-none\", \"bg-white\"], [\"value\", \"\"], [\"value\", \"ROLE_REQUEST\"], [\"value\", \"NSB_REGISTRATION\"], [1, \"space-y-4\"], [\"class\", \"text-center py-12\", 4, \"ngIf\"], [\"class\", \"card-surface p-8 text-center\", 4, \"ngIf\"], [\"class\", \"card-surface p-5 hover:border-blue-300 transition-colors border border-transparent\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4\", 4, \"ngIf\"], [1, \"text-center\", \"py-12\"], [1, \"text-slate-500\"], [1, \"card-surface\", \"p-8\", \"text-center\"], [1, \"card-surface\", \"p-5\", \"hover:border-blue-300\", \"transition-colors\", \"border\", \"border-transparent\"], [1, \"flex\", \"flex-wrap\", \"items-start\", \"justify-between\", \"gap-4\"], [1, \"flex\", \"gap-4\"], [1, \"h-10\", \"w-10\", \"rounded-full\", \"flex\", \"items-center\", \"justify-center\", \"shrink-0\", 3, \"ngClass\"], [1, \"text-lg\"], [1, \"flex\", \"items-center\", \"gap-2\", \"mb-1\"], [1, \"text-xs\", \"font-bold\", \"uppercase\", \"tracking-wider\", \"text-slate-500\"], [1, \"text-xs\", \"text-slate-400\"], [1, \"font-semibold\", \"text-slate-900\"], [1, \"text-slate-400\", \"font-normal\"], [1, \"text-sm\", \"text-slate-600\", \"mt-1\"], [1, \"text-xs\", \"text-slate-500\", \"mt-1\"], [\"class\", \"mt-3 pt-3 border-t border-slate-100 text-sm\", 4, \"ngIf\"], [1, \"flex\", \"flex-col\", \"items-end\", \"gap-3\"], [1, \"px-2.5\", \"py-0.5\", \"rounded-full\", \"text-xs\", \"font-medium\"], [\"class\", \"flex gap-2\", 4, \"ngIf\"], [1, \"mt-3\", \"pt-3\", \"border-t\", \"border-slate-100\", \"text-sm\"], [1, \"text-slate-700\"], [1, \"font-medium\"], [\"class\", \"text-slate-700 mt-1\", 4, \"ngIf\"], [1, \"text-slate-700\", \"mt-1\"], [1, \"flex\", \"gap-2\"], [1, \"px-3\", \"py-1.5\", \"bg-emerald-600\", \"hover:bg-emerald-700\", \"text-white\", \"text-xs\", \"font-semibold\", \"rounded-lg\", \"transition\", \"shadow-sm\", 3, \"click\"], [1, \"px-3\", \"py-1.5\", \"bg-white\", \"border\", \"border-rose-200\", \"text-rose-700\", \"hover:bg-rose-50\", \"text-xs\", \"font-semibold\", \"rounded-lg\", \"transition\", 3, \"click\"], [1, \"fixed\", \"inset-0\", \"z-50\", \"flex\", \"items-center\", \"justify-center\", \"bg-black/50\", \"backdrop-blur-sm\", \"p-4\"], [1, \"bg-white\", \"rounded-xl\", \"shadow-xl\", \"max-w-md\", \"w-full\", \"overflow-hidden\"], [1, \"px-6\", \"py-4\", \"border-b\", \"border-slate-100\", \"flex\", \"justify-between\", \"items-center\"], [1, \"text-slate-400\", \"hover:text-slate-600\", 3, \"click\"], [1, \"p-6\", \"space-y-4\"], [1, \"bg-slate-50\", \"p-3\", \"rounded-lg\", \"text-sm\"], [1, \"font-medium\", \"text-slate-900\"], [1, \"text-slate-600\"], [1, \"block\", \"text-sm\", \"font-medium\", \"text-slate-700\", \"mb-1\"], [\"rows\", \"3\", \"placeholder\", \"Add a note to the requester...\", 1, \"w-full\", \"rounded-lg\", \"border\", \"border-slate-300\", \"p-2\", \"text-sm\", \"focus:border-slate-900\", \"focus:outline-none\", 3, \"ngModel\", \"ngModelChange\"], [\"class\", \"text-sm text-rose-600 bg-rose-50 p-2 rounded\", 4, \"ngIf\"], [\"class\", \"text-sm text-emerald-600 bg-emerald-50 p-2 rounded\", 4, \"ngIf\"], [1, \"px-6\", \"py-4\", \"bg-slate-50\", \"border-t\", \"border-slate-100\", \"flex\", \"justify-end\", \"gap-3\"], [1, \"px-4\", \"py-2\", \"text-sm\", \"font-medium\", \"text-slate-600\", \"hover:text-slate-800\", 3, \"click\"], [1, \"px-4\", \"py-2\", \"text-sm\", \"font-medium\", \"text-white\", \"rounded-lg\", \"transition\", \"disabled:opacity-50\", 3, \"disabled\", \"click\"], [1, \"text-sm\", \"text-rose-600\", \"bg-rose-50\", \"p-2\", \"rounded\"], [1, \"text-sm\", \"text-emerald-600\", \"bg-emerald-50\", \"p-2\", \"rounded\"]],\n        template: function ApprovalsComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"section\", 1)(2, \"div\", 2)(3, \"p\", 3);\n            i0.ɵɵtext(4, \"Approver Console\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"div\", 4)(6, \"h1\", 5);\n            i0.ɵɵtext(7, \"Approvals & Requests\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"button\", 6);\n            i0.ɵɵlistener(\"click\", function ApprovalsComponent_Template_button_click_8_listener() {\n              return ctx.loadData();\n            });\n            i0.ɵɵelementStart(9, \"span\");\n            i0.ɵɵtext(10, \"\\u21BB\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(11, \" Refresh \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(12, \"p\", 7);\n            i0.ɵɵtext(13, \" Consolidated view of all pending role assignments and NSB registration requests requiring your attention. \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(14, \"div\", 8)(15, \"div\", 9)(16, \"button\", 10);\n            i0.ɵɵlistener(\"click\", function ApprovalsComponent_Template_button_click_16_listener() {\n              return ctx.setActiveTab(\"pending\");\n            });\n            i0.ɵɵtext(17, \" Pending Review \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(18, \"button\", 10);\n            i0.ɵɵlistener(\"click\", function ApprovalsComponent_Template_button_click_18_listener() {\n              return ctx.setActiveTab(\"history\");\n            });\n            i0.ɵɵtext(19, \" History & Logs \");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(20, \"section\", 11)(21, \"form\", 12)(22, \"div\", 13)(23, \"span\", 14);\n            i0.ɵɵtext(24, \"\\uD83D\\uDD0D\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(25, \"input\", 15);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(26, \"div\", 16)(27, \"select\", 17)(28, \"option\", 18);\n            i0.ɵɵtext(29, \"All Request Types\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(30, \"option\", 19);\n            i0.ɵɵtext(31, \"Role Requests\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(32, \"option\", 20);\n            i0.ɵɵtext(33, \"NSB Registrations\");\n            i0.ɵɵelementEnd()()()()();\n            i0.ɵɵelementStart(34, \"section\", 21);\n            i0.ɵɵtemplate(35, ApprovalsComponent_div_35_Template, 3, 0, \"div\", 22);\n            i0.ɵɵtemplate(36, ApprovalsComponent_div_36_Template, 3, 0, \"div\", 23);\n            i0.ɵɵtemplate(37, ApprovalsComponent_div_37_Template, 27, 16, \"div\", 24);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(38, ApprovalsComponent_div_38_Template, 26, 10, \"div\", 25);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(9);\n            i0.ɵɵclassProp(\"animate-spin\", ctx.loading);\n            i0.ɵɵadvance(7);\n            i0.ɵɵproperty(\"ngClass\", ctx.activeTab === \"pending\" ? \"border-slate-900 text-slate-900\" : \"border-transparent text-slate-500 hover:text-slate-700\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngClass\", ctx.activeTab === \"history\" ? \"border-slate-900 text-slate-900\" : \"border-transparent text-slate-500 hover:text-slate-700\");\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"formGroup\", ctx.filterForm);\n            i0.ɵɵadvance(14);\n            i0.ɵɵproperty(\"ngIf\", ctx.loading);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.filteredItems.length === 0);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngForOf\", ctx.filteredItems);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.selectedItem);\n          }\n        },\n        dependencies: [i5.NgClass, i5.NgForOf, i5.NgIf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.FormGroupDirective, i4.FormControlName, i5.DatePipe],\n        styles: [\"[_nghost-%COMP%]{display:block}\"]\n      });\n    }\n  }\n  return ApprovalsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}