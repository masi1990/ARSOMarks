{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../shared/services/communication-log.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction CommunicationHistoryComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵelement(1, \"i\", 17);\n    i0.ɵɵelementStart(2, \"p\", 18);\n    i0.ɵɵtext(3, \"Loading communication history...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CommunicationHistoryComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵelement(1, \"i\", 20);\n    i0.ɵɵelementStart(2, \"p\", 21);\n    i0.ɵɵtext(3, \"No communication history found\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 22);\n    i0.ɵɵtext(5, \"Communication logs will appear here once notifications are sent\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CommunicationHistoryComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23)(1, \"div\", 24);\n    i0.ɵɵelement(2, \"i\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 26)(4, \"div\", 27)(5, \"span\", 28);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 29);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"h4\", 30);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p\", 31);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 32)(15, \"span\", 33);\n    i0.ɵɵelement(16, \"i\", 34);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"span\", 35);\n    i0.ɵɵelement(19, \"i\", 25);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const log_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", log_r3.type === \"EMAIL\" ? \"bg-blue-50 text-blue-500 border-blue-200\" : \"bg-orange-50 text-orange-500 border-orange-200\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", log_r3.type === \"EMAIL\" ? \"fa-envelope\" : \"fa-bell\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", log_r3.type, \" Notification\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(9, 10, log_r3.timestamp, \"medium\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(log_r3.subject);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(log_r3.message);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" Recipient: \", log_r3.recipient, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", log_r3.status === \"DELIVERED\" ? \"border-green-200 bg-green-50 text-green-600\" : log_r3.status === \"FAILED\" ? \"border-red-200 bg-red-50 text-red-600\" : \"border-yellow-200 bg-yellow-50 text-yellow-600\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", log_r3.status === \"DELIVERED\" ? \"fa-check-circle\" : log_r3.status === \"FAILED\" ? \"fa-times-circle\" : \"fa-clock\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Status: \", log_r3.status, \" \");\n  }\n}\nexport let CommunicationHistoryComponent = /*#__PURE__*/(() => {\n  class CommunicationHistoryComponent {\n    constructor(communicationLogService) {\n      this.communicationLogService = communicationLogService;\n      this.communicationLogs = [];\n      this.loading = false;\n      this.filterType = 'ALL';\n    }\n    ngOnInit() {\n      this.loadCommunicationLogs();\n    }\n    loadCommunicationLogs() {\n      this.loading = true;\n      this.communicationLogs = this.communicationLogService.getLogs();\n      this.communicationLogService.logs$.subscribe(logs => {\n        this.communicationLogs = logs;\n      });\n      this.loading = false;\n    }\n    get filteredLogs() {\n      if (this.filterType === 'ALL') {\n        return this.communicationLogs;\n      }\n      return this.communicationLogs.filter(log => log.type === this.filterType);\n    }\n    static {\n      this.ɵfac = function CommunicationHistoryComponent_Factory(t) {\n        return new (t || CommunicationHistoryComponent)(i0.ɵɵdirectiveInject(i1.CommunicationLogService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: CommunicationHistoryComponent,\n        selectors: [[\"app-communication-history\"]],\n        decls: 22,\n        vars: 4,\n        consts: [[1, \"min-h-screen\", \"bg-white\", \"p-8\"], [1, \"max-w-5xl\", \"mx-auto\"], [1, \"mb-10\", \"flex\", \"items-end\", \"justify-between\", \"border-b\", \"border-gray-100\", \"pb-6\"], [1, \"text-2xl\", \"font-bold\", \"text-gray-900\"], [1, \"text-sm\", \"text-gray-400\", \"mt-1\", \"uppercase\", \"tracking-tight\", \"font-medium\"], [1, \"flex\", \"gap-2\"], [1, \"px-3\", \"py-2\", \"border\", \"border-gray-300\", \"rounded-md\", \"text-sm\", \"focus:ring-2\", \"focus:ring-blue-500\", \"focus:border-blue-500\", \"outline-none\", \"bg-white\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"ALL\"], [\"value\", \"EMAIL\"], [\"value\", \"SYSTEM\"], [1, \"p-2\", \"border\", \"border-gray-200\", \"rounded\", \"text-gray-400\", \"hover:text-gray-600\", \"transition-colors\"], [1, \"fas\", \"fa-filter\", \"text-sm\"], [\"class\", \"text-center py-12\", 4, \"ngIf\"], [\"class\", \"text-center py-12 border border-gray-200 rounded-xl\", 4, \"ngIf\"], [1, \"space-y-4\"], [\"class\", \"p-5 border border-gray-200 rounded-xl hover:shadow-md transition-all group flex items-start gap-6\", 4, \"ngFor\", \"ngForOf\"], [1, \"text-center\", \"py-12\"], [1, \"fas\", \"fa-spinner\", \"fa-spin\", \"text-2xl\", \"text-gray-400\", \"mb-2\"], [1, \"text-sm\", \"text-gray-500\"], [1, \"text-center\", \"py-12\", \"border\", \"border-gray-200\", \"rounded-xl\"], [1, \"fas\", \"fa-inbox\", \"text-4xl\", \"text-gray-300\", \"mb-4\"], [1, \"text-sm\", \"text-gray-500\", \"font-medium\"], [1, \"text-xs\", \"text-gray-400\", \"mt-1\"], [1, \"p-5\", \"border\", \"border-gray-200\", \"rounded-xl\", \"hover:shadow-md\", \"transition-all\", \"group\", \"flex\", \"items-start\", \"gap-6\"], [1, \"flex-shrink-0\", \"w-12\", \"h-12\", \"rounded-full\", \"flex\", \"items-center\", \"justify-center\", \"text-lg\", \"border\", 3, \"ngClass\"], [1, \"fas\", 3, \"ngClass\"], [1, \"flex-1\"], [1, \"flex\", \"items-center\", \"justify-between\", \"mb-2\"], [1, \"text-[10px]\", \"font-bold\", \"text-gray-400\", \"uppercase\", \"tracking-widest\", \"border\", \"border-gray-200\", \"px-2\", \"py-0.5\", \"rounded\"], [1, \"text-xs\", \"font-medium\", \"text-gray-400\"], [1, \"text-sm\", \"font-bold\", \"text-gray-800\", \"mb-1\"], [1, \"text-xs\", \"text-gray-600\", \"leading-relaxed\"], [1, \"mt-4\", \"flex\", \"items-center\", \"gap-4\", \"text-[10px]\", \"font-bold\", \"text-gray-400\", \"uppercase\"], [1, \"flex\", \"items-center\", \"gap-1.5\", \"border\", \"border-gray-200\", \"px-2\", \"py-1\", \"rounded\"], [1, \"fas\", \"fa-user-circle\"], [1, \"flex\", \"items-center\", \"gap-1.5\", \"border\", \"px-2\", \"py-1\", \"rounded\", 3, \"ngClass\"]],\n        template: function CommunicationHistoryComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\")(4, \"h1\", 3);\n            i0.ɵɵtext(5, \"Communication History\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"p\", 4);\n            i0.ɵɵtext(7, \"Traceability Log of System & Stakeholder Communications\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(8, \"div\", 5)(9, \"select\", 6);\n            i0.ɵɵlistener(\"ngModelChange\", function CommunicationHistoryComponent_Template_select_ngModelChange_9_listener($event) {\n              return ctx.filterType = $event;\n            });\n            i0.ɵɵelementStart(10, \"option\", 7);\n            i0.ɵɵtext(11, \"All Types\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(12, \"option\", 8);\n            i0.ɵɵtext(13, \"Email Only\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(14, \"option\", 9);\n            i0.ɵɵtext(15, \"System Only\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(16, \"button\", 10);\n            i0.ɵɵelement(17, \"i\", 11);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(18, CommunicationHistoryComponent_div_18_Template, 4, 0, \"div\", 12);\n            i0.ɵɵtemplate(19, CommunicationHistoryComponent_div_19_Template, 6, 0, \"div\", 13);\n            i0.ɵɵelementStart(20, \"div\", 14);\n            i0.ɵɵtemplate(21, CommunicationHistoryComponent_div_21_Template, 21, 13, \"div\", 15);\n            i0.ɵɵelementEnd()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(9);\n            i0.ɵɵproperty(\"ngModel\", ctx.filterType);\n            i0.ɵɵadvance(9);\n            i0.ɵɵproperty(\"ngIf\", ctx.loading);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.filteredLogs.length === 0);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngForOf\", ctx.filteredLogs);\n          }\n        },\n        dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgModel, i2.DatePipe],\n        styles: [\"[_nghost-%COMP%]{display:block}\"]\n      });\n    }\n  }\n  return CommunicationHistoryComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}