{"ast":null,"code":"import { finalize } from 'rxjs';\nimport { RoleRequestStatus, UserRole } from '../../shared/models/user.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../modules/auth/services/auth.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/router\";\nfunction DashboardComponent_div_97_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 49)(1, \"p\", 50);\n    i0.ɵɵtext(2, \"Login required to submit role requests\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 51);\n    i0.ɵɵtext(4, \"You can browse public tools below. Sign in to request roles.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"a\", 52);\n    i0.ɵɵtext(6, \"Go to login \\u2192\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DashboardComponent_div_98_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 58);\n    i0.ɵɵelement(1, \"span\", 59);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const req_r9 = ctx.$implicit;\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r8.formatRolesList(req_r9.requestedRoles), \" \");\n  }\n}\nfunction DashboardComponent_div_98_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 53)(1, \"p\", 54);\n    i0.ɵɵtext(2, \"Pending approval\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 55);\n    i0.ɵɵtemplate(4, DashboardComponent_div_98_span_4_Template, 3, 1, \"span\", 56);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 57);\n    i0.ɵɵtext(6, \"Public tools remain available while we review these.\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.pendingRequests);\n  }\n}\nfunction DashboardComponent_div_100_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 70);\n    i0.ɵɵtext(1, \"Queued\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_100_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 71);\n  }\n}\nconst _c0 = function (a0, a1) {\n  return {\n    \"bg-emerald-50 text-emerald-700\": a0,\n    \"bg-slate-200 text-slate-700\": a1\n  };\n};\nfunction DashboardComponent_div_100_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 60);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_100_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const card_r10 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.toggleRole(card_r10.value));\n    });\n    i0.ɵɵelementStart(1, \"div\", 61)(2, \"p\", 62);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 63);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"h3\", 64);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 65);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 66)(11, \"div\", 67);\n    i0.ɵɵelement(12, \"span\", 37);\n    i0.ɵɵelementStart(13, \"span\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(15, DashboardComponent_div_100_span_15_Template, 2, 0, \"span\", 68);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(16, DashboardComponent_div_100_div_16_Template, 1, 0, \"div\", 69);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const card_r10 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"selected\", ctx_r2.isSelected(card_r10.value))(\"disabled\", !ctx_r2.isAuthenticated || ctx_r2.disabledRoles.has(card_r10.value));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(card_r10.badge);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(13, _c0, ctx_r2.isSelected(card_r10.value), !ctx_r2.isSelected(card_r10.value)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.isSelected(card_r10.value) ? \"Selected\" : \"Tap to select\", \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(card_r10.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(card_r10.blurb);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", ctx_r2.hasPendingFor(card_r10.value) ? \"bg-amber-500\" : \"bg-emerald-500\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.disabledRoles.has(card_r10.value) || !ctx_r2.isAuthenticated ? ctx_r2.hasPendingFor(card_r10.value) ? \"Pending approval\" : ctx_r2.isAuthenticated ? \"Already granted\" : \"Login required\" : \"Available to request\", \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isSelected(card_r10.value));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.disabledRoles.has(card_r10.value));\n  }\n}\nfunction DashboardComponent_div_109_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 72);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.submitError, \" \");\n  }\n}\nfunction DashboardComponent_div_110_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 73);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.submitSuccess, \" \");\n  }\n}\nfunction DashboardComponent_section_111_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 80);\n    i0.ɵɵtext(1, \"Loading\\u2026\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_section_111_div_8_div_1_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(0, \"span\", 88);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 89);\n    i0.ɵɵelement(2, \"path\", 94);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const req_r20 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Reviewed: \", i0.ɵɵpipeBind2(4, 1, req_r20.reviewedAt, \"short\"), \" \");\n  }\n}\nfunction DashboardComponent_section_111_div_8_div_1_p_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(0, \"p\", 95)(1, \"span\", 96);\n    i0.ɵɵtext(2, \"Note:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const req_r20 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", req_r20.decisionNote, \" \");\n  }\n}\nfunction DashboardComponent_section_111_div_8_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 83)(1, \"div\", 84)(2, \"div\", 85)(3, \"p\", 86);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 87)(6, \"span\", 88);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(7, \"svg\", 89);\n    i0.ɵɵelement(8, \"path\", 90);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, DashboardComponent_section_111_div_8_div_1_span_11_Template, 5, 4, \"span\", 91);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, DashboardComponent_section_111_div_8_div_1_p_12_Template, 4, 1, \"p\", 92);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(13, \"span\", 93);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const req_r20 = ctx.$implicit;\n    const ctx_r19 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r19.formatRolesList(req_r20.requestedRoles));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(10, 6, req_r20.createdAt, \"short\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", req_r20.reviewedAt);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", req_r20.decisionNote);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r19.statusBadgeClasses(req_r20.status));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", req_r20.status, \" \");\n  }\n}\nfunction DashboardComponent_section_111_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 81);\n    i0.ɵɵtemplate(1, DashboardComponent_section_111_div_8_div_1_Template, 15, 9, \"div\", 82);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r16.roleRequests);\n  }\n}\nfunction DashboardComponent_section_111_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 97)(1, \"div\", 98);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 99);\n    i0.ɵɵelement(3, \"path\", 100);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(4, \"p\", 101);\n    i0.ɵɵtext(5, \"No requests yet\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 102);\n    i0.ɵɵtext(7, \"Submit your first role request to get started\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DashboardComponent_section_111_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 74)(1, \"div\", 75)(2, \"div\")(3, \"p\", 25);\n    i0.ɵɵtext(4, \"My Requests\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h3\", 76);\n    i0.ɵɵtext(6, \"History & status\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(7, DashboardComponent_section_111_span_7_Template, 2, 0, \"span\", 77);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, DashboardComponent_section_111_div_8_Template, 2, 1, \"div\", 78);\n    i0.ɵɵtemplate(9, DashboardComponent_section_111_ng_template_9_Template, 8, 0, \"ng-template\", null, 79, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const _r17 = i0.ɵɵreference(10);\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.loadingRequests);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.roleRequests == null ? null : ctx_r5.roleRequests.length)(\"ngIfElse\", _r17);\n  }\n}\nfunction DashboardComponent_section_112_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 80);\n    i0.ɵɵtext(1, \"Loading\\u2026\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_section_112_div_8_div_1_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(0, \"span\", 112);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 89);\n    i0.ɵɵelement(2, \"path\", 94);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const req_r33 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Reviewed: \", i0.ɵɵpipeBind2(4, 1, req_r33.reviewedAt, \"short\"), \" \");\n  }\n}\nfunction DashboardComponent_section_112_div_8_div_1_p_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(0, \"p\", 117)(1, \"span\", 96);\n    i0.ɵɵtext(2, \"Decision Note:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const req_r33 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", req_r33.decisionNote, \" \");\n  }\n}\nfunction DashboardComponent_section_112_div_8_div_1_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r41 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 118)(1, \"button\", 119);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_section_112_div_8_div_1_div_20_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r41);\n      const req_r33 = i0.ɵɵnextContext().$implicit;\n      const ctx_r39 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r39.openDecisionModal(req_r33.id, \"approve\"));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 120);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_section_112_div_8_div_1_div_20_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r41);\n      const req_r33 = i0.ɵɵnextContext().$implicit;\n      const ctx_r42 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r42.openDecisionModal(req_r33.id, \"reject\"));\n    });\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const req_r33 = i0.ɵɵnextContext().$implicit;\n    const ctx_r36 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r36.decidingId === req_r33.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r36.decidingId === req_r33.id ? \"Processing...\" : \"Approve\", \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r36.decidingId === req_r33.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r36.decidingId === req_r33.id ? \"Processing...\" : \"Reject\", \" \");\n  }\n}\nfunction DashboardComponent_section_112_div_8_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 110)(1, \"div\", 111)(2, \"div\", 85)(3, \"p\", 86);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 8)(6, \"span\", 96);\n    i0.ɵɵtext(7, \"Requested by:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 87)(10, \"span\", 112);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(11, \"svg\", 89);\n    i0.ɵɵelement(12, \"path\", 90);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(15, DashboardComponent_section_112_div_8_div_1_span_15_Template, 5, 4, \"span\", 113);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(16, DashboardComponent_section_112_div_8_div_1_p_16_Template, 4, 1, \"p\", 114);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(17, \"div\", 115)(18, \"span\", 93);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(20, DashboardComponent_section_112_div_8_div_1_div_20_Template, 5, 4, \"div\", 116);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const req_r33 = ctx.$implicit;\n    const ctx_r29 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r29.formatRolesList(req_r33.requestedRoles));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", (req_r33.user == null ? null : req_r33.user.fullName) || req_r33.userId, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" Created: \", i0.ɵɵpipeBind2(14, 8, req_r33.createdAt, \"short\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", req_r33.reviewedAt);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", req_r33.decisionNote);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", ctx_r29.statusBadgeClasses(req_r33.status));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", req_r33.status, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", req_r33.status === \"PENDING\");\n  }\n}\nfunction DashboardComponent_section_112_div_8_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r46 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 121)(1, \"div\", 8);\n    i0.ɵɵtext(2, \" Showing \");\n    i0.ɵɵelementStart(3, \"span\", 122);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \" - \");\n    i0.ɵɵelementStart(6, \"span\", 122);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \" of \");\n    i0.ɵɵelementStart(9, \"span\", 122);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \" requests \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 118)(13, \"button\", 123);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_section_112_div_8_div_2_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r46);\n      const ctx_r45 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r45.prevApprovalPage());\n    });\n    i0.ɵɵtext(14, \"Previous\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 123);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_section_112_div_8_div_2_Template_button_click_15_listener() {\n      i0.ɵɵrestoreView(_r46);\n      const ctx_r47 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r47.nextApprovalPage());\n    });\n    i0.ɵɵtext(16, \"Next\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r30 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate((ctx_r30.approvalsPage - 1) * ctx_r30.approvalsPageSize + 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r30.Math.min(ctx_r30.approvalsPage * ctx_r30.approvalsPageSize, ctx_r30.allRequests.length));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r30.allRequests.length);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", ctx_r30.approvalsPage === 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r30.approvalsPage >= ctx_r30.totalApprovalPages);\n  }\n}\nfunction DashboardComponent_section_112_div_8_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 124);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r31 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r31.decisionError);\n  }\n}\nfunction DashboardComponent_section_112_div_8_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 125);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r32 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r32.decisionSuccess);\n  }\n}\nfunction DashboardComponent_section_112_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 81);\n    i0.ɵɵtemplate(1, DashboardComponent_section_112_div_8_div_1_Template, 21, 11, \"div\", 105);\n    i0.ɵɵtemplate(2, DashboardComponent_section_112_div_8_div_2_Template, 17, 5, \"div\", 106);\n    i0.ɵɵelementStart(3, \"div\", 107);\n    i0.ɵɵtemplate(4, DashboardComponent_section_112_div_8_div_4_Template, 2, 1, \"div\", 108);\n    i0.ɵɵtemplate(5, DashboardComponent_section_112_div_8_div_5_Template, 2, 1, \"div\", 109);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r26 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r26.paginatedApprovals);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r26.allRequests.length > ctx_r26.approvalsPageSize);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r26.decisionError);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r26.decisionSuccess);\n  }\n}\nfunction DashboardComponent_section_112_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 126)(1, \"div\", 98);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 99);\n    i0.ɵɵelement(3, \"path\", 94);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(4, \"p\", 101);\n    i0.ɵɵtext(5, \"No pending requests\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 102);\n    i0.ɵɵtext(7, \"All role requests have been processed\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DashboardComponent_section_112_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 74)(1, \"div\", 75)(2, \"div\")(3, \"p\", 103);\n    i0.ɵɵtext(4, \"Approver Console\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h3\", 76);\n    i0.ɵɵtext(6, \"Pending role requests\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(7, DashboardComponent_section_112_span_7_Template, 2, 0, \"span\", 77);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, DashboardComponent_section_112_div_8_Template, 6, 4, \"div\", 78);\n    i0.ɵɵtemplate(9, DashboardComponent_section_112_ng_template_9_Template, 8, 0, \"ng-template\", null, 104, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const _r27 = i0.ɵɵreference(10);\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.loadingAllRequests);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.allRequests == null ? null : ctx_r6.allRequests.length)(\"ngIfElse\", _r27);\n  }\n}\nfunction DashboardComponent_div_113_p_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 144);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r48 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r48.formatRolesList(ctx_r48.decidingRequest.requestedRoles), \" \");\n  }\n}\nfunction DashboardComponent_div_113_p_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 145);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r49 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Requested by: \", ctx_r49.decidingRequest.user.fullName, \" \");\n  }\n}\nfunction DashboardComponent_div_113_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 124);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r50 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r50.decisionError, \" \");\n  }\n}\nfunction DashboardComponent_div_113_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 125);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r51 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r51.decisionSuccess, \" \");\n  }\n}\nfunction DashboardComponent_div_113_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r53 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 127)(1, \"div\", 128)(2, \"div\", 129)(3, \"div\", 130)(4, \"div\", 131)(5, \"span\", 132);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"h3\", 76);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"button\", 133);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_113_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r53);\n      const ctx_r52 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r52.closeDecisionModal());\n    });\n    i0.ɵɵtext(10, \" \\u2715 \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 134)(12, \"div\", 135)(13, \"p\", 136);\n    i0.ɵɵtext(14, \"Request Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(15, DashboardComponent_div_113_p_15_Template, 2, 1, \"p\", 137);\n    i0.ɵɵtemplate(16, DashboardComponent_div_113_p_16_Template, 2, 1, \"p\", 138);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\")(18, \"label\", 139);\n    i0.ɵɵtext(19, \" Comments (optional) \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"textarea\", 140);\n    i0.ɵɵlistener(\"ngModelChange\", function DashboardComponent_div_113_Template_textarea_ngModelChange_20_listener($event) {\n      i0.ɵɵrestoreView(_r53);\n      const ctx_r54 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r54.decisionNote = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(21, DashboardComponent_div_113_div_21_Template, 2, 1, \"div\", 108);\n    i0.ɵɵtemplate(22, DashboardComponent_div_113_div_22_Template, 2, 1, \"div\", 109);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"div\", 141)(24, \"button\", 142);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_113_Template_button_click_24_listener() {\n      i0.ɵɵrestoreView(_r53);\n      const ctx_r55 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r55.closeDecisionModal());\n    });\n    i0.ɵɵtext(25, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"button\", 143);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_113_Template_button_click_26_listener() {\n      i0.ɵɵrestoreView(_r53);\n      const ctx_r56 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r56.confirmDecision());\n    });\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", ctx_r7.pendingAction === \"approve\" ? \"bg-emerald-50\" : \"bg-rose-50\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r7.pendingAction === \"approve\" ? \"text-emerald-700\" : \"text-rose-700\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r7.pendingAction === \"approve\" ? \"Approve\" : \"Reject\", \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r7.pendingAction === \"approve\" ? \"Approve Request\" : \"Reject Request\", \" \");\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.decidingRequest);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.decidingRequest == null ? null : ctx_r7.decidingRequest.user);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r7.decisionNote);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.decisionError);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.decisionSuccess);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", ctx_r7.decidingId === ctx_r7.decidingRequestId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r7.decidingId === ctx_r7.decidingRequestId ? \"Processing...\" : \"Confirm\", \" \");\n  }\n}\nexport let DashboardComponent = /*#__PURE__*/(() => {\n  class DashboardComponent {\n    constructor(authService) {\n      this.authService = authService;\n      this.user = null;\n      this.roleRequests = [];\n      this.pendingRequests = [];\n      this.allRequests = [];\n      this.isAuthenticated = false;\n      this.loadingRequests = false;\n      this.loadingAllRequests = false;\n      this.submitting = false;\n      this.submitError = '';\n      this.submitSuccess = '';\n      this.decisionError = '';\n      this.decisionSuccess = '';\n      this.note = '';\n      this.selectedRoles = new Set();\n      this.disabledRoles = new Set();\n      this.decidingId = null;\n      this.decisionNote = '';\n      this.decidingRequestId = null;\n      this.pendingAction = null;\n      // Pagination for Approver Console\n      this.approvalsPage = 1;\n      this.approvalsPageSize = 4;\n      this.roleCards = [{\n        value: UserRole.PUBLIC,\n        title: 'Public',\n        blurb: 'Browse, verify, and submit complaints as a public user.',\n        badge: 'Open Access'\n      }, {\n        value: UserRole.SUPER_ADMIN,\n        title: 'Super Admin',\n        blurb: 'Platform-wide administration and oversight.',\n        badge: 'Platform'\n      }, {\n        value: UserRole.ARSO_COUNCIL,\n        title: 'ARSO Council',\n        blurb: 'Governance and strategic decisions.',\n        badge: 'Governance'\n      }, {\n        value: UserRole.CACO_MEMBER,\n        title: 'CACO Member',\n        blurb: 'Conformity Assessment Committee review.',\n        badge: 'CACO'\n      }, {\n        value: UserRole.ARSO_SECRETARIAT,\n        title: 'ARSO Secretariat',\n        blurb: 'Central operations and coordination.',\n        badge: 'Secretariat'\n      }, {\n        value: UserRole.ADVISORY_COMMITTEE,\n        title: 'Advisory Committee',\n        blurb: 'Advisory expertise and guidance.',\n        badge: 'Advisory'\n      }, {\n        value: UserRole.SMC_MEMBER,\n        title: 'SMC Member',\n        blurb: 'Standards Management Committee tasks.',\n        badge: 'Standards'\n      }, {\n        value: UserRole.NSB_ADMIN,\n        title: 'NSB Admin',\n        blurb: 'National Standards Body administration.',\n        badge: 'NSB'\n      }, {\n        value: UserRole.NSB_USER,\n        title: 'NSB User',\n        blurb: 'NSB operations and registry actions.',\n        badge: 'NSB'\n      }, {\n        value: UserRole.CB_ADMIN,\n        title: 'Certification Body Admin',\n        blurb: 'Manage CB audits and certificates.',\n        badge: 'CB'\n      }, {\n        value: UserRole.CB_USER,\n        title: 'Certification Body User',\n        blurb: 'Execute CB reviews and evidence.',\n        badge: 'CB'\n      }, {\n        value: UserRole.OPERATOR,\n        title: 'Operator / Manufacturer',\n        blurb: 'Request marks, manage products, track certifications.',\n        badge: 'Operator'\n      }, {\n        value: UserRole.ACCREDITATION_BODY,\n        title: 'Accreditation Body',\n        blurb: 'Accreditation oversight and liaison.',\n        badge: 'Accreditation'\n      }];\n      // Expose Math for template\n      this.Math = Math;\n    }\n    loadRequests() {\n      if (!this.isAuthenticated) return;\n      this.loadingRequests = true;\n      this.authService.getMyRoleRequests().pipe(finalize(() => {\n        this.loadingRequests = false;\n      })).subscribe({\n        next: reqs => {\n          this.roleRequests = reqs || [];\n          this.pendingRequests = this.roleRequests.filter(r => r.status === RoleRequestStatus.PENDING);\n          this.updateDisabledRoles();\n        },\n        error: () => {\n          this.roleRequests = [];\n          this.pendingRequests = [];\n          this.updateDisabledRoles();\n        }\n      });\n    }\n    loadAllRequests() {\n      if (!this.isAuthenticated || !this.isApprover()) {\n        this.allRequests = [];\n        return;\n      }\n      this.loadingAllRequests = true;\n      this.authService.listRoleRequests().pipe(finalize(() => {\n        this.loadingAllRequests = false;\n      })).subscribe({\n        next: reqs => {\n          this.allRequests = reqs || [];\n        },\n        error: () => {\n          this.allRequests = [];\n        }\n      });\n    }\n    // Pagination Getters & Methods\n    get paginatedApprovals() {\n      const start = (this.approvalsPage - 1) * this.approvalsPageSize;\n      return this.allRequests.slice(start, start + this.approvalsPageSize);\n    }\n    get totalApprovalPages() {\n      return Math.ceil(this.allRequests.length / this.approvalsPageSize) || 1;\n    }\n    nextApprovalPage() {\n      if (this.approvalsPage < this.totalApprovalPages) {\n        this.approvalsPage++;\n      }\n    }\n    prevApprovalPage() {\n      if (this.approvalsPage > 1) {\n        this.approvalsPage--;\n      }\n    }\n    get decidingRequest() {\n      if (!this.decidingRequestId) return null;\n      return this.allRequests.find(r => r.id === this.decidingRequestId) || null;\n    }\n    get pendingRequestsCount() {\n      return this.roleRequests.filter(r => r.status === RoleRequestStatus.PENDING).length;\n    }\n    refreshProfile() {\n      this.authService.getProfile().subscribe({\n        next: user => {\n          this.user = user;\n          // If the freshly fetched profile has approver roles, ensure approver data loads.\n          if (this.isApprover() && !this.allRequests.length) {\n            this.loadAllRequests();\n          }\n        },\n        error: () => {\n          // Ignore profile errors here; fall back to the cached user.\n        }\n      });\n    }\n    submitRoleRequest() {\n      this.submitError = '';\n      this.submitSuccess = '';\n      if (!this.isAuthenticated) {\n        this.submitError = 'Please log in to submit role requests.';\n        return;\n      }\n      if (!this.selectedRoles.size) {\n        this.submitError = 'Select at least one role.';\n        return;\n      }\n      const payload = {\n        requestedRoles: Array.from(this.selectedRoles),\n        note: this.note?.trim() || undefined\n      };\n      this.submitting = true;\n      this.authService.requestRoles(payload).pipe(finalize(() => {\n        this.submitting = false;\n      })).subscribe({\n        next: res => {\n          const created = Array.isArray(res) ? res : [res];\n          this.submitSuccess = 'Request submitted. You will be notified after review.';\n          this.selectedRoles = new Set();\n          this.note = '';\n          this.roleRequests = [...created, ...this.roleRequests];\n          this.pendingRequests = this.roleRequests.filter(r => r.status === RoleRequestStatus.PENDING);\n          this.updateDisabledRoles();\n        },\n        error: err => {\n          this.submitError = err?.error?.message || 'Failed to submit request.';\n        }\n      });\n    }\n    openDecisionModal(id, action) {\n      this.decidingRequestId = id;\n      this.pendingAction = action;\n      this.decisionNote = '';\n      this.decisionError = '';\n      this.decisionSuccess = '';\n    }\n    closeDecisionModal() {\n      this.decidingRequestId = null;\n      this.pendingAction = null;\n      this.decisionNote = '';\n      this.decisionError = '';\n      this.decisionSuccess = '';\n    }\n    confirmDecision() {\n      if (!this.decidingRequestId || !this.pendingAction) return;\n      const status = this.pendingAction === 'approve' ? RoleRequestStatus.APPROVED : RoleRequestStatus.REJECTED;\n      this.decide(this.decidingRequestId, status);\n    }\n    decide(id, status) {\n      this.decisionError = '';\n      this.decisionSuccess = '';\n      this.decidingId = id;\n      const payload = {\n        status,\n        note: this.decisionNote?.trim() || undefined\n      };\n      this.authService.decideRoleRequest(id, payload).pipe(finalize(() => {\n        this.decidingId = null;\n        this.closeDecisionModal();\n      })).subscribe({\n        next: res => {\n          this.decisionSuccess = `Request ${status.toLowerCase()}.`;\n          this.allRequests = this.allRequests.map(r => r.id === res.id ? res : r);\n          if (res.userId === this.user?.id) {\n            this.roleRequests = this.roleRequests.map(r => r.id === res.id ? res : r);\n          }\n          // Reset pagination if needed\n          if (this.approvalsPage > this.totalApprovalPages) {\n            this.approvalsPage = Math.max(1, this.totalApprovalPages);\n          }\n        },\n        error: err => {\n          this.decisionError = err?.error?.message || 'Action failed.';\n        }\n      });\n    }\n    toggleRole(role) {\n      if (!this.isAuthenticated) {\n        this.submitError = 'Please log in to submit role requests.';\n        return;\n      }\n      if (this.disabledRoles.has(role)) return;\n      if (this.selectedRoles.has(role)) {\n        this.selectedRoles.delete(role);\n      } else {\n        this.selectedRoles.add(role);\n      }\n      // Ensure change detection picks up Set mutation\n      this.selectedRoles = new Set(this.selectedRoles);\n    }\n    isSelected(role) {\n      return this.selectedRoles.has(role);\n    }\n    clearSelection() {\n      this.selectedRoles = new Set();\n    }\n    hasPendingFor(role) {\n      return this.pendingRequests.some(req => req.status === RoleRequestStatus.PENDING && req.requestedRoles.includes(role));\n    }\n    formatRole(role) {\n      return (role || '').toString().replace(/_/g, ' ');\n    }\n    formatRolesList(roles) {\n      return roles && roles.length ? roles.map(r => this.formatRole(r)).join(', ') : 'None';\n    }\n    statusBadgeClasses(status) {\n      switch (status) {\n        case RoleRequestStatus.APPROVED:\n          return 'bg-emerald-50 text-emerald-700';\n        case RoleRequestStatus.REJECTED:\n          return 'bg-rose-50 text-rose-700';\n        default:\n          return 'bg-amber-50 text-amber-700';\n      }\n    }\n    isApprover() {\n      const roles = this.user?.roles || (this.user?.role ? [this.user.role] : []);\n      return roles.includes(UserRole.SUPER_ADMIN) || roles.includes(UserRole.ARSO_SECRETARIAT);\n    }\n    isNsbAdmin() {\n      const roles = this.getUserRoles();\n      return roles.includes(UserRole.NSB_ADMIN) || roles.includes(UserRole.NSB_USER);\n    }\n    isOperator() {\n      const roles = this.getUserRoles();\n      return roles.includes(UserRole.OPERATOR) || roles.includes(UserRole.NSB_ADMIN) || roles.includes(UserRole.SUPER_ADMIN) || roles.includes(UserRole.PUBLIC);\n    }\n    isCbUser() {\n      const roles = this.getUserRoles();\n      return roles.includes(UserRole.CB_ADMIN) || roles.includes(UserRole.CB_USER) || roles.includes(UserRole.SUPER_ADMIN) || roles.includes(UserRole.ARSO_SECRETARIAT) || roles.includes(UserRole.PUBLIC);\n    }\n    isPublic() {\n      const roles = this.getUserRoles();\n      return roles.includes(UserRole.PUBLIC);\n    }\n    canSeeTools() {\n      return !!this.user;\n    }\n    getUserRoles() {\n      return this.user?.roles || (this.user?.role ? [this.user.role] : []);\n    }\n    isOperatorRole() {\n      const roles = this.getUserRoles();\n      return roles.includes(UserRole.OPERATOR) || roles.includes(UserRole.SUPER_ADMIN);\n    }\n    updateDisabledRoles() {\n      const owned = this.getUserRoles();\n      const pending = this.pendingRequests.flatMap(r => r.requestedRoles || []);\n      this.disabledRoles = new Set([...owned, ...pending]);\n    }\n    ngOnInit() {\n      this.isAuthenticated = this.authService.isAuthenticated();\n      this.user = this.authService.currentUserValue;\n      if (this.isAuthenticated) {\n        this.loadRequests();\n        if (this.isApprover()) {\n          this.loadAllRequests();\n        }\n        setTimeout(() => {\n          this.refreshProfile();\n        }, 0);\n      }\n    }\n    static {\n      this.ɵfac = function DashboardComponent_Factory(t) {\n        return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.AuthService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: DashboardComponent,\n        selectors: [[\"app-dashboard\"]],\n        decls: 114,\n        vars: 17,\n        consts: [[1, \"space-y-8\", \"lg:grid\", \"lg:grid-cols-[320px,1fr]\", \"lg:gap-6\"], [1, \"hidden\", \"lg:flex\", \"flex-col\", \"gap-4\", \"rounded-2xl\", \"border\", \"border-slate-200\", \"bg-white\", \"p-6\", \"shadow-sm\"], [1, \"text-xs\", \"font-semibold\", \"uppercase\", \"tracking-[0.14em]\", \"text-blue-600\"], [1, \"text-xl\", \"font-bold\", \"text-slate-900\", \"mt-1\"], [1, \"text-sm\", \"text-slate-600\", \"mt-1\"], [1, \"space-y-2\"], [\"routerLink\", \"/traceability\", 1, \"group\", \"flex\", \"items-center\", \"justify-between\", \"rounded-lg\", \"border\", \"border-slate-200\", \"px-4\", \"py-3\", \"hover:border-blue-500\", \"hover:bg-blue-50\", \"transition\"], [1, \"text-sm\", \"font-semibold\", \"text-slate-900\", \"group-hover:text-blue-700\"], [1, \"text-xs\", \"text-slate-600\"], [1, \"text-blue-500\"], [\"routerLink\", \"/complaints\", 1, \"group\", \"flex\", \"items-center\", \"justify-between\", \"rounded-lg\", \"border\", \"border-slate-200\", \"px-4\", \"py-3\", \"hover:border-blue-500\", \"hover:bg-blue-50\", \"transition\"], [\"routerLink\", \"/registry\", 1, \"group\", \"flex\", \"items-center\", \"justify-between\", \"rounded-lg\", \"border\", \"border-slate-200\", \"px-4\", \"py-3\", \"hover:border-blue-500\", \"hover:bg-blue-50\", \"transition\"], [1, \"space-y-8\"], [1, \"relative\", \"overflow-hidden\", \"rounded-2xl\", \"bg-gradient-to-br\", \"from-slate-900\", \"via-slate-800\", \"to-slate-900\", \"px-8\", \"py-10\", \"text-white\", \"shadow-xl\"], [1, \"relative\", \"z-10\", \"flex\", \"flex-col\", \"gap-3\"], [1, \"text-xs\", \"font-semibold\", \"uppercase\", \"tracking-[0.14em]\", \"text-slate-300\"], [1, \"text-3xl\", \"font-bold\"], [1, \"max-w-3xl\", \"text-sm\", \"text-slate-200\"], [1, \"flex\", \"flex-wrap\", \"gap-2\", \"mt-2\"], [1, \"badge\", \"badge-emerald\"], [1, \"badge\", \"badge-blue\"], [1, \"badge\", \"badge-purple\"], [1, \"absolute\", \"inset-0\", \"bg-grid-pattern\", \"opacity-5\"], [1, \"grid\", \"gap-4\", \"md:grid-cols-3\"], [1, \"rounded-xl\", \"border\", \"border-slate-200\", \"bg-white\", \"p-5\", \"shadow-sm\"], [1, \"text-xs\", \"font-semibold\", \"uppercase\", \"tracking-wide\", \"text-slate-500\"], [1, \"text-lg\", \"font-bold\", \"text-slate-900\", \"mt-2\"], [\"routerLink\", \"/traceability\", 1, \"link-cta\"], [\"aria-hidden\", \"true\"], [\"routerLink\", \"/complaints\", 1, \"link-cta\"], [\"routerLink\", \"/\", 1, \"link-cta\"], [1, \"rounded-2xl\", \"border\", \"border-slate-200\", \"bg-white\", \"p-6\", \"shadow-sm\", \"space-y-4\"], [1, \"flex\", \"flex-col\", \"gap-2\", \"md:flex-row\", \"md:items-center\", \"md:justify-between\"], [1, \"text-xs\", \"font-semibold\", \"uppercase\", \"tracking-wide\", \"text-blue-600\"], [1, \"text-xl\", \"font-bold\", \"text-slate-900\"], [1, \"text-sm\", \"text-slate-600\"], [\"type\", \"button\", 1, \"btn-ghost\", 3, \"disabled\", \"click\"], [1, \"h-2\", \"w-2\", \"rounded-full\", 3, \"ngClass\"], [\"class\", \"rounded-xl border border-blue-200 bg-blue-50 p-4\", 4, \"ngIf\"], [\"class\", \"rounded-xl border border-amber-200 bg-amber-50 p-4\", 4, \"ngIf\"], [1, \"grid\", \"gap-4\", \"sm:grid-cols-2\", \"xl:grid-cols-3\"], [\"class\", \"role-card relative rounded-2xl border border-slate-200 bg-slate-50 p-5 cursor-pointer transition\", 3, \"selected\", \"disabled\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"flex\", \"flex-col\", \"gap-3\", \"sm:flex-row\", \"sm:items-center\", \"sm:justify-between\"], [1, \"flex\", \"gap-3\"], [\"type\", \"button\", 1, \"btn-primary\", 3, \"disabled\", \"click\"], [\"class\", \"alert alert-rose mt-2\", 4, \"ngIf\"], [\"class\", \"alert alert-emerald mt-2\", 4, \"ngIf\"], [\"class\", \"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm\", 4, \"ngIf\"], [\"class\", \"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4\", 4, \"ngIf\"], [1, \"rounded-xl\", \"border\", \"border-blue-200\", \"bg-blue-50\", \"p-4\"], [1, \"text-sm\", \"font-semibold\", \"text-blue-800\"], [1, \"text-xs\", \"text-blue-700\", \"mt-1\"], [\"routerLink\", \"/auth/login\", 1, \"link-cta\", \"mt-2\", \"inline-flex\"], [1, \"rounded-xl\", \"border\", \"border-amber-200\", \"bg-amber-50\", \"p-4\"], [1, \"text-sm\", \"font-semibold\", \"text-amber-800\"], [1, \"mt-2\", \"flex\", \"flex-wrap\", \"gap-2\"], [\"class\", \"inline-flex items-center gap-2 rounded-full bg-white px-3 py-1 text-xs font-semibold text-amber-800 border border-amber-200 shadow-sm\", 4, \"ngFor\", \"ngForOf\"], [1, \"text-xs\", \"text-amber-700\", \"mt-2\"], [1, \"inline-flex\", \"items-center\", \"gap-2\", \"rounded-full\", \"bg-white\", \"px-3\", \"py-1\", \"text-xs\", \"font-semibold\", \"text-amber-800\", \"border\", \"border-amber-200\", \"shadow-sm\"], [1, \"h-2\", \"w-2\", \"rounded-full\", \"bg-amber-500\"], [1, \"role-card\", \"relative\", \"rounded-2xl\", \"border\", \"border-slate-200\", \"bg-slate-50\", \"p-5\", \"cursor-pointer\", \"transition\", 3, \"click\"], [1, \"flex\", \"items-center\", \"justify-between\"], [1, \"text-xs\", \"font-semibold\", \"uppercase\", \"tracking-wide\", \"text-blue-700\"], [1, \"text-xs\", \"font-semibold\", \"px-2\", \"py-1\", \"rounded-full\", 3, \"ngClass\"], [1, \"mt-3\", \"text-lg\", \"font-bold\", \"text-slate-900\"], [1, \"mt-2\", \"text-sm\", \"text-slate-600\"], [1, \"mt-4\", \"flex\", \"items-center\", \"justify-between\", \"text-xs\", \"text-slate-500\"], [1, \"flex\", \"items-center\", \"gap-2\"], [\"class\", \"text-blue-600 font-semibold\", 4, \"ngIf\"], [\"class\", \"absolute inset-0 rounded-2xl bg-white/60 pointer-events-none\", 4, \"ngIf\"], [1, \"text-blue-600\", \"font-semibold\"], [1, \"absolute\", \"inset-0\", \"rounded-2xl\", \"bg-white/60\", \"pointer-events-none\"], [1, \"alert\", \"alert-rose\", \"mt-2\"], [1, \"alert\", \"alert-emerald\", \"mt-2\"], [1, \"rounded-2xl\", \"border\", \"border-slate-200\", \"bg-white\", \"p-6\", \"shadow-sm\"], [1, \"mb-4\", \"flex\", \"items-center\", \"justify-between\"], [1, \"text-lg\", \"font-bold\", \"text-slate-900\"], [\"class\", \"text-xs text-slate-500 animate-pulse\", 4, \"ngIf\"], [\"class\", \"space-y-3\", 4, \"ngIf\", \"ngIfElse\"], [\"emptyRequests\", \"\"], [1, \"text-xs\", \"text-slate-500\", \"animate-pulse\"], [1, \"space-y-3\"], [\"class\", \"group rounded-lg border border-slate-200 bg-white px-4 py-4 text-sm transition-all hover:border-slate-300 hover:shadow-sm\", 4, \"ngFor\", \"ngForOf\"], [1, \"group\", \"rounded-lg\", \"border\", \"border-slate-200\", \"bg-white\", \"px-4\", \"py-4\", \"text-sm\", \"transition-all\", \"hover:border-slate-300\", \"hover:shadow-sm\"], [1, \"flex\", \"items-start\", \"justify-between\", \"gap-3\"], [1, \"flex-1\", \"space-y-2\"], [1, \"font-semibold\", \"text-slate-900\"], [1, \"flex\", \"flex-wrap\", \"items-center\", \"gap-3\", \"text-xs\", \"text-slate-500\"], [1, \"flex\", \"items-center\", \"gap-1\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"h-3.5\", \"w-3.5\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"], [\"class\", \"flex items-center gap-1\", 4, \"ngIf\"], [\"class\", \"mt-1 rounded-md bg-slate-50 px-3 py-2 text-xs text-slate-600 border border-slate-200\", 4, \"ngIf\"], [1, \"shrink-0\", \"rounded-full\", \"px-3\", \"py-1\", \"text-xs\", \"font-semibold\", 3, \"ngClass\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"], [1, \"mt-1\", \"rounded-md\", \"bg-slate-50\", \"px-3\", \"py-2\", \"text-xs\", \"text-slate-600\", \"border\", \"border-slate-200\"], [1, \"font-medium\"], [1, \"flex\", \"flex-col\", \"items-center\", \"justify-center\", \"py-8\", \"text-center\"], [1, \"rounded-full\", \"bg-slate-100\", \"p-4\", \"mb-3\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"h-8\", \"w-8\", \"text-slate-400\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"], [1, \"text-sm\", \"font-medium\", \"text-slate-700\"], [1, \"mt-1\", \"text-xs\", \"text-slate-500\"], [1, \"text-xs\", \"font-semibold\", \"uppercase\", \"tracking-wide\", \"text-amber-600\"], [\"emptyAll\", \"\"], [\"class\", \"group rounded-lg border border-slate-200 bg-white px-5 py-4 text-sm transition-all hover:border-slate-300 hover:shadow-sm\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"flex items-center justify-between border-t border-slate-200 pt-4\", 4, \"ngIf\"], [1, \"mt-4\", \"flex\", \"flex-wrap\", \"gap-3\"], [\"class\", \"alert alert-rose\", 4, \"ngIf\"], [\"class\", \"alert alert-emerald\", 4, \"ngIf\"], [1, \"group\", \"rounded-lg\", \"border\", \"border-slate-200\", \"bg-white\", \"px-5\", \"py-4\", \"text-sm\", \"transition-all\", \"hover:border-slate-300\", \"hover:shadow-sm\"], [1, \"flex\", \"items-start\", \"justify-between\", \"gap-4\"], [1, \"flex\", \"items-center\", \"gap-1.5\"], [\"class\", \"flex items-center gap-1.5\", 4, \"ngIf\"], [\"class\", \"rounded-md bg-slate-50 px-3 py-2 text-xs text-slate-600 border border-slate-200\", 4, \"ngIf\"], [1, \"flex\", \"flex-col\", \"items-end\", \"gap-3\"], [\"class\", \"flex gap-2\", 4, \"ngIf\"], [1, \"rounded-md\", \"bg-slate-50\", \"px-3\", \"py-2\", \"text-xs\", \"text-slate-600\", \"border\", \"border-slate-200\"], [1, \"flex\", \"gap-2\"], [1, \"btn-approve\", 3, \"disabled\", \"click\"], [1, \"btn-reject\", 3, \"disabled\", \"click\"], [1, \"flex\", \"items-center\", \"justify-between\", \"border-t\", \"border-slate-200\", \"pt-4\"], [1, \"font-semibold\"], [1, \"btn-ghost\", 3, \"disabled\", \"click\"], [1, \"alert\", \"alert-rose\"], [1, \"alert\", \"alert-emerald\"], [1, \"flex\", \"flex-col\", \"items-center\", \"justify-center\", \"py-10\", \"text-center\"], [1, \"fixed\", \"inset-0\", \"z-50\", \"flex\", \"items-center\", \"justify-center\", \"bg-black/50\", \"backdrop-blur-sm\", \"p-4\"], [1, \"bg-white\", \"rounded-xl\", \"shadow-2xl\", \"max-w-md\", \"w-full\", \"overflow-hidden\"], [1, \"px-6\", \"py-4\", \"border-b\", \"border-slate-200\", \"flex\", \"justify-between\", \"items-center\", \"bg-gradient-to-r\", \"from-slate-50\", \"to-white\"], [1, \"flex\", \"items-center\", \"gap-3\"], [1, \"rounded-lg\", \"p-2\", 3, \"ngClass\"], [1, \"text-sm\", \"font-semibold\", 3, \"ngClass\"], [1, \"rounded-lg\", \"p-1.5\", \"text-slate-400\", \"hover:text-slate-600\", \"hover:bg-slate-100\", \"transition-colors\", 3, \"click\"], [1, \"p-6\", \"space-y-4\"], [1, \"bg-slate-50\", \"p-4\", \"rounded-lg\", \"border\", \"border-slate-200\"], [1, \"text-xs\", \"font-semibold\", \"uppercase\", \"tracking-wider\", \"text-slate-500\", \"mb-1\"], [\"class\", \"text-sm font-semibold text-slate-900\", 4, \"ngIf\"], [\"class\", \"text-xs text-slate-600 mt-1\", 4, \"ngIf\"], [1, \"block\", \"text-sm\", \"font-semibold\", \"text-slate-700\", \"mb-2\"], [\"rows\", \"4\", \"placeholder\", \"Add a note for the requester...\", 1, \"w-full\", \"rounded-lg\", \"border\", \"border-slate-300\", \"bg-white\", \"px-4\", \"py-3\", \"text-sm\", \"text-slate-800\", \"placeholder-slate-400\", \"focus:border-blue-500\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-blue-500\", \"focus:ring-offset-1\", \"transition-colors\", \"resize-none\", 3, \"ngModel\", \"ngModelChange\"], [1, \"px-6\", \"py-4\", \"bg-slate-50\", \"border-t\", \"border-slate-200\", \"flex\", \"justify-end\", \"gap-3\"], [1, \"btn-ghost\", 3, \"click\"], [1, \"btn-primary\", 3, \"disabled\", \"click\"], [1, \"text-sm\", \"font-semibold\", \"text-slate-900\"], [1, \"text-xs\", \"text-slate-600\", \"mt-1\"]],\n        template: function DashboardComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"aside\", 1)(2, \"div\")(3, \"p\", 2);\n            i0.ɵɵtext(4, \"Public tools\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"h2\", 3);\n            i0.ɵɵtext(6, \"Stay in Public\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(7, \"p\", 4);\n            i0.ɵɵtext(8, \"No login needed to verify products, file complaints, or browse certified items.\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(9, \"div\", 5)(10, \"a\", 6)(11, \"div\")(12, \"p\", 7);\n            i0.ɵɵtext(13, \"Traceability & Verification\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(14, \"p\", 8);\n            i0.ɵɵtext(15, \"Scan QR or paste token\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(16, \"span\", 9);\n            i0.ɵɵtext(17, \"\\u2192\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(18, \"a\", 10)(19, \"div\")(20, \"p\", 7);\n            i0.ɵɵtext(21, \"Public Complaints\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(22, \"p\", 8);\n            i0.ɵɵtext(23, \"Quality issues or mark misuse\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(24, \"span\", 9);\n            i0.ɵɵtext(25, \"\\u2192\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(26, \"a\", 11)(27, \"div\")(28, \"p\", 7);\n            i0.ɵɵtext(29, \"Certified Products Registry\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(30, \"p\", 8);\n            i0.ɵɵtext(31, \"Search by brand, standard, country\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(32, \"span\", 9);\n            i0.ɵɵtext(33, \"\\u2192\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(34, \"div\", 12)(35, \"section\", 13)(36, \"div\", 14)(37, \"p\", 15);\n            i0.ɵɵtext(38, \"Public-first Dashboard\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(39, \"h1\", 16);\n            i0.ɵɵtext(40);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(41, \"p\", 17);\n            i0.ɵɵtext(42, \" Start as Public. Keep using traceability, complaints, and the registry. Request one or many roles in a single submission; each is approved independently. \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(43, \"div\", 18)(44, \"span\", 19);\n            i0.ɵɵtext(45, \"Public role active\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(46, \"span\", 20);\n            i0.ɵɵtext(47);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(48, \"span\", 21);\n            i0.ɵɵtext(49);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelement(50, \"div\", 22);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(51, \"section\", 23)(52, \"div\", 24)(53, \"p\", 25);\n            i0.ɵɵtext(54, \"Traceability & Verification\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(55, \"h3\", 26);\n            i0.ɵɵtext(56, \"Check authenticity instantly\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(57, \"p\", 4);\n            i0.ɵɵtext(58, \"Scan QR or paste token. Status: Verified, Expired, Counterfeit.\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(59, \"a\", 27);\n            i0.ɵɵtext(60, \" Open traceability \");\n            i0.ɵɵelementStart(61, \"span\", 28);\n            i0.ɵɵtext(62, \"\\u2192\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(63, \"div\", 24)(64, \"p\", 25);\n            i0.ɵɵtext(65, \"Public Complaints\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(66, \"h3\", 26);\n            i0.ɵɵtext(67, \"Report issues or mark misuse\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(68, \"p\", 4);\n            i0.ɵɵtext(69, \"Attach photos/PDFs. Mark misuse flows to licensing.\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(70, \"a\", 29);\n            i0.ɵɵtext(71, \" File a complaint \");\n            i0.ɵɵelementStart(72, \"span\", 28);\n            i0.ɵɵtext(73, \"\\u2192\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(74, \"div\", 24)(75, \"p\", 25);\n            i0.ɵɵtext(76, \"Certified Products\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(77, \"h3\", 26);\n            i0.ɵɵtext(78, \"Search the registry\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(79, \"p\", 4);\n            i0.ɵɵtext(80, \"Filter by brand, standard, or country (e.g., ARSO L2).\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(81, \"a\", 30);\n            i0.ɵɵtext(82, \" Open registry \");\n            i0.ɵɵelementStart(83, \"span\", 28);\n            i0.ɵɵtext(84, \"\\u2192\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(85, \"section\", 31)(86, \"div\", 32)(87, \"div\")(88, \"p\", 33);\n            i0.ɵɵtext(89, \"Role Selection Hub\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(90, \"h2\", 34);\n            i0.ɵɵtext(91, \"Request multiple roles together\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(92, \"p\", 35);\n            i0.ɵɵtext(93, \"Select one or more roles. Already-owned or pending roles are disabled.\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(94, \"button\", 36);\n            i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_94_listener() {\n              return ctx.loadRequests();\n            });\n            i0.ɵɵelement(95, \"span\", 37);\n            i0.ɵɵtext(96, \" Refresh status \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(97, DashboardComponent_div_97_Template, 7, 0, \"div\", 38);\n            i0.ɵɵtemplate(98, DashboardComponent_div_98_Template, 7, 1, \"div\", 39);\n            i0.ɵɵelementStart(99, \"div\", 40);\n            i0.ɵɵtemplate(100, DashboardComponent_div_100_Template, 17, 16, \"div\", 41);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(101, \"div\", 42)(102, \"div\", 35);\n            i0.ɵɵtext(103, \" Stack roles over time without separate accounts. Each role is approved independently. \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(104, \"div\", 43)(105, \"button\", 36);\n            i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_105_listener() {\n              return ctx.clearSelection();\n            });\n            i0.ɵɵtext(106, \"Clear selection\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(107, \"button\", 44);\n            i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_107_listener() {\n              return ctx.submitRoleRequest();\n            });\n            i0.ɵɵtext(108);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(109, DashboardComponent_div_109_Template, 2, 1, \"div\", 45);\n            i0.ɵɵtemplate(110, DashboardComponent_div_110_Template, 2, 1, \"div\", 46);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(111, DashboardComponent_section_111_Template, 11, 3, \"section\", 47);\n            i0.ɵɵtemplate(112, DashboardComponent_section_112_Template, 11, 3, \"section\", 47);\n            i0.ɵɵtemplate(113, DashboardComponent_div_113_Template, 28, 11, \"div\", 48);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(40);\n            i0.ɵɵtextInterpolate1(\"Welcome, \", (ctx.user == null ? null : ctx.user.fullName) || \"Public User\", \"\");\n            i0.ɵɵadvance(7);\n            i0.ɵɵtextInterpolate1(\"\", (ctx.user == null ? null : ctx.user.roles == null ? null : ctx.user.roles.length) || 1, \" role(s)\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵtextInterpolate((ctx.user == null ? null : ctx.user.email) || \"Email not available\");\n            i0.ɵɵadvance(45);\n            i0.ɵɵproperty(\"disabled\", ctx.loadingRequests);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngClass\", ctx.pendingRequests.length ? \"bg-amber-400\" : \"bg-emerald-400\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", !ctx.isAuthenticated);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.pendingRequests.length && ctx.isAuthenticated);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngForOf\", ctx.roleCards);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"disabled\", !ctx.selectedRoles.size);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"disabled\", !ctx.isAuthenticated || ctx.submitting || ctx.selectedRoles.size === 0);\n            i0.ɵɵadvance(1);\n            i0.ɵɵtextInterpolate2(\" \", ctx.submitting ? \"Submitting...\" : \"Submit request\", \" (\", ctx.selectedRoles.size, \") \");\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.submitError);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.submitSuccess);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.isAuthenticated);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.isAuthenticated && ctx.isApprover());\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.decidingRequestId);\n          }\n        },\n        dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.RouterLink, i2.DatePipe],\n        styles: [\".role-card[_ngcontent-%COMP%]{transition:all .2s ease}.role-card.selected[_ngcontent-%COMP%]{border-color:#2563eb;background:#e0ecff;box-shadow:0 10px 20px #2563eb1f}.role-card.disabled[_ngcontent-%COMP%]{cursor:not-allowed}.badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem;padding:.3rem .75rem;border-radius:9999px;font-size:.75rem;font-weight:600;border:1px solid transparent}.badge-emerald[_ngcontent-%COMP%]{background:#ecfdf3;color:#047857;border-color:#bbf7d0}.badge-blue[_ngcontent-%COMP%]{background:#eff6ff;color:#1d4ed8;border-color:#bfdbfe}.badge-purple[_ngcontent-%COMP%]{background:#f5f3ff;color:#6b21a8;border-color:#e9d5ff}.link-cta[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.35rem;margin-top:1rem;font-weight:600;color:#1d4ed8}.btn-primary[_ngcontent-%COMP%]{border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1));padding:.5rem 1rem;font-size:.875rem;line-height:1.25rem;font-weight:600;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.btn-primary[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6}.btn-ghost[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;border-radius:.5rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(226 232 240 / var(--tw-border-opacity, 1));padding:.5rem .75rem;font-size:.875rem;line-height:1.25rem;font-weight:600;--tw-text-opacity: 1;color:rgb(51 65 85 / var(--tw-text-opacity, 1))}.btn-ghost[_ngcontent-%COMP%]:hover{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1));--tw-text-opacity: 1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.btn-ghost[_ngcontent-%COMP%]:disabled{opacity:.6}.btn-approve[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.375rem;border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(5 150 105 / var(--tw-bg-opacity, 1));padding:.5rem 1rem;font-size:.75rem;line-height:1rem;font-weight:600;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.btn-approve[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(4 120 87 / var(--tw-bg-opacity, 1))}.btn-approve[_ngcontent-%COMP%]:disabled{opacity:.5}.btn-reject[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.375rem;border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(225 29 72 / var(--tw-bg-opacity, 1));padding:.5rem 1rem;font-size:.75rem;line-height:1rem;font-weight:600;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.btn-reject[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(190 18 60 / var(--tw-bg-opacity, 1))}.btn-reject[_ngcontent-%COMP%]:disabled{opacity:.5}.alert[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;border-radius:.5rem;border-width:1px;padding:.5rem .75rem;font-size:.875rem;line-height:1.25rem}.alert-rose[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(254 205 211 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(255 241 242 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(190 18 60 / var(--tw-text-opacity, 1))}.alert-emerald[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(167 243 208 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(236 253 245 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(4 120 87 / var(--tw-text-opacity, 1))}\"]\n      });\n    }\n  }\n  return DashboardComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}