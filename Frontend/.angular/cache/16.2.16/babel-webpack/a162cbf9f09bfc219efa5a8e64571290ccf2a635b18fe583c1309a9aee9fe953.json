{"ast":null,"code":"import { HttpParams } from '@angular/common/http';\nimport { environment } from '../../../../environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport let DocumentUploadService = /*#__PURE__*/(() => {\n  class DocumentUploadService {\n    constructor(http) {\n      this.http = http;\n      this.baseUrl = `${environment.apiBase}/document-upload`;\n    }\n    // Operator Documents (Section A)\n    getOperatorDocuments(operatorId) {\n      return this.http.get(`${this.baseUrl}/operators/${operatorId}/documents`);\n    }\n    uploadOperatorDocument(operatorId, request) {\n      const formData = this.createDocumentFormData(request);\n      return this.http.post(`${this.baseUrl}/operators/${operatorId}/documents`, formData);\n    }\n    deleteOperatorDocument(operatorId, documentId) {\n      return this.http.delete(`${this.baseUrl}/operators/${operatorId}/documents/${documentId}`);\n    }\n    downloadOperatorDocument(operatorId, documentId) {\n      return this.http.get(`${this.baseUrl}/operators/${operatorId}/documents/${documentId}/download`, {\n        responseType: 'blob'\n      });\n    }\n    // Test Reports (Section B)\n    getTestReports(params) {\n      let httpParams = new HttpParams();\n      Object.entries(params || {}).forEach(([key, value]) => {\n        if (value !== undefined && value !== null && value !== '') {\n          httpParams = httpParams.set(key, String(value));\n        }\n      });\n      return this.http.get(`${this.baseUrl}/test-reports`, {\n        params: httpParams\n      });\n    }\n    uploadTestReport(request) {\n      const formData = this.createTestReportFormData(request);\n      return this.http.post(`${this.baseUrl}/test-reports`, formData);\n    }\n    deleteTestReport(reportId) {\n      return this.http.delete(`${this.baseUrl}/test-reports/${reportId}`);\n    }\n    // Existing Certificates (Section B)\n    getExistingCertificates(params) {\n      let httpParams = new HttpParams();\n      Object.entries(params || {}).forEach(([key, value]) => {\n        if (value !== undefined && value !== null && value !== '') {\n          httpParams = httpParams.set(key, String(value));\n        }\n      });\n      return this.http.get(`${this.baseUrl}/certificates`, {\n        params: httpParams\n      });\n    }\n    uploadCertificate(request) {\n      const formData = this.createCertificateFormData(request);\n      return this.http.post(`${this.baseUrl}/certificates`, formData);\n    }\n    deleteCertificate(certificateId) {\n      return this.http.delete(`${this.baseUrl}/certificates/${certificateId}`);\n    }\n    // Supply Chain Documents (Section C)\n    getSupplyChainDocuments(params) {\n      let httpParams = new HttpParams();\n      Object.entries(params || {}).forEach(([key, value]) => {\n        if (value !== undefined && value !== null && value !== '') {\n          httpParams = httpParams.set(key, String(value));\n        }\n      });\n      return this.http.get(`${this.baseUrl}/supply-chain`, {\n        params: httpParams\n      });\n    }\n    uploadSupplyChainDocument(request) {\n      const formData = this.createDocumentFormData(request);\n      return this.http.post(`${this.baseUrl}/supply-chain`, formData);\n    }\n    deleteSupplyChainDocument(documentId) {\n      return this.http.delete(`${this.baseUrl}/supply-chain/${documentId}`);\n    }\n    // Environmental Documents (Section D - EMA Only)\n    getEnvironmentalDocuments(params) {\n      let httpParams = new HttpParams();\n      Object.entries(params || {}).forEach(([key, value]) => {\n        if (value !== undefined && value !== null && value !== '') {\n          httpParams = httpParams.set(key, String(value));\n        }\n      });\n      return this.http.get(`${this.baseUrl}/environmental`, {\n        params: httpParams\n      });\n    }\n    uploadEnvironmentalDocument(request) {\n      const formData = this.createDocumentFormData(request);\n      return this.http.post(`${this.baseUrl}/environmental`, formData);\n    }\n    deleteEnvironmentalDocument(documentId) {\n      return this.http.delete(`${this.baseUrl}/environmental/${documentId}`);\n    }\n    // Helper methods to create FormData\n    createDocumentFormData(request) {\n      const formData = new FormData();\n      formData.append('file', request.file);\n      formData.append('documentCategory', request.documentCategory);\n      formData.append('documentType', request.documentType);\n      formData.append('documentName', request.documentName);\n      if (request.description) {\n        formData.append('description', request.description);\n      }\n      if (request.expiryDate) {\n        formData.append('expiryDate', request.expiryDate);\n      }\n      if (request.operatorId) {\n        formData.append('operatorId', request.operatorId);\n      }\n      if (request.productId) {\n        formData.append('productId', request.productId);\n      }\n      if (request.applicationId) {\n        formData.append('applicationId', request.applicationId);\n      }\n      return formData;\n    }\n    createTestReportFormData(request) {\n      const formData = new FormData();\n      formData.append('file', request.file);\n      formData.append('testLabName', request.testLabName);\n      formData.append('labAccreditation', request.labAccreditation);\n      formData.append('testStandard', request.testStandard);\n      formData.append('testDate', request.testDate);\n      formData.append('sampleDescription', request.sampleDescription);\n      formData.append('testParameters', request.testParameters);\n      formData.append('testResultsSummary', request.testResultsSummary);\n      formData.append('passFail', request.passFail);\n      if (request.productId) {\n        formData.append('productId', request.productId);\n      }\n      if (request.applicationId) {\n        formData.append('applicationId', request.applicationId);\n      }\n      return formData;\n    }\n    createCertificateFormData(request) {\n      const formData = new FormData();\n      formData.append('file', request.file);\n      formData.append('certificateName', request.certificateName);\n      formData.append('certificateNumber', request.certificateNumber);\n      formData.append('issuingBody', request.issuingBody);\n      formData.append('issueDate', request.issueDate);\n      formData.append('expiryDate', request.expiryDate);\n      formData.append('certificateScope', request.certificateScope);\n      if (request.productId) {\n        formData.append('productId', request.productId);\n      }\n      if (request.applicationId) {\n        formData.append('applicationId', request.applicationId);\n      }\n      return formData;\n    }\n    static {\n      this.ɵfac = function DocumentUploadService_Factory(t) {\n        return new (t || DocumentUploadService)(i0.ɵɵinject(i1.HttpClient));\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: DocumentUploadService,\n        factory: DocumentUploadService.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return DocumentUploadService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}