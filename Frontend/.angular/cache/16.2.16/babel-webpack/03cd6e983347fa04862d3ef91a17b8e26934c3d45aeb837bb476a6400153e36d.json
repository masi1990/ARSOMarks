{"ast":null,"code":"import { finalize } from 'rxjs';\nimport { RoleRequestStatus, UserRole } from '../../shared/models/user.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../modules/auth/services/auth.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/router\";\nfunction DashboardComponent_label_59_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"label\", 36)(1, \"input\", 37);\n    i0.ɵɵlistener(\"change\", function DashboardComponent_label_59_Template_input_change_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const option_r12 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.toggleRole(option_r12.value));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"div\", 38)(3, \"p\", 39);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 40);\n    i0.ɵɵtext(6, \"Request access to this capability.\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const option_r12 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"checked\", ctx_r0.selectedRoles.includes(option_r12.value));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.formatRole(option_r12.value));\n  }\n}\nfunction DashboardComponent_span_67_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 41);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.submitError);\n  }\n}\nfunction DashboardComponent_span_68_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 42);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r2.submitSuccess);\n  }\n}\nfunction DashboardComponent_span_76_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 40);\n    i0.ɵɵtext(1, \"Loading\\u2026\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_77_div_1_p_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 40);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const req_r16 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Note: \", req_r16.decisionNote, \"\");\n  }\n}\nfunction DashboardComponent_div_77_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 45)(1, \"div\", 46)(2, \"div\", 38)(3, \"p\", 39);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 40);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, DashboardComponent_div_77_div_1_p_8_Template, 2, 1, \"p\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"span\", 47);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const req_r16 = ctx.$implicit;\n    const ctx_r15 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r15.formatRolesList(req_r16.requestedRoles));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Created: \", i0.ɵɵpipeBind2(7, 5, req_r16.createdAt, \"mediumDate\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", req_r16.decisionNote);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r15.statusBadgeClasses(req_r16.status));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(req_r16.status);\n  }\n}\nfunction DashboardComponent_div_77_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 43);\n    i0.ɵɵtemplate(1, DashboardComponent_div_77_div_1_Template, 11, 8, \"div\", 44);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.roleRequests);\n  }\n}\nfunction DashboardComponent_ng_template_78_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 48);\n    i0.ɵɵtext(1, \"No requests yet. Submit your first role request above.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_section_80_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 40);\n    i0.ɵɵtext(1, \"Loading\\u2026\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_section_80_div_10_div_1_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const req_r27 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\\u00B7 Reviewed: \", i0.ɵɵpipeBind2(2, 1, req_r27.reviewedAt, \"medium\"), \"\");\n  }\n}\nfunction DashboardComponent_section_80_div_10_div_1_p_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 40);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const req_r27 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Reviewed by: \", req_r27.reviewedBy, \"\");\n  }\n}\nfunction DashboardComponent_section_80_div_10_div_1_p_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 40);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const req_r27 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Note: \", req_r27.decisionNote, \"\");\n  }\n}\nfunction DashboardComponent_section_80_div_10_div_1_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r37 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 59)(1, \"button\", 60);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_section_80_div_10_div_1_div_16_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r37);\n      const req_r27 = i0.ɵɵnextContext().$implicit;\n      const ctx_r35 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r35.openDecisionModal(req_r27.id, \"approve\"));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 61);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_section_80_div_10_div_1_div_16_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r37);\n      const req_r27 = i0.ɵɵnextContext().$implicit;\n      const ctx_r38 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r38.openDecisionModal(req_r27.id, \"reject\"));\n    });\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const req_r27 = i0.ɵɵnextContext().$implicit;\n    const ctx_r31 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r31.decidingId === req_r27.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r31.decidingId === req_r27.id ? \"Saving\\u2026\" : \"Approve\", \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r31.decidingId === req_r27.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r31.decidingId === req_r27.id ? \"Saving\\u2026\" : \"Reject\", \" \");\n  }\n}\nfunction DashboardComponent_section_80_div_10_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 45)(1, \"div\", 55)(2, \"div\", 38)(3, \"p\", 39);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 40);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 40);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"date\");\n    i0.ɵɵtemplate(10, DashboardComponent_section_80_div_10_div_1_span_10_Template, 3, 4, \"span\", 56);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, DashboardComponent_section_80_div_10_div_1_p_11_Template, 2, 1, \"p\", 31);\n    i0.ɵɵtemplate(12, DashboardComponent_section_80_div_10_div_1_p_12_Template, 2, 1, \"p\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 57)(14, \"span\", 47);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(16, DashboardComponent_section_80_div_10_div_1_div_16_Template, 5, 4, \"div\", 58);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const req_r27 = ctx.$implicit;\n    const ctx_r23 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r23.formatRolesList(req_r27.requestedRoles));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"User: \", (req_r27.user == null ? null : req_r27.user.fullName) || req_r27.userId, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Created: \", i0.ɵɵpipeBind2(9, 9, req_r27.createdAt, \"medium\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", req_r27.reviewedAt);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", req_r27.reviewedBy);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", req_r27.decisionNote);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", ctx_r23.statusBadgeClasses(req_r27.status));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(req_r27.status);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", req_r27.status === \"PENDING\");\n  }\n}\nfunction DashboardComponent_section_80_div_10_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r42 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 62)(1, \"div\", 40);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 63)(4, \"button\", 64);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_section_80_div_10_div_2_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r42);\n      const ctx_r41 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r41.prevApprovalPage());\n    });\n    i0.ɵɵtext(5, \" Previous \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 64);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_section_80_div_10_div_2_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r42);\n      const ctx_r43 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r43.nextApprovalPage());\n    });\n    i0.ɵɵtext(7, \" Next \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r24 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate3(\" Showing \", (ctx_r24.approvalsPage - 1) * ctx_r24.approvalsPageSize + 1, \" - \", ctx_r24.Math.min(ctx_r24.approvalsPage * ctx_r24.approvalsPageSize, ctx_r24.allRequests.length), \" of \", ctx_r24.allRequests.length, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r24.approvalsPage === 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r24.approvalsPage >= ctx_r24.totalApprovalPages);\n  }\n}\nfunction DashboardComponent_section_80_div_10_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 65);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r25 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r25.decisionError);\n  }\n}\nfunction DashboardComponent_section_80_div_10_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 66);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r26 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r26.decisionSuccess);\n  }\n}\nfunction DashboardComponent_section_80_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 43);\n    i0.ɵɵtemplate(1, DashboardComponent_section_80_div_10_div_1_Template, 17, 12, \"div\", 44);\n    i0.ɵɵtemplate(2, DashboardComponent_section_80_div_10_div_2_Template, 8, 5, \"div\", 51);\n    i0.ɵɵelementStart(3, \"div\", 52);\n    i0.ɵɵtemplate(4, DashboardComponent_section_80_div_10_span_4_Template, 2, 1, \"span\", 53);\n    i0.ɵɵtemplate(5, DashboardComponent_section_80_div_10_span_5_Template, 2, 1, \"span\", 54);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r20 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r20.paginatedApprovals);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r20.allRequests.length > ctx_r20.approvalsPageSize);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r20.decisionError);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r20.decisionSuccess);\n  }\n}\nfunction DashboardComponent_section_80_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 48);\n    i0.ɵɵtext(1, \"No role requests found.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_section_80_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 19)(1, \"div\", 49)(2, \"div\")(3, \"p\", 11);\n    i0.ɵɵtext(4, \"Approver console\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h3\", 21);\n    i0.ɵɵtext(6, \"Pending role requests\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 16);\n    i0.ɵɵtext(8, \"Approve or decline requests. Decisions notify the requester by email.\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(9, DashboardComponent_section_80_span_9_Template, 2, 0, \"span\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, DashboardComponent_section_80_div_10_Template, 6, 4, \"div\", 32);\n    i0.ɵɵtemplate(11, DashboardComponent_section_80_ng_template_11_Template, 2, 0, \"ng-template\", null, 50, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const _r21 = i0.ɵɵreference(12);\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.loadingAllRequests);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.allRequests == null ? null : ctx_r7.allRequests.length)(\"ngIfElse\", _r21);\n  }\n}\nfunction DashboardComponent_div_81_p_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 84);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r44 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r44.formatRolesList(ctx_r44.decidingRequest.requestedRoles), \" \");\n  }\n}\nfunction DashboardComponent_div_81_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 85);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r45 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r45.decisionError, \" \");\n  }\n}\nfunction DashboardComponent_div_81_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 86);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r46 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r46.decisionSuccess, \" \");\n  }\n}\nfunction DashboardComponent_div_81_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r48 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 67)(1, \"div\", 68)(2, \"div\", 69)(3, \"h3\", 70);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 71);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_81_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r47 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r47.closeDecisionModal());\n    });\n    i0.ɵɵtext(6, \"\\u2715\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 72)(8, \"div\", 73)(9, \"p\", 74);\n    i0.ɵɵtext(10, \"Request Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, DashboardComponent_div_81_p_11_Template, 2, 1, \"p\", 75);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\")(13, \"label\", 76);\n    i0.ɵɵtext(14, \" Comments / Reason \");\n    i0.ɵɵelementStart(15, \"span\", 77);\n    i0.ɵɵtext(16, \"(Optional)\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"textarea\", 78);\n    i0.ɵɵlistener(\"ngModelChange\", function DashboardComponent_div_81_Template_textarea_ngModelChange_17_listener($event) {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r49 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r49.decisionNote = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(18, DashboardComponent_div_81_div_18_Template, 2, 1, \"div\", 79);\n    i0.ɵɵtemplate(19, DashboardComponent_div_81_div_19_Template, 2, 1, \"div\", 80);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 81)(21, \"button\", 82);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_81_Template_button_click_21_listener() {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r50 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r50.closeDecisionModal());\n    });\n    i0.ɵɵtext(22, \" Cancel \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"button\", 83);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_81_Template_button_click_23_listener() {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r51 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r51.confirmDecision());\n    });\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r8.pendingAction === \"approve\" ? \"Approve Request\" : \"Reject Request\", \" \");\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.decidingRequest);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r8.decisionNote);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.decisionError);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.decisionSuccess);\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassMap(ctx_r8.pendingAction === \"approve\" ? \"bg-emerald-600 hover:bg-emerald-700\" : \"bg-rose-600 hover:bg-rose-700\");\n    i0.ɵɵproperty(\"disabled\", ctx_r8.decidingId === ctx_r8.decidingRequestId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r8.decidingId === ctx_r8.decidingRequestId ? \"Processing...\" : ctx_r8.pendingAction === \"approve\" ? \"Confirm Approve\" : \"Confirm Reject\", \" \");\n  }\n}\nfunction DashboardComponent_section_82_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 19)(1, \"div\", 2)(2, \"div\")(3, \"p\", 11);\n    i0.ɵɵtext(4, \"Mark License Management\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h3\", 21);\n    i0.ɵɵtext(6, \"ARSO Mark License System\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 87);\n    i0.ɵɵtext(8, \" Apply for, manage, and track ARSO mark licenses. Submit usage reports and request modifications. \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 88)(10, \"a\", 89)(11, \"span\");\n    i0.ɵɵtext(12, \"License Dashboard\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"span\", 90);\n    i0.ɵɵtext(14, \"\\u2192\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"a\", 91)(16, \"span\");\n    i0.ɵɵtext(17, \"New Application\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"span\", 90);\n    i0.ɵɵtext(19, \"\\u2192\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"div\", 92)(21, \"span\");\n    i0.ɵɵtext(22, \"Usage Reports\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"span\", 93);\n    i0.ɵɵtext(24, \"Via Dashboard\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"div\", 92)(26, \"span\");\n    i0.ɵɵtext(27, \"Modifications\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"span\", 93);\n    i0.ɵɵtext(29, \"Via Dashboard\");\n    i0.ɵɵelementEnd()()()()();\n  }\n}\nfunction DashboardComponent_section_83_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 19)(1, \"div\", 2)(2, \"div\")(3, \"p\", 11);\n    i0.ɵɵtext(4, \"NSB Admin\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h3\", 21);\n    i0.ɵɵtext(6, \"NSB Management\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 87);\n    i0.ɵɵtext(8, \" Manage your National Standards Body information, contacts, and locations. Coordinate market surveillance and national advocacy. \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 23)(10, \"a\", 94)(11, \"span\");\n    i0.ɵɵtext(12, \"My NSB Information\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"span\", 90);\n    i0.ɵɵtext(14, \"\\u2192\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"a\", 95)(16, \"span\");\n    i0.ɵɵtext(17, \"NSB Profile Setup\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"span\", 90);\n    i0.ɵɵtext(19, \"\\u2192\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"a\", 96)(21, \"span\");\n    i0.ɵɵtext(22, \"Stakeholder Registry\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"span\", 90);\n    i0.ɵɵtext(24, \"\\u2192\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"a\", 97)(26, \"span\");\n    i0.ɵɵtext(27, \"Stakeholder List\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"span\", 90);\n    i0.ɵɵtext(29, \"\\u2192\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(30, \"a\", 98)(31, \"span\");\n    i0.ɵɵtext(32, \"NSB Dashboard\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"span\", 90);\n    i0.ɵɵtext(34, \"\\u2192\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(35, \"div\", 92)(36, \"span\");\n    i0.ɵɵtext(37, \"Market Surveillance\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"span\", 93);\n    i0.ɵɵtext(39, \"Coming Soon\");\n    i0.ɵɵelementEnd()()()()();\n  }\n}\nfunction DashboardComponent_section_84_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 19)(1, \"div\", 2)(2, \"div\")(3, \"p\", 11);\n    i0.ɵɵtext(4, \"Super Admin\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h3\", 21);\n    i0.ɵɵtext(6, \"Admin shortcuts\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 87);\n    i0.ɵɵtext(8, \"Manage reference data, user access, approvals, and system administration.\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 88)(10, \"a\", 99)(11, \"span\");\n    i0.ɵɵtext(12, \"Approvals Console\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"span\", 90);\n    i0.ɵɵtext(14, \"\\u2192\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"a\", 100)(16, \"span\");\n    i0.ɵɵtext(17, \"NSB Review\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"span\", 90);\n    i0.ɵɵtext(19, \"\\u2192\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"a\", 101)(21, \"span\");\n    i0.ɵɵtext(22, \"Manage Countries\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"span\", 90);\n    i0.ɵɵtext(24, \"\\u2192\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"a\", 102)(26, \"span\");\n    i0.ɵɵtext(27, \"Manage Regions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"span\", 90);\n    i0.ɵɵtext(29, \"\\u2192\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(30, \"a\", 103)(31, \"span\");\n    i0.ɵɵtext(32, \"Manage RECs\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"span\", 90);\n    i0.ɵɵtext(34, \"\\u2192\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(35, \"a\", 104)(36, \"span\");\n    i0.ɵɵtext(37, \"User Management\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"span\", 90);\n    i0.ɵɵtext(39, \"\\u2192\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(40, \"a\", 89)(41, \"span\");\n    i0.ɵɵtext(42, \"Mark License Dashboard\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"span\", 90);\n    i0.ɵɵtext(44, \"\\u2192\");\n    i0.ɵɵelementEnd()()()()();\n  }\n}\nconst _c0 = function () {\n  return [];\n};\nexport let DashboardComponent = /*#__PURE__*/(() => {\n  class DashboardComponent {\n    constructor(authService) {\n      this.authService = authService;\n      this.user = null;\n      this.roleRequests = [];\n      this.allRequests = [];\n      this.loadingRequests = false;\n      this.loadingAllRequests = false;\n      this.submitting = false;\n      this.submitError = '';\n      this.submitSuccess = '';\n      this.decisionError = '';\n      this.decisionSuccess = '';\n      this.note = '';\n      this.selectedRoles = [];\n      this.decidingId = null;\n      this.decisionNote = '';\n      this.decidingRequestId = null;\n      this.pendingAction = null;\n      // Pagination for Approver Console\n      this.approvalsPage = 1;\n      this.approvalsPageSize = 4;\n      this.roleOptions = Object.values(UserRole).map(r => ({\n        value: r,\n        label: r.replace(/_/g, ' ')\n      }));\n      // Expose Math for template\n      this.Math = Math;\n    }\n    loadRequests() {\n      this.loadingRequests = true;\n      this.authService.getMyRoleRequests().pipe(finalize(() => {\n        this.loadingRequests = false;\n      })).subscribe({\n        next: reqs => {\n          this.roleRequests = reqs || [];\n        },\n        error: () => {\n          this.roleRequests = [];\n        }\n      });\n    }\n    loadAllRequests() {\n      this.loadingAllRequests = true;\n      this.authService.listRoleRequests().pipe(finalize(() => {\n        this.loadingAllRequests = false;\n      })).subscribe({\n        next: reqs => {\n          this.allRequests = reqs || [];\n        },\n        error: () => {\n          this.allRequests = [];\n        }\n      });\n    }\n    // Pagination Getters & Methods\n    get paginatedApprovals() {\n      const start = (this.approvalsPage - 1) * this.approvalsPageSize;\n      return this.allRequests.slice(start, start + this.approvalsPageSize);\n    }\n    get totalApprovalPages() {\n      return Math.ceil(this.allRequests.length / this.approvalsPageSize) || 1;\n    }\n    nextApprovalPage() {\n      if (this.approvalsPage < this.totalApprovalPages) {\n        this.approvalsPage++;\n      }\n    }\n    prevApprovalPage() {\n      if (this.approvalsPage > 1) {\n        this.approvalsPage--;\n      }\n    }\n    get decidingRequest() {\n      if (!this.decidingRequestId) return null;\n      return this.allRequests.find(r => r.id === this.decidingRequestId) || null;\n    }\n    refreshProfile() {\n      this.authService.getProfile().subscribe({\n        next: user => {\n          this.user = user;\n          // If the freshly fetched profile has approver roles, ensure approver data loads.\n          if (this.isApprover() && !this.allRequests.length) {\n            this.loadAllRequests();\n          }\n        },\n        error: () => {\n          // Ignore profile errors here; fall back to the cached user.\n        }\n      });\n    }\n    submitRoleRequest() {\n      this.submitError = '';\n      this.submitSuccess = '';\n      if (!this.selectedRoles.length) {\n        this.submitError = 'Select at least one role.';\n        return;\n      }\n      const payload = {\n        roles: this.selectedRoles,\n        note: this.note?.trim() || undefined\n      };\n      this.submitting = true;\n      this.authService.requestRoles(payload).pipe(finalize(() => {\n        this.submitting = false;\n      })).subscribe({\n        next: res => {\n          this.submitSuccess = 'Request submitted. You will be notified after review.';\n          this.selectedRoles = [];\n          this.note = '';\n          this.roleRequests = [res, ...this.roleRequests];\n        },\n        error: err => {\n          this.submitError = err?.error?.message || 'Failed to submit request.';\n        }\n      });\n    }\n    openDecisionModal(id, action) {\n      this.decidingRequestId = id;\n      this.pendingAction = action;\n      this.decisionNote = '';\n      this.decisionError = '';\n      this.decisionSuccess = '';\n    }\n    closeDecisionModal() {\n      this.decidingRequestId = null;\n      this.pendingAction = null;\n      this.decisionNote = '';\n      this.decisionError = '';\n      this.decisionSuccess = '';\n    }\n    confirmDecision() {\n      if (!this.decidingRequestId || !this.pendingAction) return;\n      const status = this.pendingAction === 'approve' ? RoleRequestStatus.APPROVED : RoleRequestStatus.REJECTED;\n      this.decide(this.decidingRequestId, status);\n    }\n    decide(id, status) {\n      this.decisionError = '';\n      this.decisionSuccess = '';\n      this.decidingId = id;\n      const payload = {\n        status,\n        note: this.decisionNote?.trim() || undefined\n      };\n      this.authService.decideRoleRequest(id, payload).pipe(finalize(() => {\n        this.decidingId = null;\n        this.closeDecisionModal();\n      })).subscribe({\n        next: res => {\n          this.decisionSuccess = `Request ${status.toLowerCase()}.`;\n          this.allRequests = this.allRequests.map(r => r.id === res.id ? res : r);\n          if (res.userId === this.user?.id) {\n            this.roleRequests = this.roleRequests.map(r => r.id === res.id ? res : r);\n          }\n          // Reset pagination if needed\n          if (this.approvalsPage > this.totalApprovalPages) {\n            this.approvalsPage = Math.max(1, this.totalApprovalPages);\n          }\n        },\n        error: err => {\n          this.decisionError = err?.error?.message || 'Action failed.';\n        }\n      });\n    }\n    toggleRole(role) {\n      if (this.selectedRoles.includes(role)) {\n        this.selectedRoles = this.selectedRoles.filter(r => r !== role);\n      } else {\n        this.selectedRoles = [...this.selectedRoles, role];\n      }\n    }\n    formatRole(role) {\n      return (role || '').toString().replace(/_/g, ' ');\n    }\n    formatRolesList(roles) {\n      return roles && roles.length ? roles.map(r => this.formatRole(r)).join(', ') : 'None';\n    }\n    statusBadgeClasses(status) {\n      switch (status) {\n        case RoleRequestStatus.APPROVED:\n          return 'bg-emerald-50 text-emerald-700';\n        case RoleRequestStatus.REJECTED:\n          return 'bg-rose-50 text-rose-700';\n        default:\n          return 'bg-amber-50 text-amber-700';\n      }\n    }\n    isApprover() {\n      const roles = this.user?.roles || (this.user?.role ? [this.user.role] : []);\n      return roles.includes(UserRole.SUPER_ADMIN) || roles.includes(UserRole.ARSO_SECRETARIAT);\n    }\n    isNsbAdmin() {\n      const roles = this.user?.roles || (this.user?.role ? [this.user.role] : []);\n      return roles.includes(UserRole.NSB_ADMIN) || roles.includes(UserRole.NSB_USER);\n    }\n    isOperator() {\n      const roles = this.user?.roles || (this.user?.role ? [this.user.role] : []);\n      return roles.includes(UserRole.OPERATOR) || roles.includes(UserRole.NSB_ADMIN) || roles.includes(UserRole.SUPER_ADMIN);\n    }\n    ngOnInit() {\n      this.user = this.authService.currentUserValue;\n      this.loadRequests();\n      if (this.isApprover()) {\n        this.loadAllRequests();\n      }\n      // Always refresh the profile to pick up latest roles (e.g., newly granted SUPER_ADMIN).\n      // Use setTimeout to avoid blocking initial render\n      setTimeout(() => {\n        this.refreshProfile();\n      }, 0);\n    }\n    static {\n      this.ɵfac = function DashboardComponent_Factory(t) {\n        return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.AuthService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: DashboardComponent,\n        selectors: [[\"app-dashboard\"]],\n        decls: 85,\n        vars: 21,\n        consts: [[1, \"space-y-8\"], [1, \"card-surface\", \"px-6\", \"py-6\"], [1, \"flex\", \"flex-col\", \"gap-3\"], [1, \"text-xs\", \"font-semibold\", \"uppercase\", \"tracking-[0.14em]\", \"text-slate-500\"], [1, \"text-2xl\", \"font-semibold\", \"text-slate-900\"], [1, \"max-w-3xl\", \"text-sm\", \"text-slate-600\"], [1, \"flex\", \"flex-wrap\", \"gap-2\", \"text-xs\", \"text-slate-700\"], [1, \"chip\", \"bg-emerald-50\", \"text-emerald-700\"], [1, \"chip\", \"bg-slate-100\", \"text-slate-700\"], [1, \"grid\", \"gap-4\", \"md:grid-cols-2\", \"xl:grid-cols-4\"], [1, \"card-surface\", \"p-5\"], [1, \"text-xs\", \"font-semibold\", \"uppercase\", \"tracking-[0.12em]\", \"text-slate-500\"], [1, \"mt-2\", \"text-xl\", \"font-semibold\", \"text-slate-900\"], [1, \"mt-1\", \"text-sm\", \"text-slate-500\"], [1, \"mt-2\", \"text-xl\", \"font-semibold\", \"text-slate-900\", \"break-words\"], [1, \"mt-2\", \"flex\", \"items-center\", \"gap-2\"], [1, \"text-sm\", \"text-slate-600\"], [1, \"mt-1\", \"text-xs\", \"text-slate-500\"], [1, \"grid\", \"gap-4\", \"lg:grid-cols-[2fr_1.2fr]\"], [1, \"card-surface\", \"p-6\"], [1, \"flex\", \"flex-col\", \"gap-2\"], [1, \"text-lg\", \"font-semibold\", \"text-slate-900\"], [1, \"mt-4\", \"space-y-4\"], [1, \"grid\", \"gap-3\", \"sm:grid-cols-2\", \"lg:grid-cols-3\"], [\"class\", \"flex items-start gap-3 rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-800 shadow-sm hover:border-slate-300\", 4, \"ngFor\", \"ngForOf\"], [\"rows\", \"3\", \"placeholder\", \"Add context for your request (team, project, justification)\", 1, \"mt-2\", \"w-full\", \"rounded-xl\", \"border\", \"border-slate-200\", \"bg-white\", \"px-3\", \"py-2\", \"text-sm\", \"text-slate-800\", \"focus:border-slate-400\", \"focus:outline-none\", 3, \"ngModel\", \"ngModelChange\"], [1, \"flex\", \"flex-wrap\", \"items-center\", \"gap-3\"], [1, \"rounded-xl\", \"bg-slate-900\", \"px-4\", \"py-2.5\", \"text-sm\", \"font-semibold\", \"text-white\", \"shadow-sm\", \"transition\", \"hover:bg-slate-800\", \"disabled:cursor-not-allowed\", \"disabled:bg-slate-300\", 3, \"disabled\", \"click\"], [\"class\", \"text-sm text-rose-600\", 4, \"ngIf\"], [\"class\", \"text-sm text-emerald-600\", 4, \"ngIf\"], [1, \"flex\", \"items-center\", \"justify-between\"], [\"class\", \"text-xs text-slate-500\", 4, \"ngIf\"], [\"class\", \"mt-4 space-y-3\", 4, \"ngIf\", \"ngIfElse\"], [\"emptyRequests\", \"\"], [\"class\", \"card-surface p-6\", 4, \"ngIf\"], [\"class\", \"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4\", 4, \"ngIf\"], [1, \"flex\", \"items-start\", \"gap-3\", \"rounded-2xl\", \"border\", \"border-slate-200\", \"bg-slate-50\", \"px-4\", \"py-3\", \"text-sm\", \"text-slate-800\", \"shadow-sm\", \"hover:border-slate-300\"], [\"type\", \"checkbox\", 1, \"mt-0.5\", \"h-4\", \"w-4\", \"rounded\", \"border-slate-300\", \"text-slate-900\", \"focus:ring-slate-500\", 3, \"checked\", \"change\"], [1, \"space-y-1\"], [1, \"font-semibold\"], [1, \"text-xs\", \"text-slate-500\"], [1, \"text-sm\", \"text-rose-600\"], [1, \"text-sm\", \"text-emerald-600\"], [1, \"mt-4\", \"space-y-3\"], [\"class\", \"rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-800 shadow-sm\", 4, \"ngFor\", \"ngForOf\"], [1, \"rounded-2xl\", \"border\", \"border-slate-200\", \"bg-slate-50\", \"px-4\", \"py-3\", \"text-sm\", \"text-slate-800\", \"shadow-sm\"], [1, \"flex\", \"flex-wrap\", \"items-start\", \"justify-between\", \"gap-2\"], [1, \"chip\", 3, \"ngClass\"], [1, \"mt-3\", \"text-sm\", \"text-slate-500\"], [1, \"flex\", \"items-start\", \"justify-between\", \"gap-3\"], [\"emptyAll\", \"\"], [\"class\", \"flex items-center justify-between pt-4 border-t border-slate-200\", 4, \"ngIf\"], [1, \"flex\", \"flex-wrap\", \"gap-3\", \"text-xs\"], [\"class\", \"text-rose-600\", 4, \"ngIf\"], [\"class\", \"text-emerald-600\", 4, \"ngIf\"], [1, \"flex\", \"flex-wrap\", \"items-start\", \"justify-between\", \"gap-3\"], [4, \"ngIf\"], [1, \"flex\", \"flex-col\", \"items-end\", \"gap-2\"], [\"class\", \"flex flex-wrap gap-2\", 4, \"ngIf\"], [1, \"flex\", \"flex-wrap\", \"gap-2\"], [1, \"rounded-lg\", \"bg-emerald-600\", \"px-3\", \"py-1.5\", \"text-xs\", \"font-semibold\", \"text-white\", \"shadow-sm\", \"hover:bg-emerald-700\", \"disabled:opacity-60\", 3, \"disabled\", \"click\"], [1, \"rounded-lg\", \"bg-rose-600\", \"px-3\", \"py-1.5\", \"text-xs\", \"font-semibold\", \"text-white\", \"shadow-sm\", \"hover:bg-rose-700\", \"disabled:opacity-60\", 3, \"disabled\", \"click\"], [1, \"flex\", \"items-center\", \"justify-between\", \"pt-4\", \"border-t\", \"border-slate-200\"], [1, \"flex\", \"gap-2\"], [1, \"px-3\", \"py-1.5\", \"text-xs\", \"font-medium\", \"rounded-lg\", \"border\", \"border-slate-300\", \"bg-white\", \"text-slate-700\", \"hover:bg-slate-50\", \"disabled:opacity-50\", \"disabled:cursor-not-allowed\", 3, \"disabled\", \"click\"], [1, \"text-rose-600\"], [1, \"text-emerald-600\"], [1, \"fixed\", \"inset-0\", \"z-50\", \"flex\", \"items-center\", \"justify-center\", \"bg-black/50\", \"backdrop-blur-sm\", \"p-4\"], [1, \"bg-white\", \"rounded-xl\", \"shadow-xl\", \"max-w-md\", \"w-full\", \"overflow-hidden\"], [1, \"px-6\", \"py-4\", \"border-b\", \"border-slate-100\", \"flex\", \"justify-between\", \"items-center\"], [1, \"font-semibold\", \"text-slate-900\"], [1, \"text-slate-400\", \"hover:text-slate-600\", 3, \"click\"], [1, \"p-6\", \"space-y-4\"], [1, \"bg-slate-50\", \"p-3\", \"rounded-lg\", \"text-sm\"], [1, \"font-medium\", \"text-slate-900\"], [\"class\", \"text-slate-600 mt-1\", 4, \"ngIf\"], [1, \"block\", \"text-sm\", \"font-medium\", \"text-slate-700\", \"mb-1\"], [1, \"text-slate-400\", \"font-normal\"], [\"rows\", \"3\", \"placeholder\", \"Add a note to the requester...\", 1, \"w-full\", \"rounded-lg\", \"border\", \"border-slate-300\", \"p-2\", \"text-sm\", \"focus:border-slate-900\", \"focus:outline-none\", 3, \"ngModel\", \"ngModelChange\"], [\"class\", \"text-sm text-rose-600 bg-rose-50 p-2 rounded\", 4, \"ngIf\"], [\"class\", \"text-sm text-emerald-600 bg-emerald-50 p-2 rounded\", 4, \"ngIf\"], [1, \"px-6\", \"py-4\", \"bg-slate-50\", \"border-t\", \"border-slate-100\", \"flex\", \"justify-end\", \"gap-3\"], [1, \"px-4\", \"py-2\", \"text-sm\", \"font-medium\", \"text-slate-600\", \"hover:text-slate-800\", 3, \"click\"], [1, \"px-4\", \"py-2\", \"text-sm\", \"font-medium\", \"text-white\", \"rounded-lg\", \"transition\", \"disabled:opacity-50\", 3, \"disabled\", \"click\"], [1, \"text-slate-600\", \"mt-1\"], [1, \"text-sm\", \"text-rose-600\", \"bg-rose-50\", \"p-2\", \"rounded\"], [1, \"text-sm\", \"text-emerald-600\", \"bg-emerald-50\", \"p-2\", \"rounded\"], [1, \"text-sm\", \"text-slate-500\"], [1, \"grid\", \"gap-3\", \"sm:grid-cols-2\", \"lg:grid-cols-4\"], [\"routerLink\", \"/mark-licenses/dashboard\", 1, \"group\", \"flex\", \"items-center\", \"justify-between\", \"rounded-xl\", \"border\", \"border-slate-200\", \"bg-slate-50\", \"px-4\", \"py-3\", \"text-sm\", \"font-semibold\", \"text-slate-800\", \"transition\", \"hover:-translate-y-0.5\", \"hover:border-slate-300\", \"hover:bg-white\", \"hover:shadow-sm\"], [1, \"text-slate-400\", \"transition\", \"group-hover:text-slate-600\"], [\"routerLink\", \"/mark-licenses/apply\", 1, \"group\", \"flex\", \"items-center\", \"justify-between\", \"rounded-xl\", \"border\", \"border-slate-200\", \"bg-slate-50\", \"px-4\", \"py-3\", \"text-sm\", \"font-semibold\", \"text-slate-800\", \"transition\", \"hover:-translate-y-0.5\", \"hover:border-slate-300\", \"hover:bg-white\", \"hover:shadow-sm\"], [1, \"group\", \"flex\", \"items-center\", \"justify-between\", \"rounded-xl\", \"border\", \"border-slate-200\", \"bg-slate-50\", \"px-4\", \"py-3\", \"text-sm\", \"font-semibold\", \"text-slate-800\", \"opacity-60\"], [1, \"text-slate-400\"], [\"routerLink\", \"/nsb\", 1, \"group\", \"flex\", \"items-center\", \"justify-between\", \"rounded-xl\", \"border\", \"border-slate-200\", \"bg-slate-50\", \"px-4\", \"py-3\", \"text-sm\", \"font-semibold\", \"text-slate-800\", \"transition\", \"hover:-translate-y-0.5\", \"hover:border-slate-300\", \"hover:bg-white\", \"hover:shadow-sm\"], [\"routerLink\", \"/nsb/profile-setup\", 1, \"group\", \"flex\", \"items-center\", \"justify-between\", \"rounded-xl\", \"border\", \"border-slate-200\", \"bg-slate-50\", \"px-4\", \"py-3\", \"text-sm\", \"font-semibold\", \"text-slate-800\", \"transition\", \"hover:-translate-y-0.5\", \"hover:border-slate-300\", \"hover:bg-white\", \"hover:shadow-sm\"], [\"routerLink\", \"/nsb/stakeholder-registry\", 1, \"group\", \"flex\", \"items-center\", \"justify-between\", \"rounded-xl\", \"border\", \"border-slate-200\", \"bg-slate-50\", \"px-4\", \"py-3\", \"text-sm\", \"font-semibold\", \"text-slate-800\", \"transition\", \"hover:-translate-y-0.5\", \"hover:border-slate-300\", \"hover:bg-white\", \"hover:shadow-sm\"], [\"routerLink\", \"/nsb/stakeholder-registry-list\", 1, \"group\", \"flex\", \"items-center\", \"justify-between\", \"rounded-xl\", \"border\", \"border-slate-200\", \"bg-slate-50\", \"px-4\", \"py-3\", \"text-sm\", \"font-semibold\", \"text-slate-800\", \"transition\", \"hover:-translate-y-0.5\", \"hover:border-slate-300\", \"hover:bg-white\", \"hover:shadow-sm\"], [\"routerLink\", \"/nsb/dashboard\", 1, \"group\", \"flex\", \"items-center\", \"justify-between\", \"rounded-xl\", \"border\", \"border-slate-200\", \"bg-slate-50\", \"px-4\", \"py-3\", \"text-sm\", \"font-semibold\", \"text-slate-800\", \"transition\", \"hover:-translate-y-0.5\", \"hover:border-slate-300\", \"hover:bg-white\", \"hover:shadow-sm\"], [\"routerLink\", \"/approvals\", 1, \"group\", \"flex\", \"items-center\", \"justify-between\", \"rounded-xl\", \"border\", \"border-slate-200\", \"bg-slate-50\", \"px-4\", \"py-3\", \"text-sm\", \"font-semibold\", \"text-slate-800\", \"transition\", \"hover:-translate-y-0.5\", \"hover:border-slate-300\", \"hover:bg-white\", \"hover:shadow-sm\"], [\"routerLink\", \"/nsb-review\", 1, \"group\", \"flex\", \"items-center\", \"justify-between\", \"rounded-xl\", \"border\", \"border-slate-200\", \"bg-slate-50\", \"px-4\", \"py-3\", \"text-sm\", \"font-semibold\", \"text-slate-800\", \"transition\", \"hover:-translate-y-0.5\", \"hover:border-slate-300\", \"hover:bg-white\", \"hover:shadow-sm\"], [\"routerLink\", \"/reference-data/countries\", 1, \"group\", \"flex\", \"items-center\", \"justify-between\", \"rounded-xl\", \"border\", \"border-slate-200\", \"bg-slate-50\", \"px-4\", \"py-3\", \"text-sm\", \"font-semibold\", \"text-slate-800\", \"transition\", \"hover:-translate-y-0.5\", \"hover:border-slate-300\", \"hover:bg-white\", \"hover:shadow-sm\"], [\"routerLink\", \"/reference-data/regions\", 1, \"group\", \"flex\", \"items-center\", \"justify-between\", \"rounded-xl\", \"border\", \"border-slate-200\", \"bg-slate-50\", \"px-4\", \"py-3\", \"text-sm\", \"font-semibold\", \"text-slate-800\", \"transition\", \"hover:-translate-y-0.5\", \"hover:border-slate-300\", \"hover:bg-white\", \"hover:shadow-sm\"], [\"routerLink\", \"/reference-data/recs\", 1, \"group\", \"flex\", \"items-center\", \"justify-between\", \"rounded-xl\", \"border\", \"border-slate-200\", \"bg-slate-50\", \"px-4\", \"py-3\", \"text-sm\", \"font-semibold\", \"text-slate-800\", \"transition\", \"hover:-translate-y-0.5\", \"hover:border-slate-300\", \"hover:bg-white\", \"hover:shadow-sm\"], [\"routerLink\", \"/roles\", 1, \"group\", \"flex\", \"items-center\", \"justify-between\", \"rounded-xl\", \"border\", \"border-slate-200\", \"bg-slate-50\", \"px-4\", \"py-3\", \"text-sm\", \"font-semibold\", \"text-slate-800\", \"transition\", \"hover:-translate-y-0.5\", \"hover:border-slate-300\", \"hover:bg-white\", \"hover:shadow-sm\"]],\n        template: function DashboardComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"section\", 1)(2, \"div\", 2)(3, \"p\", 3);\n            i0.ɵɵtext(4, \"Dashboard\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"h1\", 4);\n            i0.ɵɵtext(6);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(7, \"p\", 5);\n            i0.ɵɵtext(8, \" African Organisation for Standardisation (ARSO) \\u2014 your access and role requests are managed here. \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(9, \"div\", 6)(10, \"span\", 7);\n            i0.ɵɵtext(11, \"Active\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(12, \"span\", 8);\n            i0.ɵɵtext(13);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(14, \"span\", 8);\n            i0.ɵɵtext(15);\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(16, \"section\", 9)(17, \"div\", 10)(18, \"p\", 11);\n            i0.ɵɵtext(19, \"Primary role\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(20, \"p\", 12);\n            i0.ɵɵtext(21);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(22, \"p\", 13);\n            i0.ɵɵtext(23, \"Legacy single role kept for compatibility.\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(24, \"div\", 10)(25, \"p\", 11);\n            i0.ɵɵtext(26, \"All roles\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(27, \"p\", 14);\n            i0.ɵɵtext(28);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(29, \"p\", 13);\n            i0.ɵɵtext(30, \"Multi-role support is active.\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(31, \"div\", 10)(32, \"p\", 11);\n            i0.ɵɵtext(33, \"Email\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(34, \"p\", 14);\n            i0.ɵɵtext(35);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(36, \"p\", 13);\n            i0.ɵɵtext(37, \"Notifications and submissions use this email.\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(38, \"div\", 10)(39, \"p\", 11);\n            i0.ɵɵtext(40, \"Session\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(41, \"div\", 15)(42, \"span\", 7);\n            i0.ɵɵtext(43, \"Active\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(44, \"span\", 16);\n            i0.ɵɵtext(45, \"You are signed in.\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(46, \"p\", 17);\n            i0.ɵɵtext(47, \"Stay signed in only on trusted devices.\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(48, \"section\", 18)(49, \"div\", 19)(50, \"div\", 20)(51, \"p\", 11);\n            i0.ɵɵtext(52, \"Role requests\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(53, \"h3\", 21);\n            i0.ɵɵtext(54, \"Request new roles\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(55, \"p\", 16);\n            i0.ɵɵtext(56, \" Select the roles you need. After submission, an approver will review and you\\u2019ll receive an email when it\\u2019s approved or rejected. \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(57, \"div\", 22)(58, \"div\", 23);\n            i0.ɵɵtemplate(59, DashboardComponent_label_59_Template, 7, 2, \"label\", 24);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(60, \"div\")(61, \"label\", 11);\n            i0.ɵɵtext(62, \"Notes (optional)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(63, \"textarea\", 25);\n            i0.ɵɵlistener(\"ngModelChange\", function DashboardComponent_Template_textarea_ngModelChange_63_listener($event) {\n              return ctx.note = $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(64, \"div\", 26)(65, \"button\", 27);\n            i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_65_listener() {\n              return ctx.submitRoleRequest();\n            });\n            i0.ɵɵtext(66);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(67, DashboardComponent_span_67_Template, 2, 1, \"span\", 28);\n            i0.ɵɵtemplate(68, DashboardComponent_span_68_Template, 2, 1, \"span\", 29);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(69, \"div\", 19)(70, \"div\", 30)(71, \"div\")(72, \"p\", 11);\n            i0.ɵɵtext(73, \"Your requests\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(74, \"h3\", 21);\n            i0.ɵɵtext(75, \"Status & history\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(76, DashboardComponent_span_76_Template, 2, 0, \"span\", 31);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(77, DashboardComponent_div_77_Template, 2, 1, \"div\", 32);\n            i0.ɵɵtemplate(78, DashboardComponent_ng_template_78_Template, 2, 0, \"ng-template\", null, 33, i0.ɵɵtemplateRefExtractor);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(80, DashboardComponent_section_80_Template, 13, 3, \"section\", 34);\n            i0.ɵɵtemplate(81, DashboardComponent_div_81_Template, 25, 9, \"div\", 35);\n            i0.ɵɵtemplate(82, DashboardComponent_section_82_Template, 30, 0, \"section\", 34);\n            i0.ɵɵtemplate(83, DashboardComponent_section_83_Template, 40, 0, \"section\", 34);\n            i0.ɵɵtemplate(84, DashboardComponent_section_84_Template, 45, 0, \"section\", 34);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            const _r5 = i0.ɵɵreference(79);\n            i0.ɵɵadvance(6);\n            i0.ɵɵtextInterpolate1(\"Welcome, \", (ctx.user == null ? null : ctx.user.fullName) || \"User\", \"\");\n            i0.ɵɵadvance(7);\n            i0.ɵɵtextInterpolate1(\" Roles: \", (ctx.user == null ? null : ctx.user.roles == null ? null : ctx.user.roles.length) ? ctx.formatRolesList((ctx.user == null ? null : ctx.user.roles) || i0.ɵɵpureFunction0(20, _c0)) : ctx.formatRole((ctx.user == null ? null : ctx.user.role) || \"N/A\"), \" \");\n            i0.ɵɵadvance(2);\n            i0.ɵɵtextInterpolate((ctx.user == null ? null : ctx.user.email) || \"Email not available\");\n            i0.ɵɵadvance(6);\n            i0.ɵɵtextInterpolate(ctx.formatRole((ctx.user == null ? null : ctx.user.role) || \"N/A\"));\n            i0.ɵɵadvance(7);\n            i0.ɵɵtextInterpolate1(\" \", (ctx.user == null ? null : ctx.user.roles == null ? null : ctx.user.roles.length) ? ctx.formatRolesList(ctx.user == null ? null : ctx.user.roles) : \"None yet\", \" \");\n            i0.ɵɵadvance(7);\n            i0.ɵɵtextInterpolate((ctx.user == null ? null : ctx.user.email) || \"Not provided\");\n            i0.ɵɵadvance(24);\n            i0.ɵɵproperty(\"ngForOf\", ctx.roleOptions);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.note);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"disabled\", ctx.submitting);\n            i0.ɵɵadvance(1);\n            i0.ɵɵtextInterpolate1(\" \", ctx.submitting ? \"Submitting...\" : \"Submit request\", \" \");\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.submitError);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.submitSuccess);\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"ngIf\", ctx.loadingRequests);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.roleRequests == null ? null : ctx.roleRequests.length)(\"ngIfElse\", _r5);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.isApprover());\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.decidingRequestId);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.isNsbAdmin() || ctx.isApprover());\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.isNsbAdmin());\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.isApprover());\n          }\n        },\n        dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.RouterLink, i2.DatePipe],\n        styles: [\"[_nghost-%COMP%]{display:block}\"]\n      });\n    }\n  }\n  return DashboardComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}