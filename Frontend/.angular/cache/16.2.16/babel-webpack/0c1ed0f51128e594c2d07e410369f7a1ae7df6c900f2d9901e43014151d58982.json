{"ast":null,"code":"import { finalize } from 'rxjs';\nimport { RoleRequestStatus, UserRole } from '../../shared/models/user.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../modules/auth/services/auth.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction RoleAdminComponent_span_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.requests.length, \" \");\n  }\n}\nfunction RoleAdminComponent_span_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.users.length, \" \");\n  }\n}\nfunction RoleAdminComponent_section_20_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 20);\n    i0.ɵɵtext(1, \"Loading\\u2026\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RoleAdminComponent_section_20_div_5_div_1_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const req_r11 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\\u00B7 \", req_r11.user == null ? null : req_r11.user.email, \"\");\n  }\n}\nfunction RoleAdminComponent_section_20_div_5_div_1_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const req_r11 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\\u00B7 Reviewed: \", i0.ɵɵpipeBind2(2, 1, req_r11.reviewedAt, \"medium\"), \"\");\n  }\n}\nfunction RoleAdminComponent_section_20_div_5_div_1_p_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const req_r11 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Note: \", req_r11.decisionNote, \"\");\n  }\n}\nfunction RoleAdminComponent_section_20_div_5_div_1_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 33)(1, \"input\", 34);\n    i0.ɵɵlistener(\"ngModelChange\", function RoleAdminComponent_section_20_div_5_div_1_div_16_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r20);\n      const req_r11 = i0.ɵɵnextContext().$implicit;\n      const ctx_r19 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r19.decisionNotes[req_r11.id] = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"div\", 35)(3, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function RoleAdminComponent_section_20_div_5_div_1_div_16_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const req_r11 = i0.ɵɵnextContext().$implicit;\n      const ctx_r22 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r22.decide(req_r11, \"APPROVED\"));\n    });\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function RoleAdminComponent_section_20_div_5_div_1_div_16_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const req_r11 = i0.ɵɵnextContext().$implicit;\n      const ctx_r24 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r24.decide(req_r11, \"REJECTED\"));\n    });\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const req_r11 = i0.ɵɵnextContext().$implicit;\n    const ctx_r15 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r15.decisionNotes[req_r11.id]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r15.decidingId === req_r11.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r15.decidingId === req_r11.id ? \"Saving\\u2026\" : \"Approve\", \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r15.decidingId === req_r11.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r15.decidingId === req_r11.id ? \"Saving\\u2026\" : \"Reject\", \" \");\n  }\n}\nfunction RoleAdminComponent_section_20_div_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"div\", 2)(2, \"div\", 27)(3, \"p\", 28);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 20);\n    i0.ɵɵtext(6);\n    i0.ɵɵtemplate(7, RoleAdminComponent_section_20_div_5_div_1_span_7_Template, 2, 1, \"span\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 20);\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"date\");\n    i0.ɵɵtemplate(11, RoleAdminComponent_section_20_div_5_div_1_span_11_Template, 3, 4, \"span\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, RoleAdminComponent_section_20_div_5_div_1_p_12_Template, 2, 1, \"p\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 30)(14, \"span\", 31);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(16, RoleAdminComponent_section_20_div_5_div_1_div_16_Template, 7, 5, \"div\", 32);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const req_r11 = ctx.$implicit;\n    const ctx_r8 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r8.formatRolesList(req_r11.requestedRoles));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" User: \", (req_r11.user == null ? null : req_r11.user.fullName) || req_r11.userId, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", req_r11.user == null ? null : req_r11.user.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Created: \", i0.ɵɵpipeBind2(10, 9, req_r11.createdAt, \"medium\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", req_r11.reviewedAt);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", req_r11.decisionNote);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", ctx_r8.statusBadgeClasses(req_r11.status));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(req_r11.status);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", req_r11.status === \"PENDING\");\n  }\n}\nfunction RoleAdminComponent_section_20_div_5_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 38);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r9.decisionError);\n  }\n}\nfunction RoleAdminComponent_section_20_div_5_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 39);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r10.decisionSuccess);\n  }\n}\nfunction RoleAdminComponent_section_20_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtemplate(1, RoleAdminComponent_section_20_div_5_div_1_Template, 17, 12, \"div\", 22);\n    i0.ɵɵelementStart(2, \"div\", 23);\n    i0.ɵɵtemplate(3, RoleAdminComponent_section_20_div_5_span_3_Template, 2, 1, \"span\", 24);\n    i0.ɵɵtemplate(4, RoleAdminComponent_section_20_div_5_span_4_Template, 2, 1, \"span\", 25);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.requests);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.decisionError);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.decisionSuccess);\n  }\n}\nfunction RoleAdminComponent_section_20_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 40);\n    i0.ɵɵtext(1, \"No role requests found.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RoleAdminComponent_section_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 14)(1, \"div\", 15)(2, \"h3\", 16);\n    i0.ɵɵtext(3, \"Pending & History\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, RoleAdminComponent_section_20_span_4_Template, 2, 0, \"span\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, RoleAdminComponent_section_20_div_5_Template, 5, 3, \"div\", 18);\n    i0.ɵɵtemplate(6, RoleAdminComponent_section_20_ng_template_6_Template, 2, 0, \"ng-template\", null, 19, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const _r6 = i0.ɵɵreference(7);\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.loadingRequests);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.requests == null ? null : ctx_r2.requests.length)(\"ngIfElse\", _r6);\n  }\n}\nfunction RoleAdminComponent_section_21_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 20);\n    i0.ɵɵtext(1, \"Loading\\u2026\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RoleAdminComponent_section_21_div_5_tr_15_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const u_r32 = i0.ɵɵnextContext().$implicit;\n    const ctx_r33 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r33.formatRolesList(u_r32.roles), \" \");\n  }\n}\nfunction RoleAdminComponent_section_21_div_5_tr_15_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n  }\n  if (rf & 2) {\n    const u_r32 = i0.ɵɵnextContext().$implicit;\n    const ctx_r35 = i0.ɵɵnextContext(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r35.formatRole(u_r32.role || \"PUBLIC\"), \" \");\n  }\n}\nfunction RoleAdminComponent_section_21_div_5_tr_15_span_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 58);\n    i0.ɵɵtext(1, \"Unverified\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RoleAdminComponent_section_21_div_5_tr_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 49)(1, \"td\", 50)(2, \"div\", 51);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 20);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"td\", 50)(7, \"div\", 52);\n    i0.ɵɵtemplate(8, RoleAdminComponent_section_21_div_5_tr_15_ng_container_8_Template, 2, 1, \"ng-container\", 53);\n    i0.ɵɵtemplate(9, RoleAdminComponent_section_21_div_5_tr_15_ng_template_9_Template, 1, 1, \"ng-template\", null, 54, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"td\", 55);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 50)(14, \"span\", 31);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(16, RoleAdminComponent_section_21_div_5_tr_15_span_16_Template, 2, 0, \"span\", 56);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\", 57);\n    i0.ɵɵtext(18);\n    i0.ɵɵpipe(19, \"date\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const u_r32 = ctx.$implicit;\n    const _r34 = i0.ɵɵreference(10);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(u_r32.fullName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(u_r32.email);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", u_r32.roles == null ? null : u_r32.roles.length)(\"ngIfElse\", _r34);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", u_r32.organizationType || \"N/A\", \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", u_r32.isActive ? \"bg-emerald-50 text-emerald-700\" : \"bg-slate-100 text-slate-500\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", u_r32.isActive ? \"Active\" : \"Inactive\", \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !u_r32.emailVerified);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(19, 9, u_r32.createdAt, \"shortDate\"), \" \");\n  }\n}\nfunction RoleAdminComponent_section_21_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 43)(1, \"table\", 44)(2, \"thead\", 45)(3, \"tr\")(4, \"th\", 46);\n    i0.ɵɵtext(5, \"Name / Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\", 46);\n    i0.ɵɵtext(7, \"Roles\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\", 46);\n    i0.ɵɵtext(9, \"Organization\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\", 46);\n    i0.ɵɵtext(11, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\", 46);\n    i0.ɵɵtext(13, \"Joined\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(14, \"tbody\", 47);\n    i0.ɵɵtemplate(15, RoleAdminComponent_section_21_div_5_tr_15_Template, 20, 12, \"tr\", 48);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r28 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r28.users);\n  }\n}\nfunction RoleAdminComponent_section_21_ng_template_6_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 60);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r39 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r39.usersError);\n  }\n}\nfunction RoleAdminComponent_section_21_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, RoleAdminComponent_section_21_ng_template_6_div_0_Template, 2, 1, \"div\", 59);\n    i0.ɵɵelementStart(1, \"p\", 40);\n    i0.ɵɵtext(2, \"No users found.\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r30 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r30.usersError);\n  }\n}\nfunction RoleAdminComponent_section_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 14)(1, \"div\", 15)(2, \"h3\", 16);\n    i0.ɵɵtext(3, \"System Users\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, RoleAdminComponent_section_21_span_4_Template, 2, 0, \"span\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, RoleAdminComponent_section_21_div_5_Template, 16, 1, \"div\", 41);\n    i0.ɵɵtemplate(6, RoleAdminComponent_section_21_ng_template_6_Template, 3, 1, \"ng-template\", null, 42, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const _r29 = i0.ɵɵreference(7);\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.loadingUsers);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.users.length)(\"ngIfElse\", _r29);\n  }\n}\nexport let RoleAdminComponent = /*#__PURE__*/(() => {\n  class RoleAdminComponent {\n    constructor(authService) {\n      this.authService = authService;\n      this.activeTab = 'requests';\n      // Requests Data\n      this.requests = [];\n      this.loadingRequests = false;\n      this.decidingId = null;\n      this.decisionError = '';\n      this.decisionSuccess = '';\n      this.decisionNotes = {};\n      // Users Data\n      this.users = [];\n      this.loadingUsers = false;\n      this.usersError = '';\n      // Role Assignment\n      this.assigningRolesUserId = null;\n      this.selectedRolesToAssign = [];\n      this.assignRolesNote = '';\n      this.assignRolesError = '';\n      this.assignRolesSuccess = '';\n      this.allRoleOptions = Object.values(UserRole).map(r => ({\n        value: r,\n        label: r.replace(/_/g, ' ')\n      }));\n    }\n    ngOnInit() {\n      this.loadRequests();\n      this.loadUsers();\n    }\n    setActiveTab(tab) {\n      this.activeTab = tab;\n    }\n    loadRequests() {\n      this.loadingRequests = true;\n      this.authService.listRoleRequests().pipe(finalize(() => {\n        this.loadingRequests = false;\n      })).subscribe({\n        next: reqs => {\n          this.requests = reqs || [];\n        },\n        error: err => {\n          this.requests = [];\n          this.decisionError = err?.error?.message || 'Failed to load requests.';\n        }\n      });\n    }\n    loadUsers() {\n      this.loadingUsers = true;\n      this.authService.getAllUsers().pipe(finalize(() => {\n        this.loadingUsers = false;\n      })).subscribe({\n        next: users => {\n          this.users = users || [];\n        },\n        error: err => {\n          this.users = [];\n          this.usersError = err?.error?.message || 'Failed to load users.';\n        }\n      });\n    }\n    decide(req, status) {\n      this.decisionError = '';\n      this.decisionSuccess = '';\n      this.decidingId = req.id;\n      const payload = {\n        status,\n        note: this.decisionNotes[req.id]?.trim() || undefined\n      };\n      this.authService.decideRoleRequest(req.id, payload).pipe(finalize(() => {\n        this.decidingId = null;\n      })).subscribe({\n        next: res => {\n          this.requests = this.requests.map(r => r.id === res.id ? res : r);\n          this.decisionSuccess = `Request ${status.toLowerCase()}.`;\n          // Refresh users list if approved to show updated roles\n          if (status === RoleRequestStatus.APPROVED) {\n            this.loadUsers();\n          }\n        },\n        error: err => {\n          this.decisionError = err?.error?.message || 'Action failed.';\n        }\n      });\n    }\n    formatRole(role) {\n      return (role || '').toString().replace(/_/g, ' ') || 'N/A';\n    }\n    formatRolesList(roles) {\n      return roles && roles.length ? roles.map(r => this.formatRole(r)).join(', ') : 'None';\n    }\n    statusBadgeClasses(status) {\n      switch (status) {\n        case RoleRequestStatus.APPROVED:\n          return 'bg-emerald-50 text-emerald-700';\n        case RoleRequestStatus.REJECTED:\n          return 'bg-rose-50 text-rose-700';\n        default:\n          return 'bg-amber-50 text-amber-700';\n      }\n    }\n    static {\n      this.ɵfac = function RoleAdminComponent_Factory(t) {\n        return new (t || RoleAdminComponent)(i0.ɵɵdirectiveInject(i1.AuthService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: RoleAdminComponent,\n        selectors: [[\"app-role-admin\"]],\n        decls: 22,\n        vars: 8,\n        consts: [[1, \"space-y-6\"], [1, \"card-surface\", \"px-6\", \"py-6\"], [1, \"flex\", \"flex-wrap\", \"items-start\", \"justify-between\", \"gap-3\"], [1, \"space-y-2\"], [1, \"text-xs\", \"font-semibold\", \"uppercase\", \"tracking-[0.14em]\", \"text-slate-500\"], [1, \"text-2xl\", \"font-semibold\", \"text-slate-900\"], [1, \"max-w-3xl\", \"text-sm\", \"text-slate-600\"], [1, \"rounded-xl\", \"bg-slate-900\", \"px-4\", \"py-2.5\", \"text-sm\", \"font-semibold\", \"text-white\", \"shadow-sm\", \"transition\", \"hover:bg-slate-800\", \"disabled:opacity-60\", 3, \"disabled\", \"click\"], [1, \"mt-6\", \"border-b\", \"border-slate-200\"], [1, \"flex\", \"gap-6\"], [1, \"pb-3\", \"text-sm\", \"font-semibold\", \"transition\", \"border-b-2\", 3, \"ngClass\", \"click\"], [\"class\", \"ml-1 rounded-full bg-slate-100 px-2 py-0.5 text-xs text-slate-600\", 4, \"ngIf\"], [\"class\", \"card-surface p-6\", 4, \"ngIf\"], [1, \"ml-1\", \"rounded-full\", \"bg-slate-100\", \"px-2\", \"py-0.5\", \"text-xs\", \"text-slate-600\"], [1, \"card-surface\", \"p-6\"], [1, \"flex\", \"items-center\", \"justify-between\", \"gap-3\", \"mb-4\"], [1, \"text-lg\", \"font-semibold\", \"text-slate-900\"], [\"class\", \"text-xs text-slate-500\", 4, \"ngIf\"], [\"class\", \"space-y-3\", 4, \"ngIf\", \"ngIfElse\"], [\"emptyQueue\", \"\"], [1, \"text-xs\", \"text-slate-500\"], [1, \"space-y-3\"], [\"class\", \"rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-800 shadow-sm\", 4, \"ngFor\", \"ngForOf\"], [1, \"flex\", \"flex-wrap\", \"gap-3\", \"text-xs\"], [\"class\", \"text-rose-600\", 4, \"ngIf\"], [\"class\", \"text-emerald-600\", 4, \"ngIf\"], [1, \"rounded-2xl\", \"border\", \"border-slate-200\", \"bg-slate-50\", \"px-4\", \"py-3\", \"text-sm\", \"text-slate-800\", \"shadow-sm\"], [1, \"space-y-1\"], [1, \"font-semibold\"], [4, \"ngIf\"], [1, \"flex\", \"flex-col\", \"items-end\", \"gap-2\"], [1, \"chip\", 3, \"ngClass\"], [\"class\", \"flex flex-wrap justify-end gap-2\", 4, \"ngIf\"], [1, \"flex\", \"flex-wrap\", \"justify-end\", \"gap-2\"], [\"placeholder\", \"Decision note (optional)\", 1, \"w-full\", \"min-w-[180px]\", \"rounded-lg\", \"border\", \"border-slate-200\", \"bg-white\", \"px-2\", \"py-1\", \"text-xs\", \"text-slate-800\", \"focus:border-slate-400\", \"focus:outline-none\", 3, \"ngModel\", \"ngModelChange\"], [1, \"flex\", \"gap-2\"], [1, \"rounded-lg\", \"bg-emerald-600\", \"px-3\", \"py-1.5\", \"text-xs\", \"font-semibold\", \"text-white\", \"shadow-sm\", \"hover:bg-emerald-700\", \"disabled:opacity-60\", 3, \"disabled\", \"click\"], [1, \"rounded-lg\", \"bg-rose-600\", \"px-3\", \"py-1.5\", \"text-xs\", \"font-semibold\", \"text-white\", \"shadow-sm\", \"hover:bg-rose-700\", \"disabled:opacity-60\", 3, \"disabled\", \"click\"], [1, \"text-rose-600\"], [1, \"text-emerald-600\"], [1, \"text-sm\", \"text-slate-500\"], [\"class\", \"overflow-x-auto rounded-xl border border-slate-200\", 4, \"ngIf\", \"ngIfElse\"], [\"emptyUsers\", \"\"], [1, \"overflow-x-auto\", \"rounded-xl\", \"border\", \"border-slate-200\"], [1, \"w-full\", \"text-left\", \"text-sm\"], [1, \"bg-slate-50\", \"text-slate-500\"], [1, \"px-4\", \"py-3\", \"font-semibold\"], [1, \"divide-y\", \"divide-slate-100\", \"bg-white\"], [\"class\", \"hover:bg-slate-50/50\", 4, \"ngFor\", \"ngForOf\"], [1, \"hover:bg-slate-50/50\"], [1, \"px-4\", \"py-3\"], [1, \"font-medium\", \"text-slate-900\"], [1, \"max-w-[200px]\", \"break-words\", \"text-slate-700\"], [4, \"ngIf\", \"ngIfElse\"], [\"singleRole\", \"\"], [1, \"px-4\", \"py-3\", \"text-slate-600\"], [\"class\", \"ml-1 text-[10px] text-amber-600\", 4, \"ngIf\"], [1, \"px-4\", \"py-3\", \"text-slate-500\"], [1, \"ml-1\", \"text-[10px]\", \"text-amber-600\"], [\"class\", \"mb-4 text-sm text-rose-600\", 4, \"ngIf\"], [1, \"mb-4\", \"text-sm\", \"text-rose-600\"]],\n        template: function RoleAdminComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"section\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"p\", 4);\n            i0.ɵɵtext(5, \"Super Admin\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"h1\", 5);\n            i0.ɵɵtext(7, \"User Management\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"p\", 6);\n            i0.ɵɵtext(9, \" Manage system users, view assigned roles, and approve role requests. \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(10, \"button\", 7);\n            i0.ɵɵlistener(\"click\", function RoleAdminComponent_Template_button_click_10_listener() {\n              return ctx.activeTab === \"requests\" ? ctx.loadRequests() : ctx.loadUsers();\n            });\n            i0.ɵɵtext(11);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(12, \"div\", 8)(13, \"div\", 9)(14, \"button\", 10);\n            i0.ɵɵlistener(\"click\", function RoleAdminComponent_Template_button_click_14_listener() {\n              return ctx.setActiveTab(\"requests\");\n            });\n            i0.ɵɵtext(15, \" Role Requests \");\n            i0.ɵɵtemplate(16, RoleAdminComponent_span_16_Template, 2, 1, \"span\", 11);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(17, \"button\", 10);\n            i0.ɵɵlistener(\"click\", function RoleAdminComponent_Template_button_click_17_listener() {\n              return ctx.setActiveTab(\"users\");\n            });\n            i0.ɵɵtext(18, \" All Users \");\n            i0.ɵɵtemplate(19, RoleAdminComponent_span_19_Template, 2, 1, \"span\", 11);\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵtemplate(20, RoleAdminComponent_section_20_Template, 8, 3, \"section\", 12);\n            i0.ɵɵtemplate(21, RoleAdminComponent_section_21_Template, 8, 3, \"section\", 12);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(10);\n            i0.ɵɵproperty(\"disabled\", ctx.loadingRequests || ctx.loadingUsers);\n            i0.ɵɵadvance(1);\n            i0.ɵɵtextInterpolate1(\" \", ctx.loadingRequests || ctx.loadingUsers ? \"Refreshing\\u2026\" : \"Refresh\", \" \");\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngClass\", ctx.activeTab === \"requests\" ? \"border-slate-900 text-slate-900\" : \"border-transparent text-slate-500 hover:text-slate-700\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.requests.length);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngClass\", ctx.activeTab === \"users\" ? \"border-slate-900 text-slate-900\" : \"border-transparent text-slate-500 hover:text-slate-700\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.users.length);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"requests\");\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"users\");\n          }\n        },\n        dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i2.DatePipe],\n        styles: [\"[_nghost-%COMP%]{display:block}\"]\n      });\n    }\n  }\n  return RoleAdminComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}