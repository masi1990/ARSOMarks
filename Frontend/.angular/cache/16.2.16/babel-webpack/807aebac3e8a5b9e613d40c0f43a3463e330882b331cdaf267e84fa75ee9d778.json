{"ast":null,"code":"import { UserRole } from '../../shared/models/user.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../shared/services/analytics.service\";\nimport * as i2 from \"../../modules/auth/services/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction RoleDashboardsComponent_div_12_option_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"titlecase\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const role_r6 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"value\", role_r6)(\"disabled\", !ctx_r5.canView(role_r6));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 3, role_r6), \" \");\n  }\n}\nfunction RoleDashboardsComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"label\", 20);\n    i0.ɵɵtext(2, \"Role\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"select\", 21);\n    i0.ɵɵlistener(\"change\", function RoleDashboardsComponent_div_12_Template_select_change_3_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.onRoleChange($event.target.value));\n    });\n    i0.ɵɵtemplate(4, RoleDashboardsComponent_div_12_option_4_Template, 3, 5, \"option\", 22);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"value\", ctx_r0.selectedRole);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.roleOptions);\n  }\n}\nfunction RoleDashboardsComponent_option_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const tf_r9 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", tf_r9);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(tf_r9);\n  }\n}\nfunction RoleDashboardsComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.error, \" \");\n  }\n}\nfunction RoleDashboardsComponent_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵelement(1, \"div\", 27);\n    i0.ɵɵelementStart(2, \"p\", 28);\n    i0.ɵɵtext(3, \"Loading dashboard data...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c0 = function (a0, a1, a2) {\n  return {\n    \"bg-emerald-50 text-emerald-700\": a0,\n    \"bg-amber-50 text-amber-700\": a1,\n    \"bg-rose-50 text-rose-700\": a2\n  };\n};\nfunction RoleDashboardsComponent_ng_container_30_div_2_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 55)(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const kpi_r18 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(4, _c0, (kpi_r18.trend == null ? null : kpi_r18.trend.direction) === \"up\", (kpi_r18.trend == null ? null : kpi_r18.trend.direction) === \"flat\", (kpi_r18.trend == null ? null : kpi_r18.trend.direction) === \"down\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(kpi_r18.trend.direction === \"up\" ? \"\\u25B2\" : kpi_r18.trend.direction === \"down\" ? \"\\u25BC\" : \"\\u25A0\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", kpi_r18.trend.change, \"% vs \", kpi_r18.trend.period, \"\");\n  }\n}\nfunction RoleDashboardsComponent_ng_container_30_div_2_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 56);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const kpi_r18 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(kpi_r18.helperText);\n  }\n}\nfunction RoleDashboardsComponent_ng_container_30_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 49)(1, \"p\", 50);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 51);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 52);\n    i0.ɵɵtemplate(6, RoleDashboardsComponent_ng_container_30_div_2_span_6_Template, 5, 8, \"span\", 53);\n    i0.ɵɵtemplate(7, RoleDashboardsComponent_ng_container_30_div_2_span_7_Template, 2, 1, \"span\", 54);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const kpi_r18 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(kpi_r18.label);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(kpi_r18.value);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", kpi_r18.trend);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", kpi_r18.helperText);\n  }\n}\nfunction RoleDashboardsComponent_ng_container_30_div_14_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 61);\n    i0.ɵɵelement(1, \"div\", 62);\n    i0.ɵɵelementStart(2, \"span\", 63);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const point_r25 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleProp(\"height\", (point_r25.value || 1) + \"px\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(point_r25.label);\n  }\n}\nfunction RoleDashboardsComponent_ng_container_30_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"p\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 59);\n    i0.ɵɵtemplate(4, RoleDashboardsComponent_ng_container_30_div_14_div_4_Template, 4, 3, \"div\", 60);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const trend_r23 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(trend_r23.label);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", trend_r23.points);\n  }\n}\nfunction RoleDashboardsComponent_ng_container_30_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 64);\n    i0.ɵɵtext(1, \"No alerts.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RoleDashboardsComponent_ng_container_30_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 65)(1, \"span\", 66);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 67);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 68);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const alert_r26 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(6, _c0, alert_r26.severity === \"info\", alert_r26.severity === \"warning\", alert_r26.severity === \"critical\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 4, alert_r26.severity));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(alert_r26.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(alert_r26.description);\n  }\n}\nfunction RoleDashboardsComponent_ng_container_30_li_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const step_r27 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(step_r27);\n  }\n}\nfunction RoleDashboardsComponent_ng_container_30_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 64);\n    i0.ɵɵtext(1, \"Nothing pending.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RoleDashboardsComponent_ng_container_30_div_38_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 36);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r28 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Due \", i0.ɵɵpipeBind2(2, 1, item_r28.dueDate, \"mediumDate\"), \"\");\n  }\n}\nfunction RoleDashboardsComponent_ng_container_30_div_38_p_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 74);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r28 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Owner: \", item_r28.owner, \"\");\n  }\n}\nfunction RoleDashboardsComponent_ng_container_30_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 69)(1, \"div\", 70)(2, \"p\", 71);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, RoleDashboardsComponent_ng_container_30_div_38_span_4_Template, 3, 4, \"span\", 72);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 5);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, RoleDashboardsComponent_ng_container_30_div_38_p_7_Template, 2, 1, \"p\", 73);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r28 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r28.title);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r28.dueDate);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r28.description);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r28.owner);\n  }\n}\nfunction RoleDashboardsComponent_ng_container_30_div_45_p_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 36);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const b_r33 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(b_r33.extra);\n  }\n}\nfunction RoleDashboardsComponent_ng_container_30_div_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 75)(1, \"div\")(2, \"p\", 76);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, RoleDashboardsComponent_ng_container_30_div_45_p_4_Template, 2, 1, \"p\", 72);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 77);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const b_r33 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(b_r33.label);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", b_r33.extra);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(b_r33.value);\n  }\n}\nfunction RoleDashboardsComponent_ng_container_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 29);\n    i0.ɵɵtemplate(2, RoleDashboardsComponent_ng_container_30_div_2_Template, 8, 4, \"div\", 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 31)(4, \"div\", 32)(5, \"div\", 33)(6, \"div\")(7, \"h2\", 34);\n    i0.ɵɵtext(8, \"Trends\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\", 35);\n    i0.ɵɵtext(10, \"Volume and SLA over the selected timeframe.\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"span\", 36);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 37);\n    i0.ɵɵtemplate(14, RoleDashboardsComponent_ng_container_30_div_14_Template, 5, 2, \"div\", 38);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 39)(16, \"div\", 40)(17, \"h2\", 34);\n    i0.ɵɵtext(18, \"Alerts\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"p\", 41);\n    i0.ɵɵtext(20, \"Actionable items surfaced by the system.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(21, RoleDashboardsComponent_ng_container_30_div_21_Template, 2, 0, \"div\", 42);\n    i0.ɵɵtemplate(22, RoleDashboardsComponent_ng_container_30_div_22_Template, 8, 10, \"div\", 43);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"div\", 40)(24, \"h2\", 34);\n    i0.ɵɵtext(25, \"Steps\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"p\", 41);\n    i0.ɵɵtext(27, \"Suggested next actions for this role.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"ol\", 44);\n    i0.ɵɵtemplate(29, RoleDashboardsComponent_ng_container_30_li_29_Template, 2, 1, \"li\", 45);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(30, \"div\", 31)(31, \"div\", 32)(32, \"div\", 33)(33, \"h2\", 34);\n    i0.ɵɵtext(34, \"Pending Actions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"span\", 36);\n    i0.ɵɵtext(36, \"Prioritize by due date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(37, RoleDashboardsComponent_ng_container_30_div_37_Template, 2, 0, \"div\", 42);\n    i0.ɵɵtemplate(38, RoleDashboardsComponent_ng_container_30_div_38_Template, 8, 4, \"div\", 46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"div\", 40)(40, \"h2\", 34);\n    i0.ɵɵtext(41, \"Breakdowns\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"p\", 41);\n    i0.ɵɵtext(43, \"By role, region, scheme.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"div\", 47);\n    i0.ɵɵtemplate(45, RoleDashboardsComponent_ng_container_30_div_45_Template, 7, 3, \"div\", 48);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.data.kpis);\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(ctx_r4.timeframe);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.data.trends);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r4.data.alerts.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.data.alerts);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.steps);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r4.data.pending.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.data.pending);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.data.breakdowns);\n  }\n}\nexport let RoleDashboardsComponent = /*#__PURE__*/(() => {\n  class RoleDashboardsComponent {\n    constructor(analytics, authService, route, router) {\n      this.analytics = analytics;\n      this.authService = authService;\n      this.route = route;\n      this.router = router;\n      this.UserRole = UserRole;\n      this.roleOptions = Object.values(UserRole);\n      this.selectedRole = UserRole.SUPER_ADMIN;\n      this.loading = false;\n      this.error = '';\n      this.region = '';\n      this.scheme = '';\n      this.timeframe = '90d';\n      this.timeframes = ['30d', '90d', '180d'];\n      this.steps = [];\n    }\n    ngOnInit() {\n      this.sub = this.route.paramMap.subscribe(params => {\n        const roleParam = params.get('role');\n        const resolvedRole = this.resolveRole(roleParam);\n        if (resolvedRole !== this.selectedRole) {\n          this.selectedRole = resolvedRole;\n        }\n        this.loadDashboard();\n      });\n    }\n    ngOnDestroy() {\n      this.sub?.unsubscribe();\n    }\n    canView(role) {\n      const user = this.authService.currentUserValue;\n      const userRoles = user?.roles || (user?.role ? [user.role] : []);\n      return role === UserRole.SUPER_ADMIN || userRoles.includes(UserRole.SUPER_ADMIN) || userRoles.includes(role);\n    }\n    onRoleChange(role) {\n      const casted = role;\n      if (!this.canView(casted)) return;\n      this.router.navigate(['/portal/dashboards', casted.toLowerCase()]);\n    }\n    applyFilters() {\n      this.loadDashboard();\n    }\n    loadDashboard() {\n      this.error = '';\n      this.loading = true;\n      this.analytics.getDashboard(this.selectedRole, {\n        region: this.region,\n        scheme: this.scheme,\n        timeframe: this.timeframe\n      }).subscribe({\n        next: data => {\n          this.data = data;\n          this.steps = this.getStepHints(this.selectedRole);\n          this.loading = false;\n        },\n        error: err => {\n          this.error = err?.error?.message || 'Unable to load dashboard data.';\n          this.loading = false;\n        }\n      });\n    }\n    resolveRole(roleParam) {\n      if (roleParam && this.canView(roleParam)) {\n        return roleParam;\n      }\n      const user = this.authService.currentUserValue;\n      const userRoles = user?.roles || (user?.role ? [user.role] : []);\n      if (userRoles.includes(UserRole.SUPER_ADMIN)) return UserRole.SUPER_ADMIN;\n      return userRoles[0] || UserRole.OPERATOR;\n    }\n    getStepHints(role) {\n      const shared = ['Review alerts and pending actions', 'Drill into breakdowns by region and scheme'];\n      const map = {\n        [UserRole.SUPER_ADMIN]: ['Switch roles to audit coverage', 'Export reports where needed', ...shared],\n        [UserRole.ARSO_COUNCIL]: ['Review strategic KPIs', 'Approve schemes/policies requiring action', ...shared],\n        [UserRole.CACO_MEMBER]: ['Validate scheme queue', 'Check IAF MD 25 alignment flags', ...shared],\n        [UserRole.ARSO_SECRETARIAT]: ['Check system health & audit logs', 'Review pending approvals and payments', ...shared],\n        [UserRole.ADVISORY_COMMITTEE]: ['Address conflict resolution queue', 'Record advisory outcomes', ...shared],\n        [UserRole.SMC_MEMBER]: ['Track harmonization progress', 'Log SHP-01 compliance notes', ...shared],\n        [UserRole.NSB_ADMIN]: ['Check operator registry progress', 'Monitor CB oversight items', ...shared],\n        [UserRole.NSB_USER]: ['Work through assigned tasks', 'Complete operator registrations', ...shared],\n        [UserRole.CB_ADMIN]: ['Check audit schedule', 'Prioritize certificates expiring soon', ...shared],\n        [UserRole.CB_USER]: ['Complete assigned audits/checklists', 'Upload evidence and reports', ...shared],\n        [UserRole.OPERATOR]: ['Check certificate status and NCs', 'Submit docs/self-audits on time', ...shared],\n        [UserRole.ACCREDITATION_BODY]: ['Review CB scopes and surveillance schedule', 'Track AFRAC MRA compliance alerts', ...shared],\n        [UserRole.PUBLIC]: ['Browse certified products', 'Submit public complaints if needed', ...shared]\n      };\n      return map[role] || shared;\n    }\n    static {\n      this.ɵfac = function RoleDashboardsComponent_Factory(t) {\n        return new (t || RoleDashboardsComponent)(i0.ɵɵdirectiveInject(i1.AnalyticsService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: RoleDashboardsComponent,\n        selectors: [[\"app-role-dashboards\"]],\n        decls: 31,\n        vars: 11,\n        consts: [[1, \"min-h-screen\", \"bg-slate-50\"], [1, \"max-w-7xl\", \"mx-auto\", \"px-4\", \"sm:px-6\", \"lg:px-8\", \"py-8\"], [1, \"flex\", \"flex-col\", \"gap-4\", \"md:flex-row\", \"md:items-center\", \"md:justify-between\"], [1, \"text-sm\", \"uppercase\", \"tracking-wide\", \"text-slate-500\"], [1, \"text-3xl\", \"font-bold\", \"text-slate-900\"], [1, \"text-sm\", \"text-slate-600\", \"mt-1\"], [1, \"flex\", \"flex-wrap\", \"gap-3\", \"items-center\"], [\"class\", \"flex items-center gap-2\", 4, \"ngIf\"], [1, \"flex\", \"items-center\", \"gap-2\"], [\"for\", \"regionFilter\", 1, \"text-sm\", \"font-semibold\", \"text-slate-700\"], [\"id\", \"regionFilter\", \"placeholder\", \"All\", 1, \"w-32\", \"px-3\", \"py-2\", \"border\", \"border-slate-300\", \"rounded-lg\", \"text-sm\", \"bg-white\", \"focus:border-blue-600\", \"focus:ring-1\", \"focus:ring-blue-600\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"schemeFilter\", 1, \"text-sm\", \"font-semibold\", \"text-slate-700\"], [\"id\", \"schemeFilter\", \"placeholder\", \"All\", 1, \"w-32\", \"px-3\", \"py-2\", \"border\", \"border-slate-300\", \"rounded-lg\", \"text-sm\", \"bg-white\", \"focus:border-blue-600\", \"focus:ring-1\", \"focus:ring-blue-600\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"timeframeSelect\", 1, \"text-sm\", \"font-semibold\", \"text-slate-700\"], [\"id\", \"timeframeSelect\", 1, \"px-3\", \"py-2\", \"border\", \"border-slate-300\", \"rounded-lg\", \"text-sm\", \"bg-white\", \"focus:border-blue-600\", \"focus:ring-1\", \"focus:ring-blue-600\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"px-4\", \"py-2\", \"bg-blue-600\", \"text-white\", \"rounded-lg\", \"text-sm\", \"font-semibold\", \"shadow-sm\", \"hover:bg-blue-700\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-blue-500\", 3, \"click\"], [\"class\", \"mt-4 p-3 bg-rose-50 text-rose-700 border border-rose-200 rounded-lg\", 4, \"ngIf\"], [\"class\", \"mt-8 bg-white rounded-xl border border-slate-200 p-12 text-center shadow-sm\", 4, \"ngIf\"], [4, \"ngIf\"], [\"for\", \"roleSelect\", 1, \"text-sm\", \"font-semibold\", \"text-slate-700\"], [\"id\", \"roleSelect\", 1, \"px-3\", \"py-2\", \"border\", \"border-slate-300\", \"rounded-lg\", \"text-sm\", \"bg-white\", \"focus:border-blue-600\", \"focus:ring-1\", \"focus:ring-blue-600\", 3, \"value\", \"change\"], [3, \"value\", \"disabled\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\", \"disabled\"], [3, \"value\"], [1, \"mt-4\", \"p-3\", \"bg-rose-50\", \"text-rose-700\", \"border\", \"border-rose-200\", \"rounded-lg\"], [1, \"mt-8\", \"bg-white\", \"rounded-xl\", \"border\", \"border-slate-200\", \"p-12\", \"text-center\", \"shadow-sm\"], [\"role\", \"status\", \"aria-label\", \"Loading dashboard\", 1, \"inline-block\", \"animate-spin\", \"rounded-full\", \"h-10\", \"w-10\", \"border-b-2\", \"border-blue-600\"], [1, \"mt-4\", \"text-sm\", \"text-slate-600\"], [1, \"mt-8\", \"grid\", \"grid-cols-1\", \"sm:grid-cols-2\", \"lg:grid-cols-4\", \"gap-4\"], [\"class\", \"bg-white border border-slate-200 rounded-xl p-4 shadow-sm\", 4, \"ngFor\", \"ngForOf\"], [1, \"mt-8\", \"grid\", \"grid-cols-1\", \"lg:grid-cols-3\", \"gap-6\"], [1, \"lg:col-span-2\", \"bg-white\", \"border\", \"border-slate-200\", \"rounded-xl\", \"p-6\", \"shadow-sm\"], [1, \"flex\", \"items-center\", \"justify-between\", \"mb-4\"], [1, \"text-lg\", \"font-semibold\", \"text-slate-900\"], [1, \"text-sm\", \"text-slate-600\"], [1, \"text-xs\", \"text-slate-500\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"gap-4\"], [\"class\", \"border border-slate-100 rounded-lg p-4\", 4, \"ngFor\", \"ngForOf\"], [1, \"space-y-4\"], [1, \"bg-white\", \"border\", \"border-slate-200\", \"rounded-xl\", \"p-6\", \"shadow-sm\"], [1, \"text-sm\", \"text-slate-600\", \"mb-3\"], [\"class\", \"text-sm text-slate-500\", 4, \"ngIf\"], [\"class\", \"mt-3 rounded-lg border border-slate-100 p-3\", 4, \"ngFor\", \"ngForOf\"], [1, \"space-y-2\", \"list-decimal\", \"list-inside\", \"text-sm\", \"text-slate-700\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"border border-slate-100 rounded-lg p-4 mb-3 last:mb-0\", 4, \"ngFor\", \"ngForOf\"], [1, \"space-y-2\"], [\"class\", \"flex items-center justify-between border border-slate-100 rounded-lg px-3 py-2\", 4, \"ngFor\", \"ngForOf\"], [1, \"bg-white\", \"border\", \"border-slate-200\", \"rounded-xl\", \"p-4\", \"shadow-sm\"], [1, \"text-sm\", \"font-semibold\", \"text-slate-600\"], [1, \"text-3xl\", \"font-bold\", \"text-slate-900\", \"mt-2\"], [1, \"mt-2\", \"flex\", \"items-center\", \"gap-2\", \"text-xs\"], [\"class\", \"inline-flex items-center gap-1 rounded-full px-2 py-1\", 3, \"ngClass\", 4, \"ngIf\"], [\"class\", \"text-slate-500\", 4, \"ngIf\"], [1, \"inline-flex\", \"items-center\", \"gap-1\", \"rounded-full\", \"px-2\", \"py-1\", 3, \"ngClass\"], [1, \"text-slate-500\"], [1, \"border\", \"border-slate-100\", \"rounded-lg\", \"p-4\"], [1, \"text-sm\", \"font-semibold\", \"text-slate-700\"], [1, \"mt-3\", \"flex\", \"items-end\", \"gap-2\"], [\"class\", \"flex flex-col items-center flex-1\", 4, \"ngFor\", \"ngForOf\"], [1, \"flex\", \"flex-col\", \"items-center\", \"flex-1\"], [1, \"w-full\", \"bg-blue-100\", \"rounded\"], [1, \"text-[11px]\", \"text-slate-500\", \"mt-1\"], [1, \"text-sm\", \"text-slate-500\"], [1, \"mt-3\", \"rounded-lg\", \"border\", \"border-slate-100\", \"p-3\"], [1, \"text-xs\", \"font-semibold\", \"px-2\", \"py-1\", \"rounded-full\", 3, \"ngClass\"], [1, \"mt-2\", \"text-sm\", \"font-semibold\", \"text-slate-800\"], [1, \"text-xs\", \"text-slate-600\"], [1, \"border\", \"border-slate-100\", \"rounded-lg\", \"p-4\", \"mb-3\", \"last:mb-0\"], [1, \"flex\", \"items-center\", \"justify-between\"], [1, \"font-semibold\", \"text-slate-800\"], [\"class\", \"text-xs text-slate-500\", 4, \"ngIf\"], [\"class\", \"text-xs text-slate-500 mt-1\", 4, \"ngIf\"], [1, \"text-xs\", \"text-slate-500\", \"mt-1\"], [1, \"flex\", \"items-center\", \"justify-between\", \"border\", \"border-slate-100\", \"rounded-lg\", \"px-3\", \"py-2\"], [1, \"text-sm\", \"font-semibold\", \"text-slate-800\"], [1, \"text-lg\", \"font-bold\", \"text-slate-900\"]],\n        template: function RoleDashboardsComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\")(4, \"p\", 3);\n            i0.ɵɵtext(5, \"Role Dashboard\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"h1\", 4);\n            i0.ɵɵtext(7);\n            i0.ɵɵpipe(8, \"titlecase\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(9, \"p\", 5);\n            i0.ɵɵtext(10, \"High-level KPIs, trends, alerts, and pending actions.\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(11, \"div\", 6);\n            i0.ɵɵtemplate(12, RoleDashboardsComponent_div_12_Template, 5, 2, \"div\", 7);\n            i0.ɵɵelementStart(13, \"div\", 8)(14, \"label\", 9);\n            i0.ɵɵtext(15, \"Region\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(16, \"input\", 10);\n            i0.ɵɵlistener(\"ngModelChange\", function RoleDashboardsComponent_Template_input_ngModelChange_16_listener($event) {\n              return ctx.region = $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(17, \"div\", 8)(18, \"label\", 11);\n            i0.ɵɵtext(19, \"Scheme\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(20, \"input\", 12);\n            i0.ɵɵlistener(\"ngModelChange\", function RoleDashboardsComponent_Template_input_ngModelChange_20_listener($event) {\n              return ctx.scheme = $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(21, \"div\", 8)(22, \"label\", 13);\n            i0.ɵɵtext(23, \"Timeframe\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(24, \"select\", 14);\n            i0.ɵɵlistener(\"ngModelChange\", function RoleDashboardsComponent_Template_select_ngModelChange_24_listener($event) {\n              return ctx.timeframe = $event;\n            });\n            i0.ɵɵtemplate(25, RoleDashboardsComponent_option_25_Template, 2, 2, \"option\", 15);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(26, \"button\", 16);\n            i0.ɵɵlistener(\"click\", function RoleDashboardsComponent_Template_button_click_26_listener() {\n              return ctx.applyFilters();\n            });\n            i0.ɵɵtext(27, \" Refresh \");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(28, RoleDashboardsComponent_div_28_Template, 2, 1, \"div\", 17);\n            i0.ɵɵtemplate(29, RoleDashboardsComponent_div_29_Template, 4, 0, \"div\", 18);\n            i0.ɵɵtemplate(30, RoleDashboardsComponent_ng_container_30_Template, 46, 9, \"ng-container\", 19);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(7);\n            i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 9, ctx.selectedRole));\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngIf\", ctx.canView(ctx.UserRole.SUPER_ADMIN) || ctx.roleOptions.length > 1);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.region);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.scheme);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.timeframe);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngForOf\", ctx.timeframes);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.error);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.loading);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.data);\n          }\n        },\n        dependencies: [i4.NgClass, i4.NgForOf, i4.NgIf, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgModel, i4.TitleCasePipe, i4.DatePipe],\n        styles: [\".spark-bar[_ngcontent-%COMP%]{background:linear-gradient(180deg,#dbeafe 0%,#1d4ed8 100%);border-radius:.5rem}[_nghost-%COMP%]     select:disabled{opacity:.6;cursor:not-allowed}\"]\n      });\n    }\n  }\n  return RoleDashboardsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}