{"ast":null,"code":"import { RoleRequestStatus, UserRole } from '../../shared/models/user.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../modules/auth/services/auth.service\";\nimport * as i2 from \"../../modules/auth/services/role-request.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction RoleDashboardsComponent_a_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 45);\n    i0.ɵɵelement(1, \"div\", 46);\n    i0.ɵɵelementStart(2, \"div\")(3, \"p\", 47);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 48);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const link_r8 = ctx.$implicit;\n    i0.ɵɵproperty(\"routerLink\", link_r8.route);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(link_r8.label);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(link_r8.description);\n  }\n}\nfunction RoleDashboardsComponent_span_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 49);\n  }\n}\nfunction RoleDashboardsComponent_span_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 50);\n  }\n}\nfunction RoleDashboardsComponent_div_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 51);\n    i0.ɵɵtext(1, \" Checking your pending requests... \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RoleDashboardsComponent_div_43_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 58);\n    i0.ɵɵelement(1, \"span\", 59);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"titlecase\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const req_r10 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 1, req_r10.requestedRoles.join(\", \")), \" \");\n  }\n}\nfunction RoleDashboardsComponent_div_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 52)(1, \"div\", 53)(2, \"p\", 54);\n    i0.ɵɵtext(3, \"Pending approval\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 55);\n    i0.ɵɵtemplate(5, RoleDashboardsComponent_div_43_span_5_Template, 4, 3, \"span\", 56);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 57);\n    i0.ɵɵtext(7, \"You can still use all Public tools while we review these.\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.pendingRequests);\n  }\n}\nfunction RoleDashboardsComponent_div_45_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 71);\n    i0.ɵɵtext(1, \"Queued\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RoleDashboardsComponent_div_45_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 72);\n  }\n}\nconst _c0 = function (a0, a1) {\n  return {\n    \"bg-emerald-50 text-emerald-700\": a0,\n    \"bg-slate-200 text-slate-700\": a1\n  };\n};\nfunction RoleDashboardsComponent_div_45_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 60);\n    i0.ɵɵlistener(\"click\", function RoleDashboardsComponent_div_45_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const card_r11 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.toggleRole(card_r11.role));\n    });\n    i0.ɵɵelementStart(1, \"div\", 61)(2, \"p\", 62);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 63);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"h3\", 64);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 65);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 66)(11, \"div\", 67);\n    i0.ɵɵelement(12, \"span\", 68);\n    i0.ɵɵelementStart(13, \"span\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(15, RoleDashboardsComponent_div_45_span_15_Template, 2, 0, \"span\", 69);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(16, RoleDashboardsComponent_div_45_div_16_Template, 1, 0, \"div\", 70);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const card_r11 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"selected\", ctx_r5.isSelected(card_r11.role))(\"disabled\", ctx_r5.disabledRoles.has(card_r11.role));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(card_r11.badge);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(13, _c0, ctx_r5.isSelected(card_r11.role), !ctx_r5.isSelected(card_r11.role)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.isSelected(card_r11.role) ? \"Selected\" : \"Tap to select\", \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(card_r11.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(card_r11.blurb);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", ctx_r5.hasPendingFor(card_r11.role) ? \"bg-amber-500\" : \"bg-emerald-500\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.disabledRoles.has(card_r11.role) ? ctx_r5.hasPendingFor(card_r11.role) ? \"Pending approval\" : \"Already granted\" : \"Available to request\", \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.isSelected(card_r11.role));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.disabledRoles.has(card_r11.role));\n  }\n}\nfunction RoleDashboardsComponent_div_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 73);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r6.submitError, \" \");\n  }\n}\nfunction RoleDashboardsComponent_div_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 74);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r7.submitSuccess, \" \");\n  }\n}\nexport let RoleDashboardsComponent = /*#__PURE__*/(() => {\n  class RoleDashboardsComponent {\n    constructor(authService, roleRequestService, router) {\n      this.authService = authService;\n      this.roleRequestService = roleRequestService;\n      this.router = router;\n      this.UserRole = UserRole;\n      this.RoleRequestStatus = RoleRequestStatus;\n      this.user = null;\n      this.pendingRequests = [];\n      this.selectedRoles = new Set();\n      this.disabledRoles = new Set();\n      this.loading = false;\n      this.submitting = false;\n      this.submitError = '';\n      this.submitSuccess = '';\n      this.sidebarLinks = [{\n        label: 'Traceability',\n        description: 'Verify a product instantly by QR/ID',\n        route: '/traceability'\n      }, {\n        label: 'Complaints',\n        description: 'Raise quality or mark misuse cases',\n        route: '/complaints'\n      }, {\n        label: 'Registry',\n        description: 'Search certified products by brand/standard',\n        route: '/'\n      }, {\n        label: 'Help Center',\n        description: 'Guides on roles and onboarding',\n        route: '/'\n      }];\n      this.roleCards = [{\n        role: UserRole.OPERATOR,\n        title: 'Manufacturer / Operator',\n        blurb: 'Request marks, manage products, track certifications.',\n        badge: 'Producers & Operators'\n      }, {\n        role: UserRole.CB_ADMIN,\n        title: 'Certification Body',\n        blurb: 'Plan audits, issue CoCs, oversee certificate lifecycle.',\n        badge: 'CB / Laboratory'\n      }, {\n        role: UserRole.NSB_ADMIN,\n        title: 'National Standards Body',\n        blurb: 'Coordinate approvals, registry oversight, market surveillance.',\n        badge: 'NSB'\n      }];\n    }\n    ngOnInit() {\n      this.user = this.authService.currentUserValue;\n      if (this.redirectIfSpecialized()) {\n        return;\n      }\n      this.refreshProfile();\n      this.loadMyRequests();\n    }\n    toggleRole(role) {\n      if (this.disabledRoles.has(role)) {\n        return;\n      }\n      if (this.selectedRoles.has(role)) {\n        this.selectedRoles.delete(role);\n      } else {\n        this.selectedRoles.add(role);\n      }\n    }\n    isSelected(role) {\n      return this.selectedRoles.has(role);\n    }\n    clearSelection() {\n      this.selectedRoles = new Set();\n    }\n    submitRequests() {\n      this.submitError = '';\n      this.submitSuccess = '';\n      if (!this.selectedRoles.size) {\n        this.submitError = 'Select at least one role to request.';\n        return;\n      }\n      const requestedRoles = Array.from(this.selectedRoles);\n      this.submitting = true;\n      this.roleRequestService.createRequest(requestedRoles).subscribe({\n        next: created => {\n          const createdList = created || [];\n          this.pendingRequests = [...createdList, ...this.pendingRequests];\n          this.selectedRoles = new Set();\n          this.submitSuccess = 'Requests submitted. We will notify you once reviewed.';\n          this.updateDisabledRoles();\n        },\n        error: err => {\n          this.submitError = err?.error?.message || 'Failed to submit your requests.';\n        },\n        complete: () => {\n          this.submitting = false;\n        }\n      });\n    }\n    refreshPending() {\n      this.loadMyRequests();\n    }\n    hasPendingFor(role) {\n      return this.pendingRequests.some(req => req.status === RoleRequestStatus.PENDING && req.requestedRoles.includes(role));\n    }\n    loadMyRequests() {\n      this.loading = true;\n      this.roleRequestService.getMyRequests().subscribe({\n        next: requests => {\n          this.pendingRequests = (requests || []).filter(r => r.status === RoleRequestStatus.PENDING);\n          this.updateDisabledRoles();\n          this.loading = false;\n        },\n        error: () => {\n          this.pendingRequests = [];\n          this.updateDisabledRoles();\n          this.loading = false;\n        }\n      });\n    }\n    refreshProfile() {\n      this.authService.getProfile().subscribe({\n        next: user => {\n          this.user = user;\n          if (!this.redirectIfSpecialized()) {\n            this.updateDisabledRoles();\n          }\n        },\n        error: () => {\n          // Ignore profile errors here to keep the public dashboard accessible.\n        }\n      });\n    }\n    redirectIfSpecialized() {\n      const roles = this.getUserRoles();\n      const nonPublicRoles = roles.filter(role => role !== UserRole.PUBLIC);\n      if (!nonPublicRoles.length) {\n        return false;\n      }\n      if (nonPublicRoles.includes(UserRole.NSB_ADMIN) || nonPublicRoles.includes(UserRole.NSB_USER)) {\n        this.router.navigate(['/portal/nsb/dashboard']);\n        return true;\n      }\n      // Default to the main portal dashboard for all other specialized roles.\n      this.router.navigate(['/portal/dashboard']);\n      return true;\n    }\n    updateDisabledRoles() {\n      const ownedRoles = this.getUserRoles();\n      const pendingRoles = this.pendingRequests.flatMap(r => r.requestedRoles || []);\n      this.disabledRoles = new Set([...ownedRoles, ...pendingRoles]);\n    }\n    getUserRoles() {\n      return this.user?.roles || (this.user?.role ? [this.user.role] : []);\n    }\n    static {\n      this.ɵfac = function RoleDashboardsComponent_Factory(t) {\n        return new (t || RoleDashboardsComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.RoleRequestService), i0.ɵɵdirectiveInject(i3.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: RoleDashboardsComponent,\n        selectors: [[\"app-role-dashboards\"]],\n        decls: 94,\n        vars: 13,\n        consts: [[1, \"min-h-screen\", \"bg-slate-50\"], [1, \"mx-auto\", \"max-w-7xl\", \"px-4\", \"sm:px-6\", \"lg:px-8\", \"py-10\"], [1, \"grid\", \"gap-6\", \"lg:grid-cols-[320px,1fr]\"], [1, \"bg-white\", \"border\", \"border-slate-200\", \"rounded-2xl\", \"shadow-sm\", \"p-6\", \"flex\", \"flex-col\", \"gap-6\"], [1, \"text-xs\", \"uppercase\", \"tracking-wide\", \"text-blue-600\", \"font-semibold\"], [1, \"text-2xl\", \"font-bold\", \"text-slate-900\", \"mt-1\"], [1, \"text-sm\", \"text-slate-600\", \"mt-2\"], [1, \"rounded-xl\", \"bg-slate-900\", \"text-white\", \"p-4\"], [1, \"text-sm\", \"font-semibold\"], [1, \"text-xs\", \"text-slate-200\", \"mt-1\"], [1, \"mt-3\", \"space-y-1\", \"text-xs\", \"text-slate-100\"], [1, \"space-y-3\"], [1, \"text-xs\", \"font-semibold\", \"text-slate-500\", \"uppercase\", \"tracking-wide\"], [\"class\", \"group flex items-start gap-3 rounded-xl border border-slate-200 px-4 py-3 hover:border-blue-500 hover:bg-blue-50 transition\", 3, \"routerLink\", 4, \"ngFor\", \"ngForOf\"], [1, \"space-y-6\"], [1, \"bg-white\", \"border\", \"border-slate-200\", \"rounded-2xl\", \"shadow-sm\", \"p-6\"], [1, \"flex\", \"flex-col\", \"gap-3\", \"md:flex-row\", \"md:items-center\", \"md:justify-between\"], [1, \"text-xl\", \"font-bold\", \"text-slate-900\", \"mt-1\"], [1, \"text-sm\", \"text-slate-600\"], [1, \"flex\", \"items-center\", \"gap-3\"], [\"type\", \"button\", 1, \"inline-flex\", \"items-center\", \"gap-2\", \"px-3\", \"py-2\", \"text-sm\", \"font-semibold\", \"text-slate-700\", \"border\", \"border-slate-200\", \"rounded-lg\", \"hover:border-blue-500\", \"hover:text-blue-700\", 3, \"disabled\", \"click\"], [\"class\", \"h-2 w-2 rounded-full bg-emerald-400\", 4, \"ngIf\"], [\"class\", \"h-2 w-2 rounded-full bg-amber-400\", 4, \"ngIf\"], [\"class\", \"mt-4 rounded-xl border border-slate-200 bg-slate-50 p-4 text-sm text-slate-600\", 4, \"ngIf\"], [\"class\", \"mt-4 space-y-3\", 4, \"ngIf\"], [1, \"mt-6\", \"grid\", \"gap-4\", \"sm:grid-cols-2\", \"xl:grid-cols-3\"], [\"class\", \"role-card relative rounded-2xl border border-slate-200 bg-slate-50 p-5 cursor-pointer transition\", 3, \"selected\", \"disabled\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"mt-6\", \"flex\", \"flex-col\", \"gap-3\", \"sm:flex-row\", \"sm:items-center\", \"sm:justify-between\"], [1, \"flex\", \"gap-3\"], [\"type\", \"button\", 1, \"px-4\", \"py-2\", \"rounded-lg\", \"border\", \"border-slate-200\", \"text-sm\", \"font-semibold\", \"text-slate-700\", \"hover:border-blue-500\", \"hover:text-blue-700\", 3, \"disabled\", \"click\"], [\"type\", \"button\", 1, \"px-4\", \"py-2\", \"rounded-lg\", \"bg-blue-600\", \"text-white\", \"text-sm\", \"font-semibold\", \"shadow-sm\", \"hover:bg-blue-700\", \"disabled:opacity-60\", 3, \"disabled\", \"click\"], [\"class\", \"mt-3 rounded-lg border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700\", 4, \"ngIf\"], [\"class\", \"mt-3 rounded-lg border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-800\", 4, \"ngIf\"], [1, \"grid\", \"gap-4\", \"lg:grid-cols-3\"], [1, \"col-span-2\", \"space-y-4\"], [1, \"rounded-2xl\", \"border\", \"border-slate-200\", \"bg-white\", \"p-6\", \"shadow-sm\"], [1, \"text-xs\", \"uppercase\", \"tracking-wide\", \"text-slate-500\", \"font-semibold\"], [1, \"text-lg\", \"font-bold\", \"text-slate-900\", \"mt-2\"], [1, \"text-sm\", \"text-slate-600\", \"mt-1\"], [1, \"mt-4\", \"flex\", \"flex-wrap\", \"gap-3\"], [1, \"chip\"], [1, \"mt-4\", \"grid\", \"gap-2\", \"sm:grid-cols-2\"], [1, \"rounded-xl\", \"border\", \"border-slate-200\", \"bg-slate-50\", \"px-3\", \"py-2\", \"text-sm\", \"text-slate-700\"], [1, \"rounded-2xl\", \"border\", \"border-slate-200\", \"bg-white\", \"p-6\", \"shadow-sm\", \"space-y-4\"], [1, \"rounded-xl\", \"border\", \"border-slate-200\", \"bg-slate-50\", \"px-4\", \"py-3\", \"text-sm\", \"text-slate-700\"], [1, \"group\", \"flex\", \"items-start\", \"gap-3\", \"rounded-xl\", \"border\", \"border-slate-200\", \"px-4\", \"py-3\", \"hover:border-blue-500\", \"hover:bg-blue-50\", \"transition\", 3, \"routerLink\"], [1, \"mt-1\", \"h-2\", \"w-2\", \"rounded-full\", \"bg-blue-500\", \"group-hover:scale-110\", \"transition\"], [1, \"text-sm\", \"font-semibold\", \"text-slate-900\", \"group-hover:text-blue-700\"], [1, \"text-xs\", \"text-slate-600\"], [1, \"h-2\", \"w-2\", \"rounded-full\", \"bg-emerald-400\"], [1, \"h-2\", \"w-2\", \"rounded-full\", \"bg-amber-400\"], [1, \"mt-4\", \"rounded-xl\", \"border\", \"border-slate-200\", \"bg-slate-50\", \"p-4\", \"text-sm\", \"text-slate-600\"], [1, \"mt-4\", \"space-y-3\"], [1, \"rounded-xl\", \"border\", \"border-amber-200\", \"bg-amber-50\", \"p-4\"], [1, \"text-sm\", \"font-semibold\", \"text-amber-800\"], [1, \"mt-2\", \"flex\", \"flex-wrap\", \"gap-2\"], [\"class\", \"inline-flex items-center gap-2 rounded-full bg-white px-3 py-1 text-xs font-semibold text-amber-800 border border-amber-200 shadow-sm\", 4, \"ngFor\", \"ngForOf\"], [1, \"text-xs\", \"text-amber-700\", \"mt-2\"], [1, \"inline-flex\", \"items-center\", \"gap-2\", \"rounded-full\", \"bg-white\", \"px-3\", \"py-1\", \"text-xs\", \"font-semibold\", \"text-amber-800\", \"border\", \"border-amber-200\", \"shadow-sm\"], [1, \"h-2\", \"w-2\", \"rounded-full\", \"bg-amber-500\"], [1, \"role-card\", \"relative\", \"rounded-2xl\", \"border\", \"border-slate-200\", \"bg-slate-50\", \"p-5\", \"cursor-pointer\", \"transition\", 3, \"click\"], [1, \"flex\", \"items-center\", \"justify-between\"], [1, \"text-xs\", \"font-semibold\", \"uppercase\", \"tracking-wide\", \"text-blue-700\"], [1, \"text-xs\", \"font-semibold\", \"px-2\", \"py-1\", \"rounded-full\", 3, \"ngClass\"], [1, \"mt-3\", \"text-lg\", \"font-bold\", \"text-slate-900\"], [1, \"mt-2\", \"text-sm\", \"text-slate-600\"], [1, \"mt-4\", \"flex\", \"items-center\", \"justify-between\", \"text-xs\", \"text-slate-500\"], [1, \"flex\", \"items-center\", \"gap-2\"], [1, \"h-2\", \"w-2\", \"rounded-full\", 3, \"ngClass\"], [\"class\", \"text-blue-600 font-semibold\", 4, \"ngIf\"], [\"class\", \"absolute inset-0 rounded-2xl bg-white/60 pointer-events-none\", 4, \"ngIf\"], [1, \"text-blue-600\", \"font-semibold\"], [1, \"absolute\", \"inset-0\", \"rounded-2xl\", \"bg-white/60\", \"pointer-events-none\"], [1, \"mt-3\", \"rounded-lg\", \"border\", \"border-rose-200\", \"bg-rose-50\", \"px-4\", \"py-3\", \"text-sm\", \"text-rose-700\"], [1, \"mt-3\", \"rounded-lg\", \"border\", \"border-emerald-200\", \"bg-emerald-50\", \"px-4\", \"py-3\", \"text-sm\", \"text-emerald-800\"]],\n        template: function RoleDashboardsComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"aside\", 3)(4, \"div\")(5, \"p\", 4);\n            i0.ɵɵtext(6, \"Public-first\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(7, \"h1\", 5);\n            i0.ɵɵtext(8, \"Public Dashboard\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(9, \"p\", 6);\n            i0.ɵɵtext(10, \"Verify products, submit complaints, and step up to advanced roles from a single, consistent home.\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(11, \"div\", 7)(12, \"p\", 8);\n            i0.ɵɵtext(13, \"Universal Access\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(14, \"p\", 9);\n            i0.ɵɵtext(15, \"Everything you can do as a guest stays available when you log in as Public.\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(16, \"ul\", 10)(17, \"li\");\n            i0.ɵɵtext(18, \"\\u2022 Traceability & CoC lookup\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(19, \"li\");\n            i0.ɵɵtext(20, \"\\u2022 Public complaints & misuse reports\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(21, \"li\");\n            i0.ɵɵtext(22, \"\\u2022 Certified product registry search\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(23, \"div\", 11)(24, \"p\", 12);\n            i0.ɵɵtext(25, \"Public tools\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(26, RoleDashboardsComponent_a_26_Template, 7, 3, \"a\", 13);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(27, \"main\", 14)(28, \"section\", 15)(29, \"div\", 16)(30, \"div\")(31, \"p\", 4);\n            i0.ɵɵtext(32, \"Role Selection Hub\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(33, \"h2\", 17);\n            i0.ɵɵtext(34, \"Upgrade your access in one go\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(35, \"p\", 18);\n            i0.ɵɵtext(36, \"Select one or more roles and submit them together. Admins can approve each role separately.\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(37, \"div\", 19)(38, \"button\", 20);\n            i0.ɵɵlistener(\"click\", function RoleDashboardsComponent_Template_button_click_38_listener() {\n              return ctx.refreshPending();\n            });\n            i0.ɵɵtemplate(39, RoleDashboardsComponent_span_39_Template, 1, 0, \"span\", 21);\n            i0.ɵɵtemplate(40, RoleDashboardsComponent_span_40_Template, 1, 0, \"span\", 22);\n            i0.ɵɵtext(41, \" Refresh status \");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(42, RoleDashboardsComponent_div_42_Template, 2, 0, \"div\", 23);\n            i0.ɵɵtemplate(43, RoleDashboardsComponent_div_43_Template, 8, 1, \"div\", 24);\n            i0.ɵɵelementStart(44, \"div\", 25);\n            i0.ɵɵtemplate(45, RoleDashboardsComponent_div_45_Template, 17, 16, \"div\", 26);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(46, \"div\", 27)(47, \"div\", 18);\n            i0.ɵɵtext(48, \" Stack roles over time without opening separate accounts. Admins can approve or reject each role independently. \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(49, \"div\", 28)(50, \"button\", 29);\n            i0.ɵɵlistener(\"click\", function RoleDashboardsComponent_Template_button_click_50_listener() {\n              return ctx.clearSelection();\n            });\n            i0.ɵɵtext(51, \" Clear selection \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(52, \"button\", 30);\n            i0.ɵɵlistener(\"click\", function RoleDashboardsComponent_Template_button_click_52_listener() {\n              return ctx.submitRequests();\n            });\n            i0.ɵɵtext(53);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(54, RoleDashboardsComponent_div_54_Template, 2, 1, \"div\", 31);\n            i0.ɵɵtemplate(55, RoleDashboardsComponent_div_55_Template, 2, 1, \"div\", 32);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(56, \"section\", 33)(57, \"div\", 34)(58, \"div\", 35)(59, \"p\", 36);\n            i0.ɵɵtext(60, \"Traceability & Verification\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(61, \"h3\", 37);\n            i0.ɵɵtext(62, \"Instant checks for everyone\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(63, \"p\", 38);\n            i0.ɵɵtext(64, \"Scan a QR or paste a token to see authenticity, expiry, and chain of custody.\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(65, \"div\", 39)(66, \"span\", 40);\n            i0.ɵɵtext(67, \"Verified\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(68, \"span\", 40);\n            i0.ɵɵtext(69, \"Expired\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(70, \"span\", 40);\n            i0.ɵɵtext(71, \"Counterfeit\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(72, \"div\", 35)(73, \"p\", 36);\n            i0.ɵɵtext(74, \"Public Complaints\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(75, \"h3\", 37);\n            i0.ɵɵtext(76, \"File quality issues or mark misuse\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(77, \"p\", 38);\n            i0.ɵɵtext(78, \"Attach evidence (photos/PDFs) and receive a case ID by email. Mark misuse routes to licensing.\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(79, \"div\", 41)(80, \"div\", 42);\n            i0.ɵɵtext(81, \"General complaint\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(82, \"div\", 42);\n            i0.ɵɵtext(83, \"Mark misuse with mandatory photo\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(84, \"div\", 43)(85, \"div\")(86, \"p\", 36);\n            i0.ɵɵtext(87, \"Certified Product Registry\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(88, \"h3\", 37);\n            i0.ɵɵtext(89, \"Search by brand, category, or standard\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(90, \"p\", 38);\n            i0.ɵɵtext(91, \"Filter by country or standard (e.g., ARSO L2) to find compliant products.\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(92, \"div\", 44);\n            i0.ɵɵtext(93, \" Seamless upgrade: when your role is approved, you will automatically land on the correct dashboard next login. \");\n            i0.ɵɵelementEnd()()()()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(26);\n            i0.ɵɵproperty(\"ngForOf\", ctx.sidebarLinks);\n            i0.ɵɵadvance(12);\n            i0.ɵɵproperty(\"disabled\", ctx.loading);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.pendingRequests.length === 0);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.pendingRequests.length > 0);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.loading);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.pendingRequests.length);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngForOf\", ctx.roleCards);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"disabled\", !ctx.selectedRoles.size);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"disabled\", ctx.submitting || ctx.selectedRoles.size === 0);\n            i0.ɵɵadvance(1);\n            i0.ɵɵtextInterpolate2(\" \", ctx.submitting ? \"Submitting...\" : \"Submit request\", \" (\", ctx.selectedRoles.size, \") \");\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.submitError);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.submitSuccess);\n          }\n        },\n        dependencies: [i4.NgClass, i4.NgForOf, i4.NgIf, i3.RouterLink, i4.TitleCasePipe],\n        styles: [\".role-card[_ngcontent-%COMP%]{transition:all .2s ease}.role-card.selected[_ngcontent-%COMP%]{border-color:#2563eb;background:#e0ecff;box-shadow:0 10px 20px #2563eb1f}.role-card.disabled[_ngcontent-%COMP%]{cursor:not-allowed}.chip[_ngcontent-%COMP%]{display:inline-block;padding:.35rem .65rem;border-radius:9999px;background:#eef2ff;color:#4338ca;font-size:.75rem;font-weight:600}\"]\n      });\n    }\n  }\n  return RoleDashboardsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}