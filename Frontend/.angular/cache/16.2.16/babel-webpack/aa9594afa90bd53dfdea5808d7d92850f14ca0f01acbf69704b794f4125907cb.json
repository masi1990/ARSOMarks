{"ast":null,"code":"import { FormArray, FormGroup } from '@angular/forms';\nimport { finalize } from 'rxjs/operators';\nimport { MarkLicenseType, MarkType, LicenseDurationType, MediaType, MarkLicenseStatus } from '../../shared/models/mark-license.model';\nimport { UserRole } from '../../shared/models/user.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../modules/mark-licensing/services/mark-license-application.service\";\nimport * as i3 from \"../../modules/nsb-management/services/nsb.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"../../modules/auth/services/auth.service\";\nimport * as i6 from \"@angular/common\";\nfunction MarkLicenseApplicationComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 22)(1, \"div\", 23)(2, \"h2\", 24);\n    i0.ɵɵtext(3, \"NSB Registration Profile\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 25);\n    i0.ɵɵtext(5, \"Please review your National Standards Body profile details. These details will be associated with your license application.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 26)(7, \"div\", 27)(8, \"label\", 28);\n    i0.ɵɵtext(9, \"Organization Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 29);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 27)(13, \"label\", 28);\n    i0.ɵɵtext(14, \"Country\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 29);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 27)(18, \"label\", 28);\n    i0.ɵɵtext(19, \"Official Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 29);\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\", 27)(23, \"label\", 28);\n    i0.ɵɵtext(24, \"Registration Number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 29);\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(27, \"div\", 30)(28, \"label\", 28);\n    i0.ɵɵtext(29, \"Address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"div\", 29);\n    i0.ɵɵtext(31);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(32, \"div\", 31)(33, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function MarkLicenseApplicationComponent_div_27_Template_button_click_33_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.saveDraft());\n    });\n    i0.ɵɵtext(34, \"Save Draft\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function MarkLicenseApplicationComponent_div_27_Template_button_click_35_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.nextStep());\n    });\n    i0.ɵɵtext(36, \"Next: License Details\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate((ctx_r0.nsbProfile == null ? null : ctx_r0.nsbProfile.organizationName) || \"N/A\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate((ctx_r0.nsbProfile == null ? null : ctx_r0.nsbProfile.country) || \"N/A\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate((ctx_r0.nsbProfile == null ? null : ctx_r0.nsbProfile.email) || \"N/A\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate((ctx_r0.nsbProfile == null ? null : ctx_r0.nsbProfile.registrationNumber) || \"N/A\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate((ctx_r0.nsbProfile == null ? null : ctx_r0.nsbProfile.address) || \"N/A\");\n  }\n}\nfunction MarkLicenseApplicationComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 22)(1, \"form\", 34)(2, \"div\", 23)(3, \"h2\", 24);\n    i0.ɵɵtext(4, \"License Type(s) Requested \");\n    i0.ɵɵelementStart(5, \"span\", 35);\n    i0.ɵɵtext(6, \"*\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 36)(8, \"div\", 37)(9, \"label\", 38);\n    i0.ɵɵelement(10, \"input\", 39);\n    i0.ɵɵelementStart(11, \"div\", 40)(12, \"span\", 41);\n    i0.ɵɵtext(13, \"Promotional/Institutional License\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"p\", 42);\n    i0.ɵɵtext(15, \"For organizations wishing to use the mark for promotional purposes without certifying specific products.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\", 43);\n    i0.ɵɵtext(17, \" \\\"4.6 Publicly available information... a description of the rights and duties of applicants and clients, including requirements, restrictions or limitations on the use of the certification body's name and certification mark...\\\" (ISO/IEC 17065:2012) \");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(18, \"div\", 37)(19, \"label\", 38);\n    i0.ɵɵelement(20, \"input\", 44);\n    i0.ɵɵelementStart(21, \"div\", 40)(22, \"span\", 41);\n    i0.ɵɵtext(23, \"Certification Body License\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"p\", 42);\n    i0.ɵɵtext(25, \"For bodies operating product certification schemes.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"div\", 43);\n    i0.ɵɵtext(27, \" \\\"4.1.1 Legal responsibility: The certification body shall be a legal entity, or a defined part of a legal entity, such that the legal entity can be held legally responsible for all its certification activities.\\\" (ISO/IEC 17065:2012) \");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(28, \"div\", 37)(29, \"label\", 38);\n    i0.ɵɵelement(30, \"input\", 45);\n    i0.ɵɵelementStart(31, \"div\", 40)(32, \"span\", 41);\n    i0.ɵɵtext(33, \"Special Project License\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"p\", 42);\n    i0.ɵɵtext(35, \"For specific, time-bound projects requiring mark usage.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"div\", 43);\n    i0.ɵɵtext(37, \" \\\"4.1.2 Certification agreement... The certification body shall have a legally enforceable agreement for the provision of certification activities to its clients.\\\" (ISO/IEC 17065:2012) \");\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementStart(38, \"div\", 23)(39, \"h2\", 24);\n    i0.ɵɵtext(40, \"Section C: Mark Usage Specifications\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"p\", 46);\n    i0.ɵɵtext(42, \"Please confirm adherence to the following requirements based on ISO/IEC 17065:2012.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"div\", 36)(44, \"div\", 47)(45, \"label\", 38);\n    i0.ɵɵelement(46, \"input\", 48);\n    i0.ɵɵelementStart(47, \"div\", 40)(48, \"span\", 49);\n    i0.ɵɵtext(49, \"Compliance with Certification Agreement\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(50, \"div\", 50);\n    i0.ɵɵtext(51, \" \\\"4.1.2.2 ...the client complies at least, with the following: a) the client always fulfils the certification requirements... b) if the certification applies to ongoing production, the certified product continues to fulfil the product requirements...\\\" \");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(52, \"div\", 47)(53, \"label\", 38);\n    i0.ɵɵelement(54, \"input\", 51);\n    i0.ɵɵelementStart(55, \"div\", 40)(56, \"span\", 49);\n    i0.ɵɵtext(57, \"Control of Mark Usage\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(58, \"div\", 50);\n    i0.ɵɵtext(59, \" \\\"4.1.3.1 The certification body shall exercise the control as specified by the certification scheme over ownership, use and display of licenses, certificates, marks of conformity, and any other mechanisms for indicating a product is certified.\\\" \");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(60, \"div\", 47)(61, \"label\", 38);\n    i0.ɵɵelement(62, \"input\", 52);\n    i0.ɵɵelementStart(63, \"div\", 40)(64, \"span\", 49);\n    i0.ɵɵtext(65, \"Prevention of Misleading Statements\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(66, \"div\", 50);\n    i0.ɵɵtext(67, \" \\\"4.1.2.2 e) the client does not use its product certification in such a manner as to bring the certification body into disrepute and does not make any statement regarding its product certification that the certification body may consider misleading or unauthorized...\\\" \");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(68, \"div\", 47)(69, \"label\", 38);\n    i0.ɵɵelement(70, \"input\", 53);\n    i0.ɵɵelementStart(71, \"div\", 40)(72, \"span\", 49);\n    i0.ɵɵtext(73, \"Notification of Changes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(74, \"div\", 50);\n    i0.ɵɵtext(75, \" \\\"4.1.2.2 k) the client informs the certification body, without delay, of changes that may affect its ability to conform with the certification requirements.\\\" \");\n    i0.ɵɵelementEnd()()()()()()();\n    i0.ɵɵelementStart(76, \"div\", 54)(77, \"button\", 55);\n    i0.ɵɵlistener(\"click\", function MarkLicenseApplicationComponent_div_28_Template_button_click_77_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.prevStep());\n    });\n    i0.ɵɵtext(78, \"Back\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(79, \"div\", 56)(80, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function MarkLicenseApplicationComponent_div_28_Template_button_click_80_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.saveDraft());\n    });\n    i0.ɵɵtext(81, \"Save Draft\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(82, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function MarkLicenseApplicationComponent_div_28_Template_button_click_82_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.nextStep());\n    });\n    i0.ɵɵtext(83, \"Next: Review\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroup\", ctx_r1.applicationForm);\n  }\n}\nfunction MarkLicenseApplicationComponent_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 22)(1, \"div\", 57)(2, \"div\", 58);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(3, \"svg\", 59);\n    i0.ɵɵelement(4, \"path\", 60);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(5, \"h2\", 61);\n    i0.ɵɵtext(6, \"Ready to Submit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 25);\n    i0.ɵɵtext(8, \"Please verify all information before final submission. Once submitted, the application will be reviewed by ARSO administrators.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 62)(10, \"h3\", 63);\n    i0.ɵɵtext(11, \"Summary\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p\", 64)(13, \"span\", 65);\n    i0.ɵɵtext(14, \"Applicant:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"p\", 64)(17, \"span\", 65);\n    i0.ɵɵtext(18, \"License Types:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"p\")(21, \"span\", 65);\n    i0.ɵɵtext(22, \"Agreements:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \" All Section C requirements accepted.\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(24, \"div\", 54)(25, \"button\", 55);\n    i0.ɵɵlistener(\"click\", function MarkLicenseApplicationComponent_div_29_Template_button_click_25_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.prevStep());\n    });\n    i0.ɵɵtext(26, \"Back\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"div\", 56)(28, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function MarkLicenseApplicationComponent_div_29_Template_button_click_28_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.saveDraft());\n    });\n    i0.ɵɵtext(29, \"Save Draft\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"button\", 66);\n    i0.ɵɵlistener(\"click\", function MarkLicenseApplicationComponent_div_29_Template_button_click_30_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.submitApplication());\n    });\n    i0.ɵɵtext(31, \"Submit Application\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    let tmp_1_0;\n    i0.ɵɵadvance(15);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.nsbProfile == null ? null : ctx_r2.nsbProfile.organizationName, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate3(\" \", ((tmp_1_0 = ctx_r2.applicationForm.get(\"promotionalLicense\")) == null ? null : tmp_1_0.value) ? \"Promotional, \" : \"\", \" \", ((tmp_1_0 = ctx_r2.applicationForm.get(\"certificationBodyLicense\")) == null ? null : tmp_1_0.value) ? \"Certification Body, \" : \"\", \" \", ((tmp_1_0 = ctx_r2.applicationForm.get(\"specialProjectLicense\")) == null ? null : tmp_1_0.value) ? \"Special Project\" : \"\", \" \");\n  }\n}\nconst _c0 = function (a0, a1) {\n  return {\n    \"bg-blue-600 text-white\": a0,\n    \"bg-gray-200 text-gray-500\": a1\n  };\n};\nconst _c1 = function (a0, a1) {\n  return {\n    \"text-blue-600\": a0,\n    \"text-gray-500\": a1\n  };\n};\nexport let MarkLicenseApplicationComponent = /*#__PURE__*/(() => {\n  class MarkLicenseApplicationComponent {\n    constructor(fb, applicationService, nsbService, router, authService) {\n      this.fb = fb;\n      this.applicationService = applicationService;\n      this.nsbService = nsbService;\n      this.router = router;\n      this.authService = authService;\n      this.loading = false;\n      this.saving = false;\n      this.submitting = false;\n      this.error = '';\n      this.success = false;\n      this.successMessage = '';\n      this.nsb = null;\n      this.nsbOptions = [];\n      this.loadingNsbs = false;\n      this.activeTab = 'form';\n      this.draftApplications = [];\n      this.submittedApplications = [];\n      this.loadingApplications = false;\n      this.existingApplication = null;\n      this.activeStep = 0;\n      this.steps = [{\n        id: 'applicant',\n        label: 'Applicant & License'\n      }, {\n        id: 'intended',\n        label: 'Intended Use'\n      }, {\n        id: 'usage',\n        label: 'Mark Usage'\n      }, {\n        id: 'documents',\n        label: 'Documents & Declarations'\n      }, {\n        id: 'review',\n        label: 'Review & Submit'\n      }];\n      // License type options\n      this.licenseTypeOptions = [{\n        value: MarkLicenseType.PROMOTIONAL_INSTITUTIONAL,\n        label: 'Promotional/Institutional License'\n      }, {\n        value: MarkLicenseType.CERTIFICATION_BODY,\n        label: 'Certification Body License'\n      }, {\n        value: MarkLicenseType.SPECIAL_PROJECT,\n        label: 'Special Project License'\n      }];\n      this.licenseTypeReferences = {\n        [MarkLicenseType.PROMOTIONAL_INSTITUTIONAL]: '“The application shall cover at least the information detailed in this chapter.” (ACAP 1-1:2025, 10.2)',\n        [MarkLicenseType.CERTIFICATION_BODY]: '“The application shall be very clear about the ACAP Certification Scheme selected for the approval.” (ACAP 1-3:2025, 4.2.1(b))',\n        [MarkLicenseType.SPECIAL_PROJECT]: '“For application, the certification body shall obtain all the necessary information to complete the certification process.” (ISO/IEC 17065:2012, 7.2)'\n      };\n      // Duration options\n      this.durationOptions = [{\n        value: LicenseDurationType.ONE_YEAR,\n        label: '1 Year'\n      }, {\n        value: LicenseDurationType.TWO_YEARS,\n        label: '2 Years'\n      }, {\n        value: LicenseDurationType.THREE_YEARS,\n        label: '3 Years'\n      }, {\n        value: LicenseDurationType.PROJECT_BASED,\n        label: 'Project-based (specify)'\n      }, {\n        value: LicenseDurationType.OTHER,\n        label: 'Other'\n      }];\n      // Mark type options\n      this.markTypeOptions = [{\n        value: MarkType.ARSO_QUALITY_MARK,\n        label: 'ARSO Quality Mark'\n      }, {\n        value: MarkType.ECO_MARK_AFRICA,\n        label: 'Eco Mark Africa (EMA)'\n      }, {\n        value: MarkType.BOTH,\n        label: 'Both'\n      }];\n      this.markTypeReferences = {\n        [MarkType.ARSO_QUALITY_MARK]: '“The ACAP third-party marks of conformity can be used only after completing a product conformity assessment and the release of the related ARSO certificate of conformity.” (ACAP 1-1:2025, Annex B, B.7(a))',\n        [MarkType.ECO_MARK_AFRICA]: '“The ACAP third-party marks of conformity can be used only after completing a product conformity assessment and the release of the related ARSO certificate of conformity.” (ACAP 1-1:2025, Annex B, B.7(a))',\n        [MarkType.BOTH]: '“The ACAP third-party marks of conformity can be used only after completing a product conformity assessment and the release of the related ARSO certificate of conformity.” (ACAP 1-1:2025, Annex B, B.7(a))'\n      };\n      // Media type options\n      this.mediaTypeOptions = [{\n        value: MediaType.DIGITAL_ONLINE,\n        label: 'Digital/Online'\n      }, {\n        value: MediaType.PRINT,\n        label: 'Print'\n      }, {\n        value: MediaType.BROADCAST,\n        label: 'Broadcast'\n      }, {\n        value: MediaType.OUTDOOR,\n        label: 'Outdoor'\n      }, {\n        value: MediaType.EVENTS,\n        label: 'Events'\n      }, {\n        value: MediaType.SOCIAL_MEDIA,\n        label: 'Social Media'\n      }, {\n        value: MediaType.OTHER,\n        label: 'Other'\n      }];\n      // Promotional purpose options\n      this.promotionalPurposeOptions = [{\n        value: 'NATIONAL_AWARENESS_CAMPAIGN',\n        label: 'National Awareness Campaign'\n      }, {\n        value: 'GOVERNMENT_PUBLICATIONS',\n        label: 'Government Publications'\n      }, {\n        value: 'TRAINING_MATERIALS',\n        label: 'Training Materials'\n      }, {\n        value: 'WEBSITE_PROMOTION',\n        label: 'Website Promotion'\n      }, {\n        value: 'EVENT_MATERIALS',\n        label: 'Event Materials'\n      }, {\n        value: 'OTHER',\n        label: 'Other'\n      }];\n      // Target audience options\n      this.targetAudienceOptions = [{\n        value: 'INDUSTRY',\n        label: 'Industry'\n      }, {\n        value: 'CONSUMERS',\n        label: 'Consumers'\n      }, {\n        value: 'GOVERNMENT_OFFICIALS',\n        label: 'Government Officials'\n      }, {\n        value: 'STUDENTS',\n        label: 'Students'\n      }, {\n        value: 'MEDIA',\n        label: 'Media'\n      }, {\n        value: 'GENERAL_PUBLIC',\n        label: 'General Public'\n      }];\n      // Geographic scope options\n      this.geographicScopeOptions = [{\n        value: 'NATIONAL',\n        label: 'National'\n      }, {\n        value: 'REGIONAL',\n        label: 'Regional'\n      }, {\n        value: 'SPECIFIC_STATES_PROVINCES',\n        label: 'Specific States/Provinces'\n      }, {\n        value: 'LOCAL_CAMPAIGN',\n        label: 'Local Campaign'\n      }];\n      // Language options\n      this.languageOptions = [{\n        value: 'ENGLISH',\n        label: 'English'\n      }, {\n        value: 'FRENCH',\n        label: 'French'\n      }, {\n        value: 'PORTUGUESE',\n        label: 'Portuguese'\n      }, {\n        value: 'ARABIC',\n        label: 'Arabic'\n      }, {\n        value: 'LOCAL_LANGUAGE',\n        label: 'Local Language(s)'\n      }];\n      this.languageReferences = {\n        ENGLISH: '“A reference to the ARSO mark of conformity may also be used on documents, promotional material, etc.” (ACAP 1-1:2025, Annex B, B.7(f))',\n        FRENCH: '“A reference to the ARSO mark of conformity may also be used on documents, promotional material, etc.” (ACAP 1-1:2025, Annex B, B.7(f))',\n        PORTUGUESE: '“A reference to the ARSO mark of conformity may also be used on documents, promotional material, etc.” (ACAP 1-1:2025, Annex B, B.7(f))',\n        ARABIC: '“A reference to the ARSO mark of conformity may also be used on documents, promotional material, etc.” (ACAP 1-1:2025, Annex B, B.7(f))',\n        LOCAL_LANGUAGE: '“A reference to the ARSO mark of conformity may also be used on documents, promotional material, etc.” (ACAP 1-1:2025, Annex B, B.7(f))'\n      };\n      // Color variation options\n      this.colorOptions = [{\n        value: 'FULL_COLOR',\n        label: 'Full Color'\n      }, {\n        value: 'BLACK_WHITE',\n        label: 'Black & White'\n      }, {\n        value: 'GRAYSCALE',\n        label: 'Grayscale'\n      }, {\n        value: 'REVERSED',\n        label: 'Reversed (white on dark)'\n      }, {\n        value: 'PANTONE',\n        label: 'Specific Pantone Colors'\n      }];\n      this.colorReferences = {\n        FULL_COLOR: '“The ARSO Certification Mark shall be used on the product without distortion of the configuration of the mark.” (ACAP 1-1:2025, Annex B, B.7(e))',\n        BLACK_WHITE: '“The ARSO Certification Mark shall be used on the product without distortion of the configuration of the mark.” (ACAP 1-1:2025, Annex B, B.7(e))',\n        GRAYSCALE: '“The ARSO Certification Mark shall be used on the product without distortion of the configuration of the mark.” (ACAP 1-1:2025, Annex B, B.7(e))',\n        REVERSED: '“The ARSO Certification Mark shall be used on the product without distortion of the configuration of the mark.” (ACAP 1-1:2025, Annex B, B.7(e))',\n        PANTONE: '“The ARSO Certification Mark shall be used on the product without distortion of the configuration of the mark.” (ACAP 1-1:2025, Annex B, B.7(e))'\n      };\n      // Document type options\n      this.documentTypeOptions = [{\n        value: 'ACCREDITATION_CERTIFICATE',\n        label: 'Accreditation Certificate'\n      }, {\n        value: 'NSB_BOARD_RESOLUTION',\n        label: 'NSB Board/Management Resolution'\n      }, {\n        value: 'CAMPAIGN_PROPOSAL',\n        label: 'Campaign Proposal'\n      }, {\n        value: 'BUDGET_APPROVAL',\n        label: 'Budget Approval'\n      }, {\n        value: 'PROJECT_DOCUMENT',\n        label: 'Project Document'\n      }, {\n        value: 'OTHER',\n        label: 'Other'\n      }];\n      // File uploads\n      this.placementFiles = [];\n      this.supportingDocuments = [];\n      this.form = this.createForm();\n    }\n    ngOnInit() {\n      this.loadNsbs();\n      this.addSupportingDocumentRow();\n      this.addCbScheme();\n    }\n    createForm() {\n      return this.fb.group({\n        // Section A: Applicant & License Type Information\n        nsbId: [''],\n        applicationReference: [''],\n        licenseTypes: [[]],\n        licenseDuration: [''],\n        licenseDurationOther: [''],\n        // Promotional License Details\n        promotionalLicenseDetails: this.fb.group({\n          primaryPurpose: [''],\n          promoPurposeOther: [''],\n          targetAudience: [[]],\n          geographicScope: [''],\n          budgetEstimate: ['']\n        }),\n        // Certification Body License Details\n        certificationBodyDetails: this.fb.group({\n          cbUnitName: [''],\n          cbAccreditationNumber: [''],\n          cbAccreditationBody: [''],\n          cbAccreditationScope: [''],\n          cbAccreditationExpiry: [''],\n          cbSchemesApplying: this.fb.array([]),\n          cbExpectedVolume: ['']\n        }),\n        // Special Project License Details\n        specialProjectDetails: this.fb.group({\n          projectName: [''],\n          projectFunder: [''],\n          projectDurationStart: [''],\n          projectDurationEnd: [''],\n          projectDescription: [''],\n          projectDeliverables: this.fb.array([]),\n          projectBudget: ['']\n        }),\n        // Section B: Intended Use Details\n        mediaUsage: this.fb.array([]),\n        campaignTimeline: this.fb.array([]),\n        expectedImpactMetrics: this.fb.group({\n          expectedIndustryAwareness: [''],\n          expectedConsumerAwareness: [''],\n          expectedCbApplications: [''],\n          expectedCertifications: [''],\n          expectedMediaCoverage: [''],\n          kpiMeasurementMethod: ['']\n        }),\n        // Section C: Mark Usage Specifications\n        marksRequested: [[]],\n        markColorsNeeded: [[]],\n        markSizesNeeded: [''],\n        markLanguages: [[]],\n        // Compliance Declarations\n        annexBCompliance: [false],\n        brandGuidelinesAck: [false],\n        modificationPolicyAcceptance: [false],\n        // Section D: Declarations\n        declarationSignatory: [''],\n        signatoryTitle: [''],\n        signatoryEmail: [''],\n        auditRightsAcceptance: [false],\n        annualReportingCommitment: [false],\n        dataSharingConsent: [false]\n      });\n    }\n    loadNsbs() {\n      this.loadingNsbs = true;\n      const user = this.authService.currentUserValue;\n      const userRoles = user?.roles || (user?.role ? [user.role] : []);\n      const isAdmin = userRoles.includes(UserRole.SUPER_ADMIN) || userRoles.includes(UserRole.ARSO_SECRETARIAT);\n      if (isAdmin) {\n        this.nsbService.getNsbList({\n          limit: 1000\n        }).pipe(finalize(() => {\n          this.loadingNsbs = false;\n        })).subscribe({\n          next: response => {\n            this.nsbOptions = response.data || [];\n            if (this.activeTab === 'list' && this.nsbOptions.length > 0 && !this.nsb) {\n              this.setSelectedNsb(this.nsbOptions[0]);\n              this.loadApplications(this.nsbOptions[0].id);\n            }\n          },\n          error: () => {\n            this.error = 'Failed to load NSB information. Please ensure you have an NSB profile.';\n            this.nsbOptions = [];\n          }\n        });\n        return;\n      }\n      const countryId = user?.countryId;\n      if (countryId) {\n        this.nsbService.getNsbList({\n          countryId,\n          limit: 1000\n        }).pipe(finalize(() => {\n          this.loadingNsbs = false;\n        })).subscribe({\n          next: response => {\n            this.nsbOptions = response.data || [];\n            if (this.activeTab === 'list' && this.nsbOptions.length > 0 && !this.nsb) {\n              this.setSelectedNsb(this.nsbOptions[0]);\n              this.loadApplications(this.nsbOptions[0].id);\n            }\n          },\n          error: () => {\n            this.error = 'Failed to load NSB information. Please ensure you have an NSB profile.';\n            this.nsbOptions = [];\n          }\n        });\n        return;\n      }\n      this.nsbService.getMyNsb().pipe(finalize(() => {\n        this.loadingNsbs = false;\n      })).subscribe({\n        next: nsb => {\n          this.nsbOptions = nsb ? [nsb] : [];\n          if (this.activeTab === 'list' && nsb && !this.nsb) {\n            this.setSelectedNsb(nsb);\n            this.loadApplications(nsb.id);\n          }\n        },\n        error: () => {\n          this.error = 'Failed to load NSB information. Please ensure you have an NSB profile.';\n          this.nsbOptions = [];\n        }\n      });\n    }\n    onTabChange(tab) {\n      this.activeTab = tab;\n      if (tab === 'form') {\n        this.startNewApplication(true);\n        this.activeStep = 0;\n      } else if (this.nsb?.id) {\n        this.loadApplications(this.nsb.id);\n      } else if (this.nsbOptions.length > 0) {\n        this.setSelectedNsb(this.nsbOptions[0]);\n        this.loadApplications(this.nsbOptions[0].id);\n      }\n    }\n    onNsbChange(nsbId) {\n      const selected = this.nsbOptions.find(item => item.id === nsbId);\n      if (selected) {\n        this.setSelectedNsb(selected);\n        this.startNewApplication(true);\n        if (this.activeTab === 'list') {\n          this.loadApplications(selected.id);\n        }\n      }\n    }\n    setSelectedNsb(nsb) {\n      this.nsb = nsb;\n      this.form.patchValue({\n        nsbId: nsb.id\n      });\n    }\n    loadApplications(nsbId) {\n      this.loadingApplications = true;\n      this.draftApplications = [];\n      this.submittedApplications = [];\n      this.applicationService.getApplicationsByNsb(nsbId, true).subscribe({\n        next: applications => {\n          this.draftApplications = applications.filter(app => app.status === MarkLicenseStatus.DRAFT);\n          this.submittedApplications = applications.filter(app => app.status === MarkLicenseStatus.SUBMITTED);\n          this.loadingApplications = false;\n        },\n        error: () => {\n          this.loadingApplications = false;\n        }\n      });\n    }\n    openDraftApplication(application) {\n      this.existingApplication = application;\n      this.loadApplicationData(application);\n      this.activeTab = 'form';\n      this.activeStep = 0;\n    }\n    loadApplicationData(application) {\n      this.clearFormArrays();\n      this.supportingDocuments = [];\n      this.placementFiles = [];\n      // Load existing application data into form\n      this.form.patchValue({\n        nsbId: application.nsbId\n      });\n      this.form.patchValue({\n        applicationReference: application.applicationReference,\n        licenseTypes: application.licenseTypes,\n        licenseDuration: application.licenseDuration,\n        licenseDurationOther: application.licenseDurationOther,\n        marksRequested: application.marksRequested,\n        markColorsNeeded: application.markColorsNeeded,\n        markSizesNeeded: application.markSizesNeeded,\n        markLanguages: application.markLanguages,\n        declarationSignatory: application.declarationSignatory,\n        signatoryTitle: application.signatoryTitle,\n        signatoryEmail: application.signatoryEmail,\n        annexBCompliance: application.annexBCompliance,\n        brandGuidelinesAck: application.brandGuidelinesAck,\n        modificationPolicyAcceptance: application.modificationPolicyAcceptance,\n        auditRightsAcceptance: application.auditRightsAcceptance,\n        annualReportingCommitment: application.annualReportingCommitment,\n        dataSharingConsent: application.dataSharingConsent\n      });\n      // Load nested objects\n      if (application.promotionalLicenseDetails) {\n        this.form.get('promotionalLicenseDetails')?.patchValue(application.promotionalLicenseDetails);\n      }\n      if (application.certificationBodyDetails) {\n        const {\n          cbSchemesApplying,\n          ...rest\n        } = application.certificationBodyDetails;\n        this.form.get('certificationBodyDetails')?.patchValue(rest);\n        this.cbSchemesArray.clear();\n        if (cbSchemesApplying && cbSchemesApplying.length > 0) {\n          cbSchemesApplying.forEach(scheme => {\n            this.cbSchemesArray.push(this.fb.control(scheme));\n          });\n        }\n      }\n      if (application.specialProjectDetails) {\n        this.form.get('specialProjectDetails')?.patchValue(application.specialProjectDetails);\n        // Load deliverables array\n        if (application.specialProjectDetails.projectDeliverables) {\n          const deliverablesArray = this.form.get('specialProjectDetails.projectDeliverables');\n          application.specialProjectDetails.projectDeliverables.forEach(deliverable => {\n            deliverablesArray.push(this.fb.control(deliverable));\n          });\n        }\n      }\n      if (application.expectedImpactMetrics) {\n        this.form.get('expectedImpactMetrics')?.patchValue(application.expectedImpactMetrics);\n      }\n      // Load media usage array\n      if (application.mediaUsage) {\n        application.mediaUsage.forEach(media => {\n          this.addMediaUsage();\n          const lastIndex = this.mediaUsageArray.length - 1;\n          this.mediaUsageArray.at(lastIndex).patchValue(media);\n        });\n      }\n      // Load campaign timeline array\n      if (application.campaignTimeline) {\n        application.campaignTimeline.forEach(timeline => {\n          this.addCampaignTimeline();\n          const lastIndex = this.campaignTimelineArray.length - 1;\n          this.campaignTimelineArray.at(lastIndex).patchValue(timeline);\n        });\n      }\n      if (application.supportingDocuments) {\n        this.supportingDocuments = application.supportingDocuments.map(doc => ({\n          type: doc.documentType,\n          fileName: doc.fileName,\n          otherName: doc.otherDocumentName\n        }));\n      }\n      if (this.supportingDocuments.length === 0) {\n        this.addSupportingDocumentRow();\n      }\n    }\n    startNewApplication(preserveNsbSelection = false) {\n      this.existingApplication = null;\n      this.success = false;\n      this.error = '';\n      this.clearFormArrays();\n      this.supportingDocuments = [];\n      this.placementFiles = [];\n      this.form.reset({\n        nsbId: preserveNsbSelection ? this.nsb?.id || '' : '',\n        applicationReference: '',\n        licenseTypes: [],\n        licenseDuration: '',\n        licenseDurationOther: '',\n        marksRequested: [],\n        markColorsNeeded: [],\n        markSizesNeeded: '',\n        markLanguages: [],\n        annexBCompliance: false,\n        brandGuidelinesAck: false,\n        modificationPolicyAcceptance: false,\n        declarationSignatory: '',\n        signatoryTitle: '',\n        signatoryEmail: '',\n        auditRightsAcceptance: false,\n        annualReportingCommitment: false,\n        dataSharingConsent: false\n      });\n      this.addSupportingDocumentRow();\n      this.addCbScheme();\n    }\n    // Getters for form arrays\n    get mediaUsageArray() {\n      return this.form.get('mediaUsage');\n    }\n    get campaignTimelineArray() {\n      return this.form.get('campaignTimeline');\n    }\n    get projectDeliverablesArray() {\n      return this.form.get('specialProjectDetails.projectDeliverables');\n    }\n    get cbSchemesArray() {\n      return this.form.get('certificationBodyDetails.cbSchemesApplying');\n    }\n    // Helper methods for conditional validation\n    hasLicenseType(type) {\n      const types = this.form.get('licenseTypes')?.value || [];\n      return types.includes(type);\n    }\n    isDurationOther() {\n      return this.form.get('licenseDuration')?.value === LicenseDurationType.OTHER;\n    }\n    isPromotionalPurposeOther() {\n      return this.form.get('promotionalLicenseDetails.primaryPurpose')?.value === 'OTHER';\n    }\n    // Add/Remove array items\n    addMediaUsage() {\n      const mediaGroup = this.fb.group({\n        mediaType: [''],\n        mediaSpecific: [''],\n        mediaLanguage: [[]],\n        mediaAudienceSize: [''],\n        mediaDuration: [''],\n        mediaBudgetAllocation: ['']\n      });\n      this.mediaUsageArray.push(mediaGroup);\n    }\n    removeMediaUsage(index) {\n      this.mediaUsageArray.removeAt(index);\n    }\n    addCampaignTimeline() {\n      const timelineGroup = this.fb.group({\n        timelinePhase: [''],\n        timelineStart: [''],\n        timelineEnd: [''],\n        timelineMetrics: ['']\n      });\n      this.campaignTimelineArray.push(timelineGroup);\n    }\n    removeCampaignTimeline(index) {\n      this.campaignTimelineArray.removeAt(index);\n    }\n    addProjectDeliverable() {\n      this.projectDeliverablesArray.push(this.fb.control(''));\n    }\n    removeProjectDeliverable(index) {\n      this.projectDeliverablesArray.removeAt(index);\n    }\n    clearFormArrays() {\n      this.mediaUsageArray.clear();\n      this.campaignTimelineArray.clear();\n      this.projectDeliverablesArray.clear();\n      this.cbSchemesArray.clear();\n    }\n    addCbScheme() {\n      this.cbSchemesArray.push(this.fb.control(''));\n    }\n    removeCbScheme(index) {\n      this.cbSchemesArray.removeAt(index);\n      if (this.cbSchemesArray.length === 0) {\n        this.addCbScheme();\n      }\n    }\n    goToStep(index) {\n      this.activeStep = index;\n    }\n    nextStep() {\n      if (this.activeStep < this.steps.length - 1) {\n        this.activeStep += 1;\n      }\n    }\n    previousStep() {\n      if (this.activeStep > 0) {\n        this.activeStep -= 1;\n      }\n    }\n    // File upload handlers\n    onPlacementFileSelected(event) {\n      const files = Array.from(event.target.files);\n      this.placementFiles = [...this.placementFiles, ...files];\n    }\n    removePlacementFile(index) {\n      this.placementFiles.splice(index, 1);\n    }\n    addSupportingDocumentRow(type = this.documentTypeOptions[0].value) {\n      this.supportingDocuments.push({\n        type\n      });\n    }\n    updateSupportingDocumentType(index, type) {\n      const doc = this.supportingDocuments[index];\n      if (doc) {\n        doc.type = type;\n        if (type !== 'OTHER') {\n          doc.otherName = undefined;\n        }\n      }\n    }\n    updateSupportingDocumentName(index, name) {\n      const doc = this.supportingDocuments[index];\n      if (doc) {\n        doc.otherName = name;\n      }\n    }\n    onSupportingDocumentSelected(event, index) {\n      const file = event.target.files[0];\n      if (file) {\n        const doc = this.supportingDocuments[index];\n        if (doc) {\n          doc.file = file;\n          doc.fileName = file.name;\n        }\n      }\n    }\n    removeSupportingDocument(index) {\n      this.supportingDocuments.splice(index, 1);\n      if (this.supportingDocuments.length === 0) {\n        this.addSupportingDocumentRow();\n      }\n    }\n    // Form submission\n    saveDraft() {\n      this.saving = true;\n      this.error = '';\n      const formValue = this.form.getRawValue();\n      const payload = {\n        ...formValue,\n        supportingDocuments: this.supportingDocuments.filter(doc => doc.file || doc.fileName).map(doc => ({\n          documentType: doc.type,\n          fileName: doc.file?.name || doc.fileName || '',\n          otherDocumentName: doc.otherName\n        }))\n      };\n      const operation = this.existingApplication ? this.applicationService.updateApplication(this.existingApplication.id, payload) : this.applicationService.createApplication(payload);\n      operation.pipe(finalize(() => {\n        this.saving = false;\n      })).subscribe({\n        next: application => {\n          this.existingApplication = application;\n          this.success = true;\n          this.successMessage = 'Application saved as draft successfully.';\n          setTimeout(() => {\n            this.success = false;\n          }, 3000);\n        },\n        error: err => {\n          this.error = err.error?.message || 'Failed to save application. Please try again.';\n        }\n      });\n    }\n    submitApplication() {\n      if (this.form.invalid) {\n        this.markFormGroupTouched(this.form);\n        this.error = 'Please fill in all required fields correctly before submitting.';\n        return;\n      }\n      if (!this.existingApplication) {\n        this.error = 'Please save the application as draft first.';\n        return;\n      }\n      this.submitting = true;\n      this.error = '';\n      this.applicationService.submitApplication(this.existingApplication.id).pipe(finalize(() => {\n        this.submitting = false;\n      })).subscribe({\n        next: () => {\n          this.success = true;\n          this.successMessage = 'Application submitted successfully!';\n          setTimeout(() => {\n            this.router.navigate(['/portal/mark-licenses/dashboard']);\n          }, 2000);\n        },\n        error: err => {\n          this.error = err.error?.message || 'Failed to submit application. Please try again.';\n        }\n      });\n    }\n    markFormGroupTouched(formGroup) {\n      Object.keys(formGroup.controls).forEach(key => {\n        const control = formGroup.get(key);\n        control?.markAsTouched();\n        if (control instanceof FormGroup) {\n          this.markFormGroupTouched(control);\n        } else if (control instanceof FormArray) {\n          control.controls.forEach(arrayControl => {\n            if (arrayControl instanceof FormGroup) {\n              this.markFormGroupTouched(arrayControl);\n            } else {\n              arrayControl.markAsTouched();\n            }\n          });\n        }\n      });\n    }\n    static {\n      this.ɵfac = function MarkLicenseApplicationComponent_Factory(t) {\n        return new (t || MarkLicenseApplicationComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.MarkLicenseApplicationService), i0.ɵɵdirectiveInject(i3.NsbService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i5.AuthService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: MarkLicenseApplicationComponent,\n        selectors: [[\"app-mark-license-application\"]],\n        decls: 63,\n        vars: 31,\n        consts: [[1, \"flex\", \"flex-col\", \"h-full\", \"bg-gray-50\"], [1, \"bg-white\", \"shadow-sm\", \"border-b\", \"px-8\", \"py-4\"], [1, \"text-2xl\", \"font-bold\", \"text-gray-800\", \"mb-6\"], [1, \"flex\", \"items-center\", \"justify-between\", \"max-w-4xl\", \"mx-auto\"], [1, \"flex\", \"flex-col\", \"items-center\", \"relative\", \"z-10\", \"cursor-pointer\", 3, \"click\"], [1, \"w-10\", \"h-10\", \"rounded-full\", \"flex\", \"items-center\", \"justify-center\", \"font-bold\", \"transition-colors\", \"duration-300\", 3, \"ngClass\"], [1, \"text-sm\", \"mt-2\", \"font-medium\", 3, \"ngClass\"], [1, \"flex-1\", \"h-1\", \"mx-4\", \"bg-gray-200\", \"relative\", \"top-[-14px]\", \"-z-0\"], [1, \"h-full\", \"bg-blue-600\", \"transition-all\", \"duration-300\"], [1, \"flex\", \"flex-1\", \"overflow-hidden\"], [1, \"flex-1\", \"overflow-y-auto\", \"p-8\"], [1, \"max-w-4xl\", \"mx-auto\"], [\"class\", \"animate-fade-in\", 4, \"ngIf\"], [1, \"w-80\", \"bg-white\", \"border-l\", \"shadow-xl\", \"overflow-y-auto\", \"hidden\", \"lg:block\", \"sticky\", \"top-0\", \"h-full\"], [1, \"p-5\"], [1, \"text-sm\", \"font-bold\", \"text-gray-400\", \"uppercase\", \"tracking-wider\", \"mb-4\"], [1, \"space-y-4\"], [1, \"p-3\", \"bg-gray-50\", \"rounded\", \"border\", \"border-gray-100\", \"text-xs\"], [1, \"font-bold\", \"text-gray-700\", \"mb-1\"], [1, \"text-gray-600\", \"italic\"], [1, \"mt-6\", \"border-t\", \"pt-4\"], [1, \"text-xs\", \"text-gray-400\", \"text-center\"], [1, \"animate-fade-in\"], [1, \"bg-white\", \"rounded-lg\", \"shadow-md\", \"p-6\", \"mb-6\"], [1, \"text-xl\", \"font-semibold\", \"text-gray-800\", \"border-b\", \"pb-3\", \"mb-4\"], [1, \"text-gray-600\", \"mb-6\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"gap-6\"], [1, \"form-group\"], [1, \"text-sm\", \"font-medium\", \"text-gray-500\"], [1, \"text-lg\", \"text-gray-800\", \"font-medium\"], [1, \"form-group\", \"md:col-span-2\"], [1, \"flex\", \"justify-end\", \"gap-3\", \"mt-6\"], [1, \"px-6\", \"py-2\", \"border\", \"border-blue-600\", \"text-blue-600\", \"rounded-md\", \"hover:bg-blue-50\", \"transition\", 3, \"click\"], [1, \"px-6\", \"py-2\", \"bg-blue-600\", \"text-white\", \"rounded-md\", \"hover:bg-blue-700\", \"transition\", \"shadow-sm\", 3, \"click\"], [3, \"formGroup\"], [1, \"text-red-500\"], [1, \"space-y-6\"], [1, \"p-4\", \"border\", \"rounded-lg\", \"bg-gray-50\", \"hover:bg-white\", \"hover:shadow-sm\", \"transition-all\"], [1, \"flex\", \"items-start\", \"gap-3\", \"cursor-pointer\"], [\"type\", \"checkbox\", \"formControlName\", \"promotionalLicense\", 1, \"mt-1\", \"w-5\", \"h-5\", \"text-blue-600\", \"rounded\", \"focus:ring-blue-500\"], [1, \"flex-1\"], [1, \"font-bold\", \"text-gray-800\", \"block\"], [1, \"text-sm\", \"text-gray-500\", \"mt-1\"], [1, \"mt-3\", \"text-xs\", \"text-gray-600\", \"italic\", \"bg-blue-50\", \"p-2\", \"rounded\", \"border-l-4\", \"border-blue-300\"], [\"type\", \"checkbox\", \"formControlName\", \"certificationBodyLicense\", 1, \"mt-1\", \"w-5\", \"h-5\", \"text-blue-600\", \"rounded\", \"focus:ring-blue-500\"], [\"type\", \"checkbox\", \"formControlName\", \"specialProjectLicense\", 1, \"mt-1\", \"w-5\", \"h-5\", \"text-blue-600\", \"rounded\", \"focus:ring-blue-500\"], [1, \"text-sm\", \"text-gray-500\", \"mb-4\"], [1, \"p-4\", \"border\", \"rounded-lg\", \"bg-gray-50\"], [\"type\", \"checkbox\", \"formControlName\", \"agreementCompliance\", 1, \"mt-1\", \"w-5\", \"h-5\", \"text-blue-600\", \"rounded\", \"focus:ring-blue-500\"], [1, \"font-bold\", \"text-gray-800\"], [1, \"mt-2\", \"text-sm\", \"text-gray-600\", \"italic\", \"bg-gray-100\", \"p-3\", \"rounded-md\", \"border-l-4\", \"border-gray-400\"], [\"type\", \"checkbox\", \"formControlName\", \"markUsageCompliance\", 1, \"mt-1\", \"w-5\", \"h-5\", \"text-blue-600\", \"rounded\", \"focus:ring-blue-500\"], [\"type\", \"checkbox\", \"formControlName\", \"misleadingStatementsCompliance\", 1, \"mt-1\", \"w-5\", \"h-5\", \"text-blue-600\", \"rounded\", \"focus:ring-blue-500\"], [\"type\", \"checkbox\", \"formControlName\", \"changesCompliance\", 1, \"mt-1\", \"w-5\", \"h-5\", \"text-blue-600\", \"rounded\", \"focus:ring-blue-500\"], [1, \"flex\", \"justify-between\", \"mt-6\"], [1, \"px-6\", \"py-2\", \"border\", \"border-gray-300\", \"text-gray-700\", \"rounded-md\", \"hover:bg-gray-50\", \"transition\", 3, \"click\"], [1, \"flex\", \"gap-3\"], [1, \"bg-white\", \"rounded-lg\", \"shadow-md\", \"p-6\", \"mb-6\", \"text-center\"], [1, \"w-16\", \"h-16\", \"bg-green-100\", \"text-green-600\", \"rounded-full\", \"flex\", \"items-center\", \"justify-center\", \"mx-auto\", \"mb-4\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"fill\", \"none\", \"viewBox\", \"0 0 24 24\", \"stroke\", \"currentColor\", 1, \"h-8\", \"w-8\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"], [1, \"text-2xl\", \"font-bold\", \"text-gray-800\", \"mb-2\"], [1, \"bg-blue-50\", \"p-4\", \"rounded-lg\", \"text-left\", \"mb-6\", \"border\", \"border-blue-100\"], [1, \"font-bold\", \"text-blue-800\", \"mb-2\"], [1, \"mb-1\"], [1, \"font-semibold\"], [1, \"px-8\", \"py-2\", \"bg-green-600\", \"text-white\", \"rounded-md\", \"hover:bg-green-700\", \"transition\", \"shadow-lg\", \"font-medium\", 3, \"click\"]],\n        template: function MarkLicenseApplicationComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n            i0.ɵɵtext(3, \"ARSO Mark License Application\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\", 4);\n            i0.ɵɵlistener(\"click\", function MarkLicenseApplicationComponent_Template_div_click_5_listener() {\n              return ctx.goToStep(1);\n            });\n            i0.ɵɵelementStart(6, \"div\", 5);\n            i0.ɵɵtext(7, \" 1 \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"span\", 6);\n            i0.ɵɵtext(9, \"NSB Profile\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(10, \"div\", 7);\n            i0.ɵɵelement(11, \"div\", 8);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(12, \"div\", 4);\n            i0.ɵɵlistener(\"click\", function MarkLicenseApplicationComponent_Template_div_click_12_listener() {\n              return ctx.goToStep(2);\n            });\n            i0.ɵɵelementStart(13, \"div\", 5);\n            i0.ɵɵtext(14, \" 2 \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(15, \"span\", 6);\n            i0.ɵɵtext(16, \"License Details\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(17, \"div\", 7);\n            i0.ɵɵelement(18, \"div\", 8);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(19, \"div\", 4);\n            i0.ɵɵlistener(\"click\", function MarkLicenseApplicationComponent_Template_div_click_19_listener() {\n              return ctx.goToStep(3);\n            });\n            i0.ɵɵelementStart(20, \"div\", 5);\n            i0.ɵɵtext(21, \" 3 \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(22, \"span\", 6);\n            i0.ɵɵtext(23, \"Review & Submit\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(24, \"div\", 9)(25, \"div\", 10)(26, \"div\", 11);\n            i0.ɵɵtemplate(27, MarkLicenseApplicationComponent_div_27_Template, 37, 5, \"div\", 12);\n            i0.ɵɵtemplate(28, MarkLicenseApplicationComponent_div_28_Template, 84, 1, \"div\", 12);\n            i0.ɵɵtemplate(29, MarkLicenseApplicationComponent_div_29_Template, 32, 4, \"div\", 12);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(30, \"div\", 13)(31, \"div\", 14)(32, \"h3\", 15);\n            i0.ɵɵtext(33, \"ISO/IEC 17065:2012 Reference\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(34, \"div\", 16)(35, \"div\", 17)(36, \"div\", 18);\n            i0.ɵɵtext(37, \"4.1.2 Certification agreement\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(38, \"p\", 19);\n            i0.ɵɵtext(39, \"\\\"The certification body shall have a legally enforceable agreement for the provision of certification activities to its clients.\\\"\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(40, \"div\", 17)(41, \"div\", 18);\n            i0.ɵɵtext(42, \"4.2 Management of impartiality\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(43, \"p\", 19);\n            i0.ɵɵtext(44, \"\\\"Certification activities shall be undertaken impartially. The certification body shall be responsible for the impartiality of its certification activities...\\\"\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(45, \"div\", 17)(46, \"div\", 18);\n            i0.ɵɵtext(47, \"4.4 Non-discriminatory conditions\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(48, \"p\", 19);\n            i0.ɵɵtext(49, \"\\\"The policies and procedures under which the certification body operates, and the administration of them, shall be non-discriminatory.\\\"\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(50, \"div\", 17)(51, \"div\", 18);\n            i0.ɵɵtext(52, \"4.5 Confidentiality\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(53, \"p\", 19);\n            i0.ɵɵtext(54, \"\\\"The certification body shall be responsible, through legally enforceable commitments, for the management of all information obtained or created...\\\"\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(55, \"div\", 17)(56, \"div\", 18);\n            i0.ɵɵtext(57, \"5.1 Organizational structure\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(58, \"p\", 19);\n            i0.ɵɵtext(59, \"\\\"Certification activities shall be structured and managed so as to safeguard impartiality.\\\"\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(60, \"div\", 20)(61, \"p\", 21);\n            i0.ɵɵtext(62, \"ARSO Conformity Assessment Programme\");\n            i0.ɵɵelementEnd()()()()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(6);\n            i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(13, _c0, ctx.currentStep >= 1, ctx.currentStep < 1));\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(16, _c1, ctx.currentStep >= 1, ctx.currentStep < 1));\n            i0.ɵɵadvance(3);\n            i0.ɵɵstyleProp(\"width\", ctx.currentStep >= 2 ? \"100%\" : \"0%\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(19, _c0, ctx.currentStep >= 2, ctx.currentStep < 2));\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(22, _c1, ctx.currentStep >= 2, ctx.currentStep < 2));\n            i0.ɵɵadvance(3);\n            i0.ɵɵstyleProp(\"width\", ctx.currentStep >= 3 ? \"100%\" : \"0%\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(25, _c0, ctx.currentStep >= 3, ctx.currentStep < 3));\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(28, _c1, ctx.currentStep >= 3, ctx.currentStep < 3));\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngIf\", ctx.currentStep === 1);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.currentStep === 2);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.currentStep === 3);\n          }\n        },\n        dependencies: [i6.NgClass, i6.NgIf, i1.ɵNgNoValidate, i1.CheckboxControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n        styles: [\"[_nghost-%COMP%]{display:block;width:100%}.text-red-500[_ngcontent-%COMP%]{color:#94a3b8}section[_ngcontent-%COMP%]{scroll-margin-top:2rem}.array-item[_ngcontent-%COMP%]{transition:all .2s ease}.array-item[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px #0000001a}.file-upload-area[_ngcontent-%COMP%]{border:2px dashed #cbd5e1;border-radius:.5rem;padding:1.5rem;text-align:center;transition:all .2s ease}.file-upload-area[_ngcontent-%COMP%]:hover{border-color:#94a3b8;background-color:#f8fafc}.loading-spinner[_ngcontent-%COMP%]{display:inline-block;width:1rem;height:1rem;border:2px solid #e5e7eb;border-top-color:#64748b;border-radius:50%;animation:_ngcontent-%COMP%_spin .6s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.error-message[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .3s ease}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.success-message[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .3s ease}@media (max-width: 768px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}\"]\n      });\n    }\n  }\n  return MarkLicenseApplicationComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}