<div class="min-h-screen bg-white p-8">
  <div class="max-w-5xl mx-auto">
    <div class="mb-10 flex items-end justify-between border-b border-gray-100 pb-6">
      <div>
        <h1 class="text-2xl font-bold text-gray-900">Communication History</h1>
        <p class="text-sm text-gray-400 mt-1 uppercase tracking-tight font-medium">Traceability Log of System & Stakeholder Communications</p>
      </div>
      <div class="flex gap-2">
        <select 
          [(ngModel)]="filterType"
          class="px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none bg-white"
        >
          <option value="ALL">All Types</option>
          <option value="EMAIL">Email Only</option>
          <option value="SYSTEM">System Only</option>
        </select>
        <button class="p-2 border border-gray-200 rounded text-gray-400 hover:text-gray-600 transition-colors">
          <i class="fas fa-filter text-sm"></i>
        </button>
      </div>
    </div>

    <div *ngIf="loading" class="text-center py-12">
      <i class="fas fa-spinner fa-spin text-2xl text-gray-400 mb-2"></i>
      <p class="text-sm text-gray-500">Loading communication history...</p>
    </div>

    <div *ngIf="!loading && filteredLogs.length === 0" class="text-center py-12 border border-gray-200 rounded-xl">
      <i class="fas fa-inbox text-4xl text-gray-300 mb-4"></i>
      <p class="text-sm text-gray-500 font-medium">No communication history found</p>
      <p class="text-xs text-gray-400 mt-1">Communication logs will appear here once notifications are sent</p>
    </div>

    <div class="space-y-4">
      <div *ngFor="let log of filteredLogs" class="p-5 border border-gray-200 rounded-xl hover:shadow-md transition-all group flex items-start gap-6">
        <div class="flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center text-lg border" [ngClass]="log.type === 'EMAIL' ? 'bg-blue-50 text-blue-500 border-blue-200' : 'bg-orange-50 text-orange-500 border-orange-200'">
          <i class="fas" [ngClass]="log.type === 'EMAIL' ? 'fa-envelope' : 'fa-bell'"></i>
        </div>
        <div class="flex-1">
          <div class="flex items-center justify-between mb-2">
            <span class="text-[10px] font-bold text-gray-400 uppercase tracking-widest border border-gray-200 px-2 py-0.5 rounded">{{ log.type }} Notification</span>
            <span class="text-xs font-medium text-gray-400">{{ log.timestamp | date:'medium' }}</span>
          </div>
          <h4 class="text-sm font-bold text-gray-800 mb-1">{{ log.subject }}</h4>
          <p class="text-xs text-gray-600 leading-relaxed">{{ log.message }}</p>
          <div class="mt-4 flex items-center gap-4 text-[10px] font-bold text-gray-400 uppercase">
            <span class="flex items-center gap-1.5 border border-gray-200 px-2 py-1 rounded">
              <i class="fas fa-user-circle"></i> Recipient: {{ log.recipient }}
            </span>
            <span class="flex items-center gap-1.5 border px-2 py-1 rounded" [ngClass]="log.status === 'DELIVERED' ? 'border-green-200 bg-green-50 text-green-600' : log.status === 'FAILED' ? 'border-red-200 bg-red-50 text-red-600' : 'border-yellow-200 bg-yellow-50 text-yellow-600'">
              <i class="fas" [ngClass]="log.status === 'DELIVERED' ? 'fa-check-circle' : log.status === 'FAILED' ? 'fa-times-circle' : 'fa-clock'"></i> Status: {{ log.status }}
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

